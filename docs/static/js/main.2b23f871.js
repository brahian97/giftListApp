/*! For license information please see main.2b23f871.js.LICENSE.txt */
!function(){var e={1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=d(n,y);try{c(t,y,g)}catch(w){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return k(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||k(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===d},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===m},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===o},t.isSuspense=function(e){return k(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===w||e.$$typeof===b||e.$$typeof===y)},t.typeOf=k},8309:function(e,t,n){"use strict";e.exports=n(746)},2176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function h(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Yn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function y(e){if(null==e._isValid){var t=m(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?h(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var w=r.momentProperties=[],b=!1;function k(e,t){var n,r,i,a=w.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)c(i=t[r=w[n]])||(e[r]=i);return e}function x(e){k(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function _(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return h((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,u=[],c=arguments.length;for(a=0;a<c;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];u.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var I,T={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(S(t),T[e]=!0)}function N(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)s(e,n)&&(N(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(e,t){var n,r=h({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(r[n]=h({},r[n]));return r}function D(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,I=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return N(r)?r.call(t,n):r}function L(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var M=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},U={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return L(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,r=e.match(M);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=B(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=N(r[i])?r[i].call(t,e):r[i];return a}}function q(e,t){return e.isValid()?(t=H(t,e.localeData()),F[t]=F[t]||z(t),F[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;n>=0&&j.test(e);)e=e.replace(j,r),j.lastIndex=0,n-=1;return e}var W={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(M).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var K="Invalid date";function Y(){return this._invalidDate}var Q="%d",$=/\d{1,2}/;function X(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,n,r){var i=this._relativeTime[n];return N(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(he(this,e,n),r.updateOffset(this,t),this):de(this,e)}}function de(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function he(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ze(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return N(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=se(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(N(this[e=re(e)]))return this[e](t);return this}var me,ye=/\d/,ge=/\d\d/,we=/\d{3}/,be=/\d{4}/,ke=/[+-]?\d{6}/,xe=/\d\d?/,_e=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Ee=/\d{1,3}/,Ie=/\d{1,4}/,Te=/[+-]?\d{1,6}/,Ce=/\d+/,Ne=/[+-]?\d+/,Oe=/Z|[+-]\d\d:?\d\d/gi,Ae=/Z|[+-]\d\d(?::?\d\d)?/gi,De=/[+-]?\d+(\.\d{1,3})?/,Pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Re(e,t,n){me[e]=N(t)?t:function(e,r){return e&&n?n:t}}function Le(e,t){return s(me,e)?me[e](t._strict,t._locale):new RegExp(Me(e))}function Me(e){return je(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function je(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var Fe={};function Ue(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=le(e)}),r=e.length,n=0;n<r;n++)Fe[e[n]]=i}function Ve(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Be(e,t,n){null!=t&&s(Fe,e)&&Fe[e](t,n._a,n,e)}var ze,qe=0,He=1,We=2,Ge=3,Ke=4,Ye=5,Qe=6,$e=7,Xe=8;function Je(e,t){return(e%t+t)%t}function Ze(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}ze=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Re("M",xe),Re("MM",xe,ge),Re("MMM",(function(e,t){return t.monthsShortRegex(e)})),Re("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[He]=le(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[He]=i:m(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Pe,it=Pe;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=ze.call(this._shortMonthsParse,o))?i:null:-1!==(i=ze.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=ze.call(this._shortMonthsParse,o))||-1!==(i=ze.call(this._longMonthsParse,o))?i:null:-1!==(i=ze.call(this._longMonthsParse,o))||-1!==(i=ze.call(this._shortMonthsParse,o))?i:null}function ut(e,t,n){var r,i,a;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ze(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):de(this,"Month")}function ft(){return Ze(this.year(),this.month())}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=je(r[t]),i[t]=je(i[t]);for(t=0;t<24;t++)a[t]=je(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?L(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Re("Y",Ne),Re("YY",xe,ge),Re("YYYY",Ie,be),Re("YYYYY",Te,ke),Re("YYYYYY",Te,ke),Ue(["YYYYY","YYYYYY"],qe),Ue("YYYY",(function(e,t){t[qe]=2===e.length?r.parseTwoDigitYear(e):le(e)})),Ue("YY",(function(e,t){t[qe]=r.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[qe]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var mt=fe("FullYear",!0);function yt(){return ue(this.year())}function gt(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function wt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var r=7+t-n;return-(7+wt(e,0,r).getUTCDay()-t)%7+r-1}function kt(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+bt(e,r,i);return s<=0?o=vt(a=e-1)+s:s>vt(e)?(a=e+1,o=s-vt(e)):(a=e,o=s),{year:a,dayOfYear:o}}function xt(e,t,n){var r,i,a=bt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+_t(i=e.year()-1,t,n):o>_t(e.year(),t,n)?(r=o-_t(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function _t(e,t,n){var r=bt(e,t,n),i=bt(e+1,t,n);return(vt(e)-r+i)/7}function St(e){return xt(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Re("w",xe),Re("ww",xe,ge),Re("W",xe),Re("WW",xe,ge),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var Et={dow:0,doy:6};function It(){return this._week.dow}function Tt(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Nt(e){var t=xt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ot(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function At(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Dt(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Re("d",xe),Re("e",xe),Re("E",xe),Re("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Re("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Re("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Rt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Lt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mt=Pe,jt=Pe,Ft=Pe;function Ut(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Dt(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Dt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Bt(e){return!0===e?Dt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function zt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=ze.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ze.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=ze.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=ze.call(this._weekdaysParse,o))||-1!==(i=ze.call(this._shortWeekdaysParse,o))||-1!==(i=ze.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ze.call(this._shortWeekdaysParse,o))||-1!==(i=ze.call(this._weekdaysParse,o))||-1!==(i=ze.call(this._minWeekdaysParse,o))?i:null:-1!==(i=ze.call(this._minWeekdaysParse,o))||-1!==(i=ze.call(this._weekdaysParse,o))||-1!==(i=ze.call(this._shortWeekdaysParse,o))?i:null}function qt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return zt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ot(e,this.localeData()),this.add(e-t,"d")):t}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Gt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=At(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Mt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $t(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=je(this.weekdaysMin(n,"")),i=je(this.weekdaysShort(n,"")),a=je(this.weekdays(n,"")),o.push(r),s.push(i),u.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Zt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Xt),V("k",["kk",2],0,Jt),V("hmm",0,0,(function(){return""+Xt.apply(this)+L(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Xt.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+L(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),ne("hour","h"),oe("hour",13),Re("a",en),Re("A",en),Re("H",xe),Re("h",xe),Re("k",xe),Re("HH",xe,ge),Re("hh",xe,ge),Re("kk",xe,ge),Re("hmm",_e),Re("hmmss",Se),Re("Hmm",_e),Re("Hmmss",Se),Ue(["H","HH"],Ge),Ue(["k","kk"],(function(e,t,n){var r=le(e);t[Ge]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[Ge]=le(e),m(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r)),m(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ye]=le(e.substr(i)),m(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ye]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn={calendar:P,longDateFormat:W,invalidDate:K,ordinal:Q,dayOfMonthOrdinalParse:$,relativeTime:J,months:et,monthsShort:tt,week:Et,weekdays:Pt,weekdaysMin:Lt,weekdaysShort:Rt,meridiemParse:nn},un={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function dn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=fn(e[a]).split("-")).length,n=(n=fn(e[a+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}a++}return on}function hn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===un[t]&&e&&e.exports&&hn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),vn(n)}catch(r){un[t]=null}return un[t]}function vn(e,t){var n;return e&&((n=c(t)?gn(e):mn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function mn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new D(A(r,t)),cn[e]&&cn[e].forEach((function(e){mn(e.name,e.config)})),vn(e),un[e]}return delete un[e],null}function yn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(A(un[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=A(i,t),null==r&&(t.abbr=e),(n=new D(t)).parentLocale=un[e],un[e]=n),vn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===vn()&&vn(e)):null!=un[e]&&delete un[e]);return un[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=pn(e))return t;e=[e]}return dn(e)}function wn(){return I(un)}function bn(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[He]<0||n[He]>11?He:n[We]<1||n[We]>Ze(n[qe],n[He])?We:n[Ge]<0||n[Ge]>24||24===n[Ge]&&(0!==n[Ke]||0!==n[Ye]||0!==n[Qe])?Ge:n[Ke]<0||n[Ke]>59?Ke:n[Ye]<0||n[Ye]>59?Ye:n[Qe]<0||n[Qe]>999?Qe:-1,m(e)._overflowDayOfYear&&(t<qe||t>We)&&(t=We),m(e)._overflowWeeks&&-1===t&&(t=$e),m(e)._overflowWeekday&&-1===t&&(t=Xe),m(e).overflow=t),e}var kn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],In=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Nn(e){var t,n,r,i,a,o,s=e._i,u=kn.exec(s)||xn.exec(s),c=Sn.length,l=En.length;if(u){for(m(e).iso=!0,t=0,n=c;t<n;t++)if(Sn[t][1].exec(u[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=l;t<n;t++)if(En[t][1].exec(u[3])){a=(u[2]||" ")+En[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!_n.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Bn(e)}else e._isValid=!1}function On(e,t,n,r,i,a){var o=[An(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function An(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Dn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Pn(e,t,n){return!e||Rt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Rn(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Ln(e){var t,n=Tn.exec(Dn(e._i));if(n){if(t=On(n[4],n[3],n[2],n[5],n[6],n[7]),!Pn(n[1],t,e))return;e._a=t,e._tzm=Rn(n[8],n[9],n[10]),e._d=wt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function Mn(e){var t=In.exec(e._i);null===t?(Nn(e),!1===e._isValid&&(delete e._isValid,Ln(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function jn(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,r,i,a,o=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[We]&&null==e._a[He]&&Vn(e),null!=e._dayOfYear&&(a=jn(e._a[qe],r[qe]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=wt(a,0,e._dayOfYear),e._a[He]=n.getUTCMonth(),e._a[We]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ge]&&0===e._a[Ke]&&0===e._a[Ye]&&0===e._a[Qe]&&(e._nextDay=!0,e._a[Ge]=0),e._d=(e._useUTC?wt:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ge]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function Vn(e){var t,n,r,i,a,o,s,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=jn(t.GG,e._a[qe],xt(Qn(),1,4).year),r=jn(t.W,1),((i=jn(t.E,1))<1||i>7)&&(u=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=xt(Qn(),a,o),n=jn(t.gg,e._a[qe],c.year),r=jn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),r<1||r>_t(n,a,o)?m(e)._overflowWeeks=!0:null!=u?m(e)._overflowWeekday=!0:(s=kt(n,r,i,a,o),e._a[qe]=s.year,e._dayOfYear=s.dayOfYear)}function Bn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,a,o,s,u,c=""+e._i,l=c.length,f=0;for(u=(i=H(e._f,e._locale).match(M)||[]).length,t=0;t<u;t++)a=i[t],(n=(c.match(Le(a,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&m(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),f+=n.length),U[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),Be(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=l-f,c.length>0&&m(e).unusedInput.push(c),e._a[Ge]<=12&&!0===m(e).bigHour&&e._a[Ge]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[Ge]=zn(e._locale,e._a[Ge],e._meridiem),null!==(s=m(e).era)&&(e._a[qe]=e._locale.erasConvertYear(s,e._a[qe])),Un(e),bn(e)}else Ln(e);else Nn(e)}function zn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function qn(e){var t,n,r,i,a,o,s=!1,u=e._f.length;if(0===u)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)a=0,o=!1,t=k({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Bn(t),y(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,s?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(s=!0));h(e,n||t)}function Hn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function Wn(e){var t=new x(bn(Gn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new x(bn(t)):(f(t)?e._d=t:a(n)?qn(e):n?Bn(e):Kn(e),y(e)||(e._d=null),e))}function Kn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Mn(e):a(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):o(t)?Hn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Yn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Wn(s)}function Qn(e,t,n,r){return Yn(e,t,n,r,!1)}r.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var $n=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Xn=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Jn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Qn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Zn(){return Jn("isBefore",[].slice.call(arguments,0))}function er(){return Jn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(s(e,t)&&(-1===ze.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==le(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function ar(){return Cr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function sr(e){return e instanceof or}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&o++;return o+a}function lr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+L(~~(e/60),2)+t+L(~~e%60,2)}))}lr("Z",":"),lr("ZZ",""),Re("Z",Ae),Re("ZZ",Ae),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=dr(Ae,e)}));var fr=/([\+\-]|\d\d)/gi;function dr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(fr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function hr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(_(e)||f(e)?e.valueOf():Qn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Qn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=dr(Ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Pr(this,Cr(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:pr(this)}function mr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function gr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function wr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=dr(Oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?Qn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function kr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xr(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return k(t,this),(t=Gn(t))._a?(e=t._isUTC?p(t._a):Qn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _r(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function Er(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ir=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,a=e,o=null;return sr(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Ir.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:le(o[We])*n,h:le(o[Ge])*n,m:le(o[Ke])*n,s:le(o[Ye])*n,ms:le(ur(1e3*o[Qe]))*n}):(o=Tr.exec(e))?(n="-"===o[1]?-1:1,a={y:Nr(o[2],n),M:Nr(o[3],n),w:Nr(o[4],n),d:Nr(o[5],n),h:Nr(o[6],n),m:Nr(o[7],n),s:Nr(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Ar(Qn(a.from),Qn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new or(a),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Nr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Or(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ar(e,t){var n;return e.isValid()&&t.isValid()?(t=hr(t,e),e.isBefore(t)?n=Or(e,t):((n=Or(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Dr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Pr(this,Cr(n,r),e),this}}function Pr(e,t,n,i){var a=t._milliseconds,o=ur(t._days),s=ur(t._months);e.isValid()&&(i=null==i||i,s&&ct(e,de(e,"Month")+s*n),o&&he(e,"Date",de(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Cr.fn=or.prototype,Cr.invalid=ar;var Rr=Dr(1,"add"),Lr=Dr(-1,"subtract");function Mr(e){return"string"===typeof e||e instanceof String}function jr(e){return _(e)||f(e)||Mr(e)||l(e)||Ur(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=o(e)&&!u(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=a.length;for(t=0;t<c;t+=1)n=a[t],i=i||s(e,n);return r&&i}function Ur(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Mr(e)})).length),t&&n}function Vr(e){var t,n,r=o(e)&&!u(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||s(e,n);return r&&i}function Br(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function zr(e,t){1===arguments.length&&(arguments[0]?jr(arguments[0])?(e=arguments[0],t=void 0):Vr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Qn(),i=hr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(N(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Qn(n)))}function qr(){return new x(this)}function Hr(e,t){var n=_(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Wr(e,t){var n=_(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Gr(e,t,n,r){var i=_(e)?e:Qn(e),a=_(t)?t:Qn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Kr(e,t){var n,r=_(e)?e:Qn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Yr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function $r(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=hr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=Xr(this,r)/12;break;case"month":a=Xr(this,r);break;case"quarter":a=Xr(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:ce(a)}function Xr(e,t){if(e.date()<t.date())return-Xr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Jr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z")):q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(_(e)&&e.isValid()||Qn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Qn(),e)}function ii(e,t){return this.isValid()&&(_(e)&&e.isValid()||Qn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to(Qn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var ci=1e3,li=60*ci,fi=60*li,di=3506328*fi;function hi(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-di:new Date(e,t,n).valueOf()}function vi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-di:Date.UTC(e,t,n)}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hi(t+(this._isUTC?0:this.utcOffset()*li),fi);break;case"minute":t=this._d.valueOf(),t-=hi(t,li);break;case"second":t=this._d.valueOf(),t-=hi(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=fi-hi(t+(this._isUTC?0:this.utcOffset()*li),fi)-1;break;case"minute":t=this._d.valueOf(),t+=li-hi(t,li)-1;break;case"second":t=this._d.valueOf(),t+=ci-hi(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function wi(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function ki(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function _i(){return this.isValid()?this.toISOString():null}function Si(){return y(this)}function Ei(){return h({},m(this))}function Ii(){return m(this).overflow}function Ti(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(e,t){var n,i,a,o=this._eras||gn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ni(e,t,n){var r,i,a,o,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(a=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(a===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([a,o,s].indexOf(e)>=0)return u[r]}function Oi(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ri(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Li(e){return s(this,"_erasNameRegex")||zi.call(this),e?this._erasNameRegex:this._erasRegex}function Mi(e){return s(this,"_erasAbbrRegex")||zi.call(this),e?this._erasAbbrRegex:this._erasRegex}function ji(e){return s(this,"_erasNarrowRegex")||zi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fi(e,t){return t.erasAbbrRegex(e)}function Ui(e,t){return t.erasNameRegex(e)}function Vi(e,t){return t.erasNarrowRegex(e)}function Bi(e,t){return t._eraYearOrdinalRegex||Ce}function zi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(je(o[e].name)),n.push(je(o[e].abbr)),i.push(je(o[e].narrow)),a.push(je(o[e].name)),a.push(je(o[e].abbr)),a.push(je(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function qi(e,t){V(0,[e,e.length],0,t)}function Hi(e){return $i.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(e){return $i.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gi(){return _t(this.year(),1,4)}function Ki(){return _t(this.isoWeekYear(),1,4)}function Yi(){var e=this.localeData()._week;return _t(this.year(),e.dow,e.doy)}function Qi(){var e=this.localeData()._week;return _t(this.weekYear(),e.dow,e.doy)}function $i(e,t,n,r,i){var a;return null==e?xt(this,r,i).year:(t>(a=_t(e,r,i))&&(t=a),Xi.call(this,e,t,n,r,i))}function Xi(e,t,n,r,i){var a=kt(e,t,n,r,i),o=wt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Re("N",Fi),Re("NN",Fi),Re("NNN",Fi),Re("NNNN",Ui),Re("NNNNN",Vi),Ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),Re("y",Ce),Re("yy",Ce),Re("yyy",Ce),Re("yyyy",Ce),Re("yo",Bi),Ue(["y","yy","yyy","yyyy"],qe),Ue(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[qe]=n._locale.eraYearOrdinalParse(e,i):t[qe]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qi("gggg","weekYear"),qi("ggggg","weekYear"),qi("GGGG","isoWeekYear"),qi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Re("G",Ne),Re("g",Ne),Re("GG",xe,ge),Re("gg",xe,ge),Re("GGGG",Ie,be),Re("gggg",Ie,be),Re("GGGGG",Te,ke),Re("ggggg",Te,ke),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Re("Q",ye),Ue("Q",(function(e,t){t[He]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Re("D",xe),Re("DD",xe,ge),Re("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],We),Ue("Do",(function(e,t){t[We]=le(e.match(xe)[0])}));var Zi=fe("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Re("DDD",Ee),Re("DDDD",we),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Re("m",xe),Re("mm",xe,ge),Ue(["m","mm"],Ke);var ta=fe("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Re("s",xe),Re("ss",xe,ge),Ue(["s","ss"],Ye);var na,ra,ia=fe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Re("S",Ee,ye),Re("SS",Ee,ge),Re("SSS",Ee,we),na="SSSS";na.length<=9;na+="S")Re(na,Ce);function aa(e,t){t[Qe]=le(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")Ue(na,aa);function oa(){return this._isUTC?"UTC":""}function sa(){return this._isUTC?"Coordinated Universal Time":""}ra=fe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var ua=x.prototype;function ca(e){return Qn(1e3*e)}function la(){return Qn.apply(null,arguments).parseZone()}function fa(e){return e}ua.add=Rr,ua.calendar=zr,ua.clone=qr,ua.diff=$r,ua.endOf=yi,ua.format=ti,ua.from=ni,ua.fromNow=ri,ua.to=ii,ua.toNow=ai,ua.get=pe,ua.invalidAt=Ii,ua.isAfter=Hr,ua.isBefore=Wr,ua.isBetween=Gr,ua.isSame=Kr,ua.isSameOrAfter=Yr,ua.isSameOrBefore=Qr,ua.isValid=Si,ua.lang=si,ua.locale=oi,ua.localeData=ui,ua.max=Xn,ua.min=$n,ua.parsingFlags=Ei,ua.set=ve,ua.startOf=mi,ua.subtract=Lr,ua.toArray=ki,ua.toObject=xi,ua.toDate=bi,ua.toISOString=Zr,ua.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ua[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ua.toJSON=_i,ua.toString=Jr,ua.unix=wi,ua.valueOf=gi,ua.creationData=Ti,ua.eraName=Ai,ua.eraNarrow=Di,ua.eraAbbr=Pi,ua.eraYear=Ri,ua.year=mt,ua.isLeapYear=yt,ua.weekYear=Hi,ua.isoWeekYear=Wi,ua.quarter=ua.quarters=Ji,ua.month=lt,ua.daysInMonth=ft,ua.week=ua.weeks=Ct,ua.isoWeek=ua.isoWeeks=Nt,ua.weeksInYear=Yi,ua.weeksInWeekYear=Qi,ua.isoWeeksInYear=Gi,ua.isoWeeksInISOWeekYear=Ki,ua.date=Zi,ua.day=ua.days=Ht,ua.weekday=Wt,ua.isoWeekday=Gt,ua.dayOfYear=ea,ua.hour=ua.hours=rn,ua.minute=ua.minutes=ta,ua.second=ua.seconds=ia,ua.millisecond=ua.milliseconds=ra,ua.utcOffset=vr,ua.utc=yr,ua.local=gr,ua.parseZone=wr,ua.hasAlignedHourOffset=br,ua.isDST=kr,ua.isLocal=_r,ua.isUtcOffset=Sr,ua.isUtc=Er,ua.isUTC=Er,ua.zoneAbbr=oa,ua.zoneName=sa,ua.dates=E("dates accessor is deprecated. Use date instead.",Zi),ua.months=E("months accessor is deprecated. Use month instead",lt),ua.years=E("years accessor is deprecated. Use year instead",mt),ua.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mr),ua.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xr);var da=D.prototype;function ha(e,t,n,r){var i=gn(),a=p().set(r,t);return i[n](a,e)}function pa(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return ha(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ha(e,r,n,"month");return i}function va(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=gn(),o=e?a._week.dow:0,s=[];if(null!=n)return ha(t,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=ha(t,(i+o)%7,r,"day");return s}function ma(e,t){return pa(e,t,"months")}function ya(e,t){return pa(e,t,"monthsShort")}function ga(e,t,n){return va(e,t,n,"weekdays")}function wa(e,t,n){return va(e,t,n,"weekdaysShort")}function ba(e,t,n){return va(e,t,n,"weekdaysMin")}da.calendar=R,da.longDateFormat=G,da.invalidDate=Y,da.ordinal=X,da.preparse=fa,da.postformat=fa,da.relativeTime=Z,da.pastFuture=ee,da.set=O,da.eras=Ci,da.erasParse=Ni,da.erasConvertYear=Oi,da.erasAbbrRegex=Mi,da.erasNameRegex=Li,da.erasNarrowRegex=ji,da.months=at,da.monthsShort=ot,da.monthsParse=ut,da.monthsRegex=ht,da.monthsShortRegex=dt,da.week=St,da.firstDayOfYear=Tt,da.firstDayOfWeek=It,da.weekdays=Ut,da.weekdaysMin=Bt,da.weekdaysShort=Vt,da.weekdaysParse=qt,da.weekdaysRegex=Kt,da.weekdaysShortRegex=Yt,da.weekdaysMinRegex=Qt,da.isPM=tn,da.meridiem=an,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",gn);var ka=Math.abs;function xa(){var e=this._data;return this._milliseconds=ka(this._milliseconds),this._days=ka(this._days),this._months=ka(this._months),e.milliseconds=ka(e.milliseconds),e.seconds=ka(e.seconds),e.minutes=ka(e.minutes),e.hours=ka(e.hours),e.months=ka(e.months),e.years=ka(e.years),this}function _a(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Sa(e,t){return _a(this,e,t,1)}function Ea(e,t){return _a(this,e,t,-1)}function Ia(e){return e<0?Math.floor(e):Math.ceil(e)}function Ta(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Ia(Na(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=ce(a/1e3),u.seconds=e%60,t=ce(e/60),u.minutes=t%60,n=ce(t/60),u.hours=n%24,o+=ce(n/24),s+=i=ce(Ca(o)),o-=Ia(Na(i)),r=ce(s/12),s%=12,u.days=o,u.months=s,u.years=r,this}function Ca(e){return 4800*e/146097}function Na(e){return 146097*e/4800}function Oa(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ca(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Na(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Aa(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Da(e){return function(){return this.as(e)}}var Pa=Da("ms"),Ra=Da("s"),La=Da("m"),Ma=Da("h"),ja=Da("d"),Fa=Da("w"),Ua=Da("M"),Va=Da("Q"),Ba=Da("y");function za(){return Cr(this)}function qa(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Ha(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wa=Ha("milliseconds"),Ga=Ha("seconds"),Ka=Ha("minutes"),Ya=Ha("hours"),Qa=Ha("days"),$a=Ha("months"),Xa=Ha("years");function Ja(){return ce(this.days()/7)}var Za=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Cr(e).abs(),a=Za(i.as("s")),o=Za(i.as("m")),s=Za(i.as("h")),u=Za(i.as("d")),c=Za(i.as("M")),l=Za(i.as("w")),f=Za(i.as("y")),d=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(d=d||l<=1&&["w"]||l<n.w&&["ww",l]),(d=d||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,d[3]=+e>0,d[4]=r,to.apply(null,d)}function ro(e){return void 0===e?Za:"function"===typeof e&&(Za=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ao(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=no(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function so(e){return(e>0)-(e<0)||+e}function uo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,s,u=oo(this._milliseconds)/1e3,c=oo(this._days),l=oo(this._months),f=this.asSeconds();return f?(e=ce(u/60),t=ce(e/60),u%=60,e%=60,n=ce(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",a=so(this._months)!==so(f)?"-":"",o=so(this._days)!==so(f)?"-":"",s=so(this._milliseconds)!==so(f)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var co=or.prototype;return co.isValid=ir,co.abs=xa,co.add=Sa,co.subtract=Ea,co.as=Oa,co.asMilliseconds=Pa,co.asSeconds=Ra,co.asMinutes=La,co.asHours=Ma,co.asDays=ja,co.asWeeks=Fa,co.asMonths=Ua,co.asQuarters=Va,co.asYears=Ba,co.valueOf=Aa,co._bubble=Ta,co.clone=za,co.get=qa,co.milliseconds=Wa,co.seconds=Ga,co.minutes=Ka,co.hours=Ya,co.days=Qa,co.weeks=Ja,co.months=$a,co.years=Xa,co.humanize=ao,co.toISOString=uo,co.toString=uo,co.toJSON=uo,co.locale=oi,co.localeData=ui,co.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",uo),co.lang=si,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Re("x",Ne),Re("X",De),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ue("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.4",i(Qn),r.fn=ua,r.min=Zn,r.max=er,r.now=tr,r.utc=p,r.unix=ca,r.months=ma,r.isDate=f,r.locale=vn,r.invalid=g,r.duration=Cr,r.isMoment=_,r.weekdays=ga,r.parseZone=la,r.localeData=gn,r.isDuration=sr,r.monthsShort=ya,r.weekdaysMin=ba,r.defineLocale=mn,r.updateLocale=yn,r.locales=wn,r.weekdaysShort=wa,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=Br,r.prototype=ua,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},3573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(6054),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},6054:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=wi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),xe(e.stateNode,e.type,t))}}function Ie(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Oe=!1;function Ae(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ce(e,t,n)}finally{Oe=!1,(null!==_e||null!==Se)&&(Ne(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,_t,St,Et,It=!1,Tt=[],Ct=null,Nt=null,Ot=null,At=new Map,Dt=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Ot&&Ft(Ot)&&(Ot=null),At.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==Ot&&Bt(Ot,e),At.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)jt(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=wt,a=qt.transition;qt.transition=null;try{wt=1,Kt(e,t,n,r)}finally{wt=i,qt.transition=a}}function Gt(e,t,n,r){var i=wt,a=qt.transition;qt.transition=null;try{wt=4,Kt(e,t,n,r)}finally{wt=i,qt.transition=a}}function Kt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Ot=Mt(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=wi(i);if(null!==a&&kt(a),null===(a=Qt(e,t,n,r))&&Hr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=gi(e=ke(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),dn=an(fn),hn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),vn=an(j({},hn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=an(gn),bn=an(j({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var In=j({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(j({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),On=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(An),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){Fr(e,0)}function Qn(e){if(K(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,ke(e)),Ae(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Or=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Or.set(e,t),u(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Rr=Ar[Pr];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Ir,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=ke(n),o=[];e:{var s=Or.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Ir:case Tr:case Cr:u=yn;break;case Nr:u=On;break;case"scroll":u=dn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=De(p,d))&&l.push(Wr(p,v,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:bi(u),h=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,gi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=Kr(h))p++;for(h=0,v=d;v;v=Kr(v))h++;for(;0<p-h;)l=Kr(l),p--;for(;0<h-p;)d=Kr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Kr(l),d=Kr(d)}l=null}else l=null;null!==u&&Yr(o,s,u,l,!1),null!==c&&null!==f&&Yr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Hn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Gr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:y}),g?w.data=g:null!==(g=Bn(n))&&(w.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=De(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=De(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=De(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[hi]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ii(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ni=Si(!1),Oi=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(Ni),Ei(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Oi=Ci.current,Ii(Ci,e),Ii(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ci),Ii(Ci,e)):Ei(Ni),Ii(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,zi),i}finally{wt=t,Vi=!1}}return null}var qi=[],Hi=0,Wi=null,Gi=0,Ki=[],Yi=0,Qi=null,$i=1,Xi="";function Ji(e,t){qi[Hi++]=Gi,qi[Hi++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Ki[Yi++]=$i,Ki[Yi++]=Xi,Ki[Yi++]=Qi,Qi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Qi;)Qi=Ki[--Yi],Ki[Yi]=null,Xi=Ki[--Yi],Ki[Yi]=null,$i=Ki[--Yi],Ki[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,wa=null,ba=null;function ka(){ba=wa=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=wa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===wa){if(null===ga)throw Error(a(308));wa=e,ga.dependencies={lanes:0,firstContext:e}}else wa=wa.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oa=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Oa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=j({},f,d);break e;case 2:Oa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Di(t)?Oi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Di(t)?Oi:Ci.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ya(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ya(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var w=h(i,v,g.value,c);if(null===w){null===v&&(v=y);break}e&&v&&null===w.alternate&&t(i,v),s=o(w,s,m),null===f?l=w:f.sibling=w,f=w,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=d(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Ya(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Rc(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,u)).return=r,r=a}return s(r);case D:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Qa(!0),Xa=Qa(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ii(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,wo=!1,bo=0,ko=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(wo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oo(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{wt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){wo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Fo,useDebugValue:Qo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Nu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ho,useImperativeHandle:Yo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ho,useImperativeHandle:Yo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:Oo,useRef:Vo,useState:function(){return Oo(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Oo(Co)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Do,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),ds(0,t)},n}function vs(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ws=b.ReactCurrentOwner,bs=!1;function ks(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ks(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Pu,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Pu,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Pu,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Pu,Du),Du|=r;return ks(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Di(n)?Oi:Ci.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ks(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ai(t,c=Di(n)?Oi:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Oa=!1;var d=t.memoizedState;o.state=d,ja(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Ni.current||Oa?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Oa||za(t,n,s,r,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Ai(t,u=Di(n)?Oi:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&Ha(t,o,r,u),Oa=!1,d=t.memoizedState,o.state=d,ja(t,r,o,i);var p=t.memoizedState;s!==f||d!==p||Ni.current||Oa?("function"===typeof h&&(Va(t,n,h,r),p=t.memoizedState),(c=Oa||za(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Is(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hs(e,t,a);r=t.stateNode,ws.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ks(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return ha(),pa(i),t.flags|=256,ks(e,t,n,r),t.child}var Ds,Ps,Rs,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Yi++]=$i,Ki[Yi++]=Xi,Ki[Yi++]=Qi,$i=e.id,Xi=e.overflow,Qi=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Pc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Di(t.type)&&Pi(),Gs(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[hi]=r,Ds(e,t),t.stateNode=e;e:{switch(u=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&w(e,o,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Rs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ru&&(Ru=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Gs(t),null;case 10:return xa(t.type._context),Gs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Ru||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Xe()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ii(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,$s=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||Zs(n,t);case 6:var r=lu,i=fu;lu=null,du(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,du(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!$s&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,du(e,t,n),$s=r):du(e,t,n);break;default:du(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));hu(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Sc(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),we(u,s);var l=we(u,o);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):w(i,f,d,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($s=(l=$s)||f,vu(t,e),$s=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(d=Js=f;null!==Js;){switch(p=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:nu(4,h,h.return);break;case 1:Zs(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){ku(d);continue}}null!==p?(p.return=h,Js=p):ku(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Qs;var c=$s;if(Qs=o,($s=u)&&!c)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Js=u):xu(i);for(;null!==a;)Js=a,wu(a,t,n),a=a.sibling;Js=i,Qs=s,$s=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):bu(e)}}function bu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(a(163))}$s||512&t.flags&&iu(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function ku(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function xu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _u,Su=Math.ceil,Eu=b.ReactCurrentDispatcher,Iu=b.ReactCurrentOwner,Tu=b.ReactCurrentBatchConfig,Cu=0,Nu=null,Ou=null,Au=0,Du=0,Pu=Si(0),Ru=0,Lu=null,Mu=0,ju=0,Fu=0,Uu=null,Vu=null,Bu=0,zu=1/0,qu=null,Hu=!1,Wu=null,Gu=null,Ku=!1,Yu=null,Qu=0,$u=0,Xu=null,Ju=-1,Zu=0;function ec(){return 0!==(6&Cu)?Xe():-1!==Ju?Ju:Ju=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Au?Au&-Au:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=wt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$u)throw $u=0,Xu=null,Error(a(185));yt(e,n,r),0!==(2&Cu)&&e===Nu||(e===Nu&&(0===(2&Cu)&&(ju|=n),4===Ru&&sc(e,Au)),rc(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(zu=Xe()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Nu?Au:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===(6&Cu)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Nu?Au:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cu;Cu|=2;var o=pc();for(Nu===e&&Au===t||(qu=null,zu=Xe()+500,dc(e,t));;)try{gc();break}catch(u){hc(e,u)}ka(),Eu.current=o,Cu=i,null!==Ou?t=0:(Nu=null,Au=0,t=Ru)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Lu,dc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Lu,dc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kc(e,Vu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kc.bind(null,e,Vu,qu),t);break}kc(e,Vu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(kc.bind(null,e,Vu,qu),r);break}kc(e,Vu,qu);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vu,Vu=n,null!==t&&oc(t)),e}function oc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~Fu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Cu))throw Error(a(327));xc();var t=dt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lu,dc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Vu,qu),rc(e,Xe()),null}function cc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(zu=Xe()+500,Ui&&zi())}}function lc(e){null!==Yu&&0===Yu.tag&&0===(6&Cu)&&xc();var t=Cu;Cu|=1;var n=Tu.transition,r=wt;try{if(Tu.transition=null,wt=1,e)return e()}finally{wt=r,Tu.transition=n,0===(6&(Cu=t))&&zi()}}function fc(){Du=Pu.current,Ei(Pu)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ei(Ni),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Nu=e,Ou=e=Pc(e.current,null),Au=Du=t,Ru=0,Lu=null,Fu=ju=Mu=0,Vu=Uu=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function hc(e,t){for(;;){var n=Ou;try{if(ka(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,wo=!1,bo=0,Iu.current=null,null===n||null===n.return){Ru=1,Lu=t,Ou=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Au,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Ru&&(Ru=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gu||!Gu.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ou===n&&null!==n&&(Ou=n=n.return);continue}break}}function pc(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vc(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===Nu||0===(268435455&Mu)&&0===(268435455&ju)||sc(Nu,Au)}function mc(e,t){var n=Cu;Cu|=2;var r=pc();for(Nu===e&&Au===t||(qu=null,dc(e,t));;)try{yc();break}catch(i){hc(e,i)}if(ka(),Cu=n,Eu.current=r,null!==Ou)throw Error(a(261));return Nu=null,Au=0,Ru}function yc(){for(;null!==Ou;)wc(Ou)}function gc(){for(;null!==Ou&&!Qe();)wc(Ou)}function wc(e){var t=_u(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?bc(e):Ou=t,Iu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Du)))return void(Ou=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Ou=n);if(null===e)return Ru=6,void(Ou=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ou=t);Ou=t=e}while(null!==t);0===Ru&&(Ru=5)}function kc(e,t,n){var r=wt,i=Tu.transition;try{Tu.transition=null,wt=1,function(e,t,n,r){do{xc()}while(null!==Yu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Ou=Nu=null,Au=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=wt;wt=1;var u=Cu;Cu|=4,Iu.current=null,function(e,t){if(ei=Ht,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(u=s),h===o&&++f===r&&(c=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,w=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(k){Sc(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gu(n,e,i),$e(),Cu=u,wt=s,Tu.transition=o}else e.current=n;if(Ku&&(Ku=!1,Yu=e,Qu=i),0===(o=e.pendingLanes)&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&Qu)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xu?$u++:($u=0,Xu=e):$u=0,zi()}(e,t,n,r)}finally{Tu.transition=i,wt=r}return null}function xc(){if(null!==Yu){var e=bt(Qu),t=Tu.transition,n=wt;try{if(Tu.transition=null,wt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Qu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var d=f.child;if(null!==d)d.return=f,Js=d;else for(;null!==Js;){var h=(f=Js).sibling,p=f.return;if(au(f),f===l){Js=null;break}if(null!==h){h.return=p,Js=h;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var w=e.current;for(Js=w;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=w;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){Sc(u,u.return,x)}if(u===s){Js=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Js=k;break e}Js=u.return}}if(Cu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{wt=n,Tu.transition=t}}return!1}function _c(e,t,n){e=Ra(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Ra(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Au&n)===n&&(4===Ru||3===Ru&&(130023424&Au)===Au&&500>Xe()-Bu?dc(e,0):Fu|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return Ke(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Oc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case O:return(e=Ac(19,n,t,i)).elementType=O,e.lanes=o,e;case P:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case T:s=9;break e;case C:s=11;break e;case A:s=14;break e;case D:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Os(t),ha();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ii(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ii(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ks(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Hs(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Is(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ii(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ks(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&jt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cu)&&(zu=Xe()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},St=function(){return wt},Et=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[wi,bi,ki,Ie,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var s,u,c,l=t(e),f=t(o);if(l&&f){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(l!=f)return!1;var d=e instanceof Date,h=o instanceof Date;if(d!=h)return!1;if(d&&h)return e.getTime()==o.getTime();var p=e instanceof RegExp,v=o instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==o.toString();var m=n(e);if((u=m.length)!==n(o).length)return!1;for(s=u;0!==s--;)if(!r.call(o,m[s]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(s=u;0!==s--;)if(("_owner"!==(c=m[s])||!e.$$typeof)&&!a(e[c],o[c]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function w(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=w.prototype=new g;b.constructor=w,v(b,y.prototype),b.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,k(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",k(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function k(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&R(k,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=h;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&R(k,f.startTime-n),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,I=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function O(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof w)_=function(){w(O)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=O,_=function(){D.postMessage(null)}}else _=function(){y(O,0)};function P(e){E=e,S||(S=!0,_())}function R(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,R(k,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},8086:function(e,t,n){var r=n(6690).default,i=n(9728).default,a=n(1588).default,o=n(3808).default,s=n(1655).default,u=n(6389).default,c=n(7424).default;e.exports=function(e,t){"use strict";function n(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var l=n(e),f=[{key:"title",getter:function(e){return e.getTitle()}},{key:"html",getter:function(e){return e.getHtmlContainer()}},{key:"confirmButtonText",getter:function(e){return e.getConfirmButton()}},{key:"denyButtonText",getter:function(e){return e.getDenyButton()}},{key:"cancelButtonText",getter:function(e){return e.getCancelButton()}},{key:"footer",getter:function(e){return e.getFooter()}},{key:"closeButtonHtml",getter:function(e){return e.getCloseButton()}},{key:"iconHtml",getter:function(e){return e.getIcon().querySelector(".swal2-icon-content")}},{key:"loaderHtml",getter:function(e){return e.getLoader()}}],d=function(){};function h(e){function n(e){var t={},n={},r=f.map((function(e){return e.key}));return Object.entries(e).forEach((function(e){var i=c(e,2),a=i[0],o=i[1];r.includes(a)&&l.default.isValidElement(o)?(t[a]=o,n[a]=" "):n[a]=o})),[t,n]}function h(n,r){Object.entries(r).forEach((function(r){var i=c(r,2),a=i[0],o=i[1],s=f.find((function(e){return e.key===a})).getter(e),u=t.createRoot(s);u.render(o),n.__roots.push(u)}))}function p(e){e.__roots.forEach((function(e){e.unmount()})),e.__roots=[]}return function(t){s(v,t);var f=u(v);function v(){return r(this,v),f.apply(this,arguments)}return i(v,[{key:"_main",value:function(e,t){var r=this;this.__roots=[],this.__params=Object.assign({},t,e);var i=n(this.__params),s=c(i,2),u=s[0],l=s[1],f=l.willOpen||d,m=l.didOpen||d,y=l.didDestroy||d;return a(o(v.prototype),"_main",this).call(this,Object.assign({},l,{willOpen:function(e){h(r,u),f(e)},didOpen:function(e){setTimeout((function(){m(e)}))},didDestroy:function(e){y(e),p(r)}}))}},{key:"update",value:function(e){Object.assign(this.__params,e),p(this);var t=n(this.__params),r=c(t,2),i=r[0],s=r[1];a(o(v.prototype),"update",this).call(this,s),h(this,i)}}],[{key:"argsToParams",value:function(t){if(l.default.isValidElement(t[0])||l.default.isValidElement(t[1])){var n={};return["title","html","icon"].forEach((function(e,r){void 0!==t[r]&&(n[e]=t[r])})),n}return e.argsToParams(t)}}]),v}(e)}return h}(n(2791),n(1250))},1830:function(e,t,n){var r=n(6690).default,i=n(9728).default,a=n(1588).default,o=n(3808).default,s=n(1655).default,u=n(6389).default,c=n(3515).default;e.exports=function(){"use strict";var e={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},t="swal2-",n=function(e){var n={};for(var r in e)n[e[r]]=t+e[r];return n},l=n(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),f=n(["success","warning","info","question","error"]),d="SweetAlert2:",h=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},p=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},v=function(e){console.warn("".concat(d," ").concat("object"===typeof e?e.join(" "):e))},m=function(e){console.error("".concat(d," ").concat(e))},y=[],g=function(e){y.includes(e)||(y.push(e),v(e))},w=function(e,t){g('"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'))},b=function(e){return"function"===typeof e?e():e},k=function(e){return e&&"function"===typeof e.toPromise},x=function(e){return k(e)?e.toPromise():Promise.resolve(e)},_=function(e){return e&&Promise.resolve(e)===e},S=function(e){return e[Math.floor(Math.random()*e.length)]},E=function(){return document.body.querySelector(".".concat(l.container))},I=function(e){var t=E();return t?t.querySelector(e):null},T=function(e){return I(".".concat(e))},C=function(){return T(l.popup)},N=function(){return T(l.icon)},O=function(){return T(l.title)},A=function(){return T(l["html-container"])},D=function(){return T(l.image)},P=function(){return T(l["progress-steps"])},R=function(){return T(l["validation-message"])},L=function(){return I(".".concat(l.actions," .").concat(l.confirm))},M=function(){return I(".".concat(l.actions," .").concat(l.deny))},j=function(){return T(l["input-label"])},F=function(){return I(".".concat(l.loader))},U=function(){return I(".".concat(l.actions," .").concat(l.cancel))},V=function(){return T(l.actions)},B=function(){return T(l.footer)},z=function(){return T(l["timer-progress-bar"])},q=function(){return T(l.close)},H='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',W=function(){var e=Array.from(C().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(e,t){var n=parseInt(e.getAttribute("tabindex")),r=parseInt(t.getAttribute("tabindex"));return n>r?1:n<r?-1:0})),t=Array.from(C().querySelectorAll(H)).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return h(e.concat(t)).filter((function(e){return fe(e)}))},G=function(){return X(document.body,l.shown)&&!X(document.body,l["toast-shown"])&&!X(document.body,l["no-backdrop"])},K=function(){return C()&&X(C(),l.toast)},Y=function(){return C().hasAttribute("data-loading")},Q={previousBodyPadding:null},$=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html");Array.from(n.querySelector("head").childNodes).forEach((function(t){e.appendChild(t)})),Array.from(n.querySelector("body").childNodes).forEach((function(t){t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},X=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},J=function(e,t){Array.from(e.classList).forEach((function(n){Object.values(l).includes(n)||Object.values(f).includes(n)||Object.values(t.showClass).includes(n)||e.classList.remove(n)}))},Z=function(e,t,n){if(J(e,t),t.customClass&&t.customClass[n]){if("string"!==typeof t.customClass[n]&&!t.customClass[n].forEach)return v("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof t.customClass[n],'"'));re(e,t.customClass[n])}},ee=function(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(l.popup," > .").concat(l[t]));case"checkbox":return e.querySelector(".".concat(l.popup," > .").concat(l.checkbox," input"));case"radio":return e.querySelector(".".concat(l.popup," > .").concat(l.radio," input:checked"))||e.querySelector(".".concat(l.popup," > .").concat(l.radio," input:first-child"));case"range":return e.querySelector(".".concat(l.popup," > .").concat(l.range," input"));default:return e.querySelector(".".concat(l.popup," > .").concat(l.input))}},te=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},ne=function(e,t,n){e&&t&&("string"===typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){Array.isArray(e)?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},re=function(e,t){ne(e,t,!0)},ie=function(e,t){ne(e,t,!1)},ae=function(e,t){for(var n=Array.from(e.children),r=0;r<n.length;r++){var i=n[r];if(i instanceof HTMLElement&&X(i,t))return i}},oe=function(e,t,n){n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"===typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},ue=function(e){e.style.display="none"},ce=function(e,t,n,r){var i=e.querySelector(t);i&&(i.style[n]=r)},le=function(e,t){t?se(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):ue(e)},fe=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},de=function(){return!fe(L())&&!fe(M())&&!fe(U())},he=function(e){return!!(e.scrollHeight>e.clientHeight)},pe=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=z();fe(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},me=function(){var e=z(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.removeProperty("transition"),e.style.width="".concat(n,"%")},ye=100,ge={},we=function(){ge.previousActiveElement instanceof HTMLElement?(ge.previousActiveElement.focus(),ge.previousActiveElement=null):document.body&&document.body.focus()},be=function(e){return new Promise((function(t){if(!e)return t();var n=window.scrollX,r=window.scrollY;ge.restoreFocusTimeout=setTimeout((function(){we(),t()}),ye),window.scrollTo(n,r)}))},ke=function(){return"undefined"===typeof window||"undefined"===typeof document},xe='\n <div aria-labelledby="'.concat(l.title,'" aria-describedby="').concat(l["html-container"],'" class="').concat(l.popup,'" tabindex="-1">\n   <button type="button" class="').concat(l.close,'"></button>\n   <ul class="').concat(l["progress-steps"],'"></ul>\n   <div class="').concat(l.icon,'"></div>\n   <img class="').concat(l.image,'" />\n   <h2 class="').concat(l.title,'" id="').concat(l.title,'"></h2>\n   <div class="').concat(l["html-container"],'" id="').concat(l["html-container"],'"></div>\n   <input class="').concat(l.input,'" />\n   <input type="file" class="').concat(l.file,'" />\n   <div class="').concat(l.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(l.select,'"></select>\n   <div class="').concat(l.radio,'"></div>\n   <label for="').concat(l.checkbox,'" class="').concat(l.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(l.label,'"></span>\n   </label>\n   <textarea class="').concat(l.textarea,'"></textarea>\n   <div class="').concat(l["validation-message"],'" id="').concat(l["validation-message"],'"></div>\n   <div class="').concat(l.actions,'">\n     <div class="').concat(l.loader,'"></div>\n     <button type="button" class="').concat(l.confirm,'"></button>\n     <button type="button" class="').concat(l.deny,'"></button>\n     <button type="button" class="').concat(l.cancel,'"></button>\n   </div>\n   <div class="').concat(l.footer,'"></div>\n   <div class="').concat(l["timer-progress-bar-container"],'">\n     <div class="').concat(l["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),_e=function(){var e=E();return!!e&&(e.remove(),ie([document.documentElement,document.body],[l["no-backdrop"],l["toast-shown"],l["has-column"]]),!0)},Se=function(){ge.currentInstance.resetValidationMessage()},Ee=function(){var e=C(),t=ae(e,l.input),n=ae(e,l.file),r=e.querySelector(".".concat(l.range," input")),i=e.querySelector(".".concat(l.range," output")),a=ae(e,l.select),o=e.querySelector(".".concat(l.checkbox," input")),s=ae(e,l.textarea);t.oninput=Se,n.onchange=Se,a.onchange=Se,o.onchange=Se,s.oninput=Se,r.oninput=function(){Se(),i.value=r.value},r.onchange=function(){Se(),i.value=r.value}},Ie=function(e){return"string"===typeof e?document.querySelector(e):e},Te=function(e){var t=C();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Ce=function(e){"rtl"===window.getComputedStyle(e).direction&&re(E(),l.rtl)},Ne=function(e){var t=_e();if(ke())m("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=l.container,t&&re(n,l["no-transition"]),$(n,xe);var r=Ie(e.target);r.appendChild(n),Te(e),Ce(r),Ee()}},Oe=function(e,t){e instanceof HTMLElement?t.appendChild(e):"object"===typeof e?Ae(e,t):e&&$(t,e)},Ae=function(e,t){e.jquery?De(t,e):$(t,e.toString())},De=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Pe=function(){if(ke())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&"undefined"!==typeof e.style[n])return t[n];return!1}(),Re=function(){var e=document.createElement("div");e.className=l["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},Le=function(e,t){var n=V(),r=F();t.showConfirmButton||t.showDenyButton||t.showCancelButton?se(n):ue(n),Z(n,t,"actions"),Me(n,r,t),$(r,t.loaderHtml),Z(r,t,"loader")};function Me(e,t,n){var r=L(),i=M(),a=U();Fe(r,"confirm",n),Fe(i,"deny",n),Fe(a,"cancel",n),je(r,i,a,n),n.reverseButtons&&(n.toast?(e.insertBefore(a,r),e.insertBefore(i,r)):(e.insertBefore(a,t),e.insertBefore(i,t),e.insertBefore(r,t)))}function je(e,t,n,r){r.buttonsStyling?(re([e,t,n],l.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,re(e,l["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,re(t,l["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,re(n,l["default-outline"]))):ie([e,t,n],l.styled)}function Fe(e,t,n){le(e,n["show".concat(p(t),"Button")],"inline-block"),$(e,n["".concat(t,"ButtonText")]),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]),e.className=l[t],Z(e,n,"".concat(t,"Button")),re(e,n["".concat(t,"ButtonClass")])}var Ue=function(e,t){var n=q();$(n,t.closeButtonHtml),Z(n,t,"closeButton"),le(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)},Ve=function(e,t){var n=E();n&&(Be(n,t.backdrop),ze(n,t.position),qe(n,t.grow),Z(n,t,"container"))};function Be(e,t){"string"===typeof t?e.style.background=t:t||re([document.documentElement,document.body],l["no-backdrop"])}function ze(e,t){t in l?re(e,l[t]):(v('The "position" parameter is not valid, defaulting to "center"'),re(e,l.center))}function qe(e,t){if(t&&"string"===typeof t){var n="grow-".concat(t);n in l&&re(e,l[n])}}var He=["input","file","range","select","radio","checkbox","textarea"],We=function(t,n){var r=C(),i=e.innerParams.get(t),a=!i||n.input!==i.input;He.forEach((function(e){var t=ae(r,l[e]);Ye(e,n.inputAttributes),t.className=l[e],a&&ue(t)})),n.input&&(a&&Ge(n),Qe(n))},Ge=function(e){if(et[e.input]){var t=Je(e.input),n=et[e.input](t,e);se(t),setTimeout((function(){te(n)}))}else m('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'))},Ke=function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}},Ye=function(e,t){var n=ee(C(),e);if(n)for(var r in Ke(n),t)n.setAttribute(r,t[r])},Qe=function(e){var t=Je(e.input);"object"===typeof e.customClass&&re(t,e.customClass.input)},$e=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},Xe=function(e,t,n){if(n.inputLabel){e.id=l.input;var r=document.createElement("label"),i=l["input-label"];r.setAttribute("for",e.id),r.className=i,"object"===typeof n.customClass&&re(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},Je=function(e){return ae(C(),l[e]||l.input)},Ze=function(e,t){["string","number"].includes(typeof t)?e.value="".concat(t):_(t)||v('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t,'"'))},et={};et.text=et.email=et.password=et.number=et.tel=et.url=function(e,t){return Ze(e,t.inputValue),Xe(e,e,t),$e(e,t),e.type=t.input,e},et.file=function(e,t){return Xe(e,e,t),$e(e,t),e},et.range=function(e,t){var n=e.querySelector("input"),r=e.querySelector("output");return Ze(n,t.inputValue),n.type=t.input,Ze(r,t.inputValue),Xe(n,e,t),e},et.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");$(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Xe(e,e,t),e},et.radio=function(e){return e.textContent="",e},et.checkbox=function(e,t){var n=ee(C(),"checkbox");n.value="1",n.id=l.checkbox,n.checked=Boolean(t.inputValue);var r=e.querySelector("span");return $(r,t.inputPlaceholder),n},et.textarea=function(e,t){Ze(e,t.inputValue),$e(e,t),Xe(e,e,t);var n=function(e){return parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight)};return setTimeout((function(){if("MutationObserver"in window){var t=parseInt(window.getComputedStyle(C()).width);new MutationObserver((function(){var r=e.offsetWidth+n(e);C().style.width=r>t?"".concat(r,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};var tt=function(e,t){var n=A();Z(n,t,"htmlContainer"),t.html?(Oe(t.html,n),se(n,"block")):t.text?(n.textContent=t.text,se(n,"block")):ue(n),We(e,t)},nt=function(e,t){var n=B();le(n,t.footer),t.footer&&Oe(t.footer,n),Z(n,t,"footer")},rt=function(t,n){var r=e.innerParams.get(t),i=N();if(r&&n.icon===r.icon)return ut(i,n),void it(i,n);if(n.icon||n.iconHtml){if(n.icon&&-1===Object.keys(f).indexOf(n.icon))return m('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(n.icon,'"')),void ue(i);se(i),ut(i,n),it(i,n),re(i,n.showClass.icon)}else ue(i)},it=function(e,t){for(var n in f)t.icon!==n&&ie(e,f[n]);re(e,f[t.icon]),ct(e,t),at(),Z(e,t,"icon")},at=function(){for(var e=C(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=t},ot='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',st='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',ut=function(e,t){var n,r=e.innerHTML;t.iconHtml?n=lt(t.iconHtml):"success"===t.icon?(n=ot,r=r.replace(/ style=".*?"/g,"")):n="error"===t.icon?st:lt({question:"?",warning:"!",info:"i"}[t.icon]),r.trim()!==n.trim()&&$(e,n)},ct=function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++){var i=r[n];ce(e,i,"backgroundColor",t.iconColor)}ce(e,".swal2-success-ring","borderColor",t.iconColor)}},lt=function(e){return'<div class="'.concat(l["icon-content"],'">').concat(e,"</div>")},ft=function(e,t){var n=D();t.imageUrl?(se(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),oe(n,"width",t.imageWidth),oe(n,"height",t.imageHeight),n.className=l.image,Z(n,t,"image")):ue(n)},dt=function(e,t){var n=E(),r=C();t.toast?(oe(n,"width",t.width),r.style.width="100%",r.insertBefore(F(),N())):oe(r,"width",t.width),oe(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),ue(R()),ht(r,t)},ht=function(e,t){e.className="".concat(l.popup," ").concat(fe(e)?t.showClass.popup:""),t.toast?(re([document.documentElement,document.body],l["toast-shown"]),re(e,l.toast)):re(e,l.modal),Z(e,t,"popup"),"string"===typeof t.customClass&&re(e,t.customClass),t.icon&&re(e,l["icon-".concat(t.icon)])},pt=function(e,t){var n=P();t.progressSteps&&0!==t.progressSteps.length?(se(n),n.textContent="",t.currentProgressStep>=t.progressSteps.length&&v("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((function(e,r){var i=vt(e);if(n.appendChild(i),r===t.currentProgressStep&&re(i,l["active-progress-step"]),r!==t.progressSteps.length-1){var a=mt(t);n.appendChild(a)}}))):ue(n)},vt=function(e){var t=document.createElement("li");return re(t,l["progress-step"]),$(t,e),t},mt=function(e){var t=document.createElement("li");return re(t,l["progress-step-line"]),e.progressStepsDistance&&oe(t,"width",e.progressStepsDistance),t},yt=function(e,t){var n=O();le(n,t.title||t.titleText,"block"),t.title&&Oe(t.title,n),t.titleText&&(n.innerText=t.titleText),Z(n,t,"title")},gt=function(e,t){dt(e,t),Ve(e,t),pt(e,t),rt(e,t),ft(e,t),yt(e,t),Ue(e,t),tt(e,t),Le(e,t),nt(e,t),"function"===typeof t.didRender&&t.didRender(C())};function wt(){var t=e.innerParams.get(this);if(t){var n=e.domCache.get(this);ue(n.loader),K()?t.icon&&se(N()):bt(n),ie([n.popup,n.actions],l.loading),n.popup.removeAttribute("aria-busy"),n.popup.removeAttribute("data-loading"),n.confirmButton.disabled=!1,n.denyButton.disabled=!1,n.cancelButton.disabled=!1}}var bt=function(e){var t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?se(t[0],"inline-block"):de()&&ue(e.actions)};function kt(t){var n=e.innerParams.get(t||this),r=e.domCache.get(t||this);return r?ee(r.popup,n.input):null}var xt=function(){return fe(C())},_t=function(){return L()&&L().click()},St=function(){return M()&&M().click()},Et=function(){return U()&&U().click()},It=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Tt=function(e){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Ct=function(e,t,n,r){Tt(t),n.toast||(t.keydownHandler=function(t){return Dt(e,t,r)},t.keydownTarget=n.keydownListenerCapture?window:C(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Nt=function(e,t,n){var r=W();if(r.length)return(t+=n)===r.length?t=0:-1===t&&(t=r.length-1),r[t].focus();C().focus()},Ot=["ArrowRight","ArrowDown"],At=["ArrowLeft","ArrowUp"],Dt=function(t,n,r){var i=e.innerParams.get(t);i&&(n.isComposing||229===n.keyCode||(i.stopKeydownPropagation&&n.stopPropagation(),"Enter"===n.key?Pt(t,n,i):"Tab"===n.key?Rt(n,i):[].concat(Ot,At).includes(n.key)?Lt(n.key):"Escape"===n.key&&Mt(n,i,r)))},Pt=function(e,t,n){if(b(n.allowEnterKey)&&t.target&&e.getInput()&&t.target instanceof HTMLElement&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;_t(),t.preventDefault()}},Rt=function(e,t){for(var n=e.target,r=W(),i=-1,a=0;a<r.length;a++)if(n===r[a]){i=a;break}e.shiftKey?Nt(t,i,-1):Nt(t,i,1),e.stopPropagation(),e.preventDefault()},Lt=function(e){var t=L(),n=M(),r=U();if(!(document.activeElement instanceof HTMLElement)||[t,n,r].includes(document.activeElement)){for(var i=Ot.includes(e)?"nextElementSibling":"previousElementSibling",a=document.activeElement,o=0;o<V().children.length;o++){if(!(a=a[i]))return;if(a instanceof HTMLButtonElement&&fe(a))break}a instanceof HTMLButtonElement&&a.focus()}},Mt=function(e,t,n){b(t.allowEscapeKey)&&(e.preventDefault(),n(It.esc))},jt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Ft=function(){Array.from(document.body.children).forEach((function(e){e===E()||e.contains(E())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))},Ut=function(){Array.from(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},Vt=function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!X(document.body,l.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),re(document.body,l.iosfix),zt(),Bt()}},Bt=function(){var e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);if(t&&n&&!e.match(/CriOS/i)){var r=44;C().scrollHeight>window.innerHeight-r&&(E().style.paddingBottom="".concat(r,"px"))}},zt=function(){var e,t=E();t.ontouchstart=function(t){e=qt(t)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}},qt=function(e){var t=e.target,n=E();return!Ht(e)&&!Wt(e)&&(t===n||!he(n)&&t instanceof HTMLElement&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&(!he(A())||!A().contains(t)))},Ht=function(e){return e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType},Wt=function(e){return e.touches&&e.touches.length>1},Gt=function(){if(X(document.body,l.iosfix)){var e=parseInt(document.body.style.top,10);ie(document.body,l.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Kt=function(){null===Q.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Q.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Q.previousBodyPadding+Re(),"px"))},Yt=function(){null!==Q.previousBodyPadding&&(document.body.style.paddingRight="".concat(Q.previousBodyPadding,"px"),Q.previousBodyPadding=null)};function Qt(e,t,n,r){K()?on(e,r):(be(n).then((function(){return on(e,r)})),Tt(ge)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),G()&&(Yt(),Gt(),Ut()),$t()}function $t(){ie([document.documentElement,document.body],[l.shown,l["height-auto"],l["no-backdrop"],l["toast-shown"]])}function Xt(e){e=nn(e);var t=jt.swalPromiseResolve.get(this),n=Zt(this);this.isAwaitingPromise()?e.isDismissed||(tn(this),t(e)):n&&t(e)}function Jt(){return!!e.awaitingPromise.get(this)}var Zt=function(t){var n=C();if(!n)return!1;var r=e.innerParams.get(t);if(!r||X(n,r.hideClass.popup))return!1;ie(n,r.showClass.popup),re(n,r.hideClass.popup);var i=E();return ie(i,r.showClass.backdrop),re(i,r.hideClass.backdrop),rn(t,n,r),!0};function en(e){var t=jt.swalPromiseReject.get(this);tn(this),t&&t(e)}var tn=function(t){t.isAwaitingPromise()&&(e.awaitingPromise.delete(t),e.innerParams.get(t)||t._destroy())},nn=function(e){return"undefined"===typeof e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},rn=function(e,t,n){var r=E(),i=Pe&&pe(t);"function"===typeof n.willClose&&n.willClose(t),i?an(e,t,r,n.returnFocus,n.didClose):Qt(e,r,n.returnFocus,n.didClose)},an=function(e,t,n,r,i){ge.swalCloseEventFinishedCallback=Qt.bind(null,e,n,r,i),t.addEventListener(Pe,(function(e){e.target===t&&(ge.swalCloseEventFinishedCallback(),delete ge.swalCloseEventFinishedCallback)}))},on=function(e,t){setTimeout((function(){"function"===typeof t&&t.bind(e.params)(),e._destroy()}))};function sn(t,n,r){var i=e.domCache.get(t);n.forEach((function(e){i[e].disabled=r}))}function un(e,t){if(e)if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=t;else e.disabled=t}function cn(){sn(this,["confirmButton","denyButton","cancelButton"],!1)}function ln(){sn(this,["confirmButton","denyButton","cancelButton"],!0)}function fn(){un(this.getInput(),!1)}function dn(){un(this.getInput(),!0)}function hn(t){var n=e.domCache.get(this),r=e.innerParams.get(this);$(n.validationMessage,t),n.validationMessage.className=l["validation-message"],r.customClass&&r.customClass.validationMessage&&re(n.validationMessage,r.customClass.validationMessage),se(n.validationMessage);var i=this.getInput();i&&(i.setAttribute("aria-invalid",!0),i.setAttribute("aria-describedby",l["validation-message"]),te(i),re(i,l.inputerror))}function pn(){var t=e.domCache.get(this);t.validationMessage&&ue(t.validationMessage);var n=this.getInput();n&&(n.removeAttribute("aria-invalid"),n.removeAttribute("aria-describedby"),ie(n,l.inputerror))}function vn(){return e.domCache.get(this).progressSteps}var mn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},yn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],gn={},wn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],bn=function(e){return Object.prototype.hasOwnProperty.call(mn,e)},kn=function(e){return-1!==yn.indexOf(e)},xn=function(e){return gn[e]},_n=function(e){bn(e)||v('Unknown parameter "'.concat(e,'"'))},Sn=function(e){wn.includes(e)&&v('The parameter "'.concat(e,'" is incompatible with toasts'))},En=function(e){xn(e)&&w(e,xn(e))},In=function(e){for(var t in!e.backdrop&&e.allowOutsideClick&&v('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e)_n(t),e.toast&&Sn(t),En(t)};function Tn(t){var n=C(),r=e.innerParams.get(this);if(!n||X(n,r.hideClass.popup))return v("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var i=Cn(t),a=Object.assign({},r,i);gt(this,a),e.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}var Cn=function(e){var t={};return Object.keys(e).forEach((function(n){kn(n)?t[n]=e[n]:v("Invalid parameter to update: ".concat(n))})),t};function Nn(){var t=e.domCache.get(this),n=e.innerParams.get(this);n?(t.popup&&ge.swalCloseEventFinishedCallback&&(ge.swalCloseEventFinishedCallback(),delete ge.swalCloseEventFinishedCallback),"function"===typeof n.didDestroy&&n.didDestroy(),On(this)):An(this)}var On=function(e){An(e),delete e.params,delete ge.keydownHandler,delete ge.keydownTarget,delete ge.currentInstance},An=function(t){t.isAwaitingPromise()?(Dn(e,t),e.awaitingPromise.set(t,!0)):(Dn(jt,t),Dn(e,t))},Dn=function(e,t){for(var n in e)e[n].delete(t)},Pn=Object.freeze({hideLoading:wt,disableLoading:wt,getInput:kt,close:Xt,isAwaitingPromise:Jt,rejectPromise:en,handleAwaitingPromise:tn,closePopup:Xt,closeModal:Xt,closeToast:Xt,enableButtons:cn,disableButtons:ln,enableInput:fn,disableInput:dn,showValidationMessage:hn,resetValidationMessage:pn,getProgressSteps:vn,update:Tn,_destroy:Nn}),Rn=function(e){var t=C();t||new ri,t=C();var n=F();K()?ue(N()):Ln(t,e),se(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},Ln=function(e,t){var n=V(),r=F();!t&&fe(L())&&(t=L()),se(n),t&&(ue(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),re([e,n],l.loading)},Mn=function(e,t){"select"===t.input||"radio"===t.input?Bn(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(k(t.inputValue)||_(t.inputValue))&&(Rn(L()),zn(e,t))},jn=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return Fn(n);case"radio":return Un(n);case"file":return Vn(n);default:return t.inputAutoTrim?n.value.trim():n.value}},Fn=function(e){return e.checked?1:0},Un=function(e){return e.checked?e.value:null},Vn=function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null},Bn=function(e,t){var n=C(),r=function(e){qn[t.input](n,Hn(e),t)};k(t.inputOptions)||_(t.inputOptions)?(Rn(L()),x(t.inputOptions).then((function(t){e.hideLoading(),r(t)}))):"object"===typeof t.inputOptions?r(t.inputOptions):m("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},zn=function(e,t){var n=e.getInput();ue(n),x(t.inputValue).then((function(r){n.value="number"===t.input?"".concat(parseFloat(r)||0):"".concat(r),se(n),n.focus(),e.hideLoading()})).catch((function(t){m("Error in inputValue promise: ".concat(t)),n.value="",se(n),n.focus(),e.hideLoading()}))},qn={select:function(e,t,n){var r=ae(e,l.select),i=function(e,t,r){var i=document.createElement("option");i.value=r,$(i,t),i.selected=Wn(r,n.inputValue),e.appendChild(i)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var a=document.createElement("optgroup");a.label=t,a.disabled=!1,r.appendChild(a),n.forEach((function(e){return i(a,e[1],e[0])}))}else i(r,n,t)})),r.focus()},radio:function(e,t,n){var r=ae(e,l.radio);t.forEach((function(e){var t=e[0],i=e[1],a=document.createElement("input"),o=document.createElement("label");a.type="radio",a.name=l.radio,a.value=t,Wn(t,n.inputValue)&&(a.checked=!0);var s=document.createElement("span");$(s,i),s.className=l.label,o.appendChild(a),o.appendChild(s),r.appendChild(o)}));var i=r.querySelectorAll("input");i.length&&i[0].focus()}},Hn=function e(t){var n=[];return"undefined"!==typeof Map&&t instanceof Map?t.forEach((function(t,r){var i=t;"object"===typeof i&&(i=e(i)),n.push([r,i])})):Object.keys(t).forEach((function(r){var i=t[r];"object"===typeof i&&(i=e(i)),n.push([r,i])})),n},Wn=function(e,t){return t&&t.toString()===e.toString()},Gn=function(t){var n=e.innerParams.get(t);t.disableButtons(),n.input?Qn(t,"confirm"):er(t,!0)},Kn=function(t){var n=e.innerParams.get(t);t.disableButtons(),n.returnInputValueOnDeny?Qn(t,"deny"):Xn(t,!1)},Yn=function(e,t){e.disableButtons(),t(It.cancel)},Qn=function(t,n){var r=e.innerParams.get(t);if(r.input){var i=jn(t,r);r.inputValidator?$n(t,i,n):t.getInput().checkValidity()?"deny"===n?Xn(t,i):er(t,i):(t.enableButtons(),t.showValidationMessage(r.validationMessage))}else m('The "input" parameter is needed to be set when using returnInputValueOn'.concat(p(n)))},$n=function(t,n,r){var i=e.innerParams.get(t);t.disableInput(),Promise.resolve().then((function(){return x(i.inputValidator(n,i.validationMessage))})).then((function(e){t.enableButtons(),t.enableInput(),e?t.showValidationMessage(e):"deny"===r?Xn(t,n):er(t,n)}))},Xn=function(t,n){var r=e.innerParams.get(t||void 0);r.showLoaderOnDeny&&Rn(M()),r.preDeny?(e.awaitingPromise.set(t||void 0,!0),Promise.resolve().then((function(){return x(r.preDeny(n,r.validationMessage))})).then((function(e){!1===e?(t.hideLoading(),tn(t)):t.close({isDenied:!0,value:"undefined"===typeof e?n:e})})).catch((function(e){return Zn(t||void 0,e)}))):t.close({isDenied:!0,value:n})},Jn=function(e,t){e.close({isConfirmed:!0,value:t})},Zn=function(e,t){e.rejectPromise(t)},er=function(t,n){var r=e.innerParams.get(t||void 0);r.showLoaderOnConfirm&&Rn(),r.preConfirm?(t.resetValidationMessage(),e.awaitingPromise.set(t||void 0,!0),Promise.resolve().then((function(){return x(r.preConfirm(n,r.validationMessage))})).then((function(e){fe(R())||!1===e?(t.hideLoading(),tn(t)):Jn(t,"undefined"===typeof e?n:e)})).catch((function(e){return Zn(t||void 0,e)}))):Jn(t,n)},tr=function(t,n,r){e.innerParams.get(t).toast?nr(t,n,r):(ar(n),or(n),sr(t,n,r))},nr=function(t,n,r){n.popup.onclick=function(){var n=e.innerParams.get(t);n&&(rr(n)||n.timer||n.input)||r(It.close)}},rr=function(e){return e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton},ir=!1,ar=function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(ir=!0)}}},or=function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(ir=!0)}}},sr=function(t,n,r){n.container.onclick=function(i){var a=e.innerParams.get(t);ir?ir=!1:i.target===n.container&&b(a.allowOutsideClick)&&r(It.backdrop)}},ur=function(e){return"object"===typeof e&&e.jquery},cr=function(e){return e instanceof Element||ur(e)},lr=function(e){var t={};return"object"!==typeof e[0]||cr(e[0])?["title","html","icon"].forEach((function(n,r){var i=e[r];"string"===typeof i||cr(i)?t[n]=i:void 0!==i&&m("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof i))})):Object.assign(t,e[0]),t};function fr(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return c(e,n)}function dr(e){var t=function(t){s(c,t);var n=u(c);function c(){return r(this,c),n.apply(this,arguments)}return i(c,[{key:"_main",value:function(t,n){return a(o(c.prototype),"_main",this).call(this,t,Object.assign({},e,n))}}]),c}(this);return t}var hr=function(){return ge.timeout&&ge.timeout.getTimerLeft()},pr=function(){if(ge.timeout)return me(),ge.timeout.stop()},vr=function(){if(ge.timeout){var e=ge.timeout.start();return ve(e),e}},mr=function(){var e=ge.timeout;return e&&(e.running?pr():vr())},yr=function(e){if(ge.timeout){var t=ge.timeout.increase(e);return ve(t,!0),t}},gr=function(){return ge.timeout&&ge.timeout.isRunning()},wr=!1,br={};function kr(){br[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,wr||(document.body.addEventListener("click",_r),wr=!0)}var xr,_r=function(e){for(var t=e.target;t&&t!==document;t=t.parentNode)for(var n in br){var r=t.getAttribute(n);if(r)return void br[n].fire({template:r})}},Sr=Object.freeze({isValidParameter:bn,isUpdatableParameter:kn,isDeprecatedParameter:xn,argsToParams:lr,isVisible:xt,clickConfirm:_t,clickDeny:St,clickCancel:Et,getContainer:E,getPopup:C,getTitle:O,getHtmlContainer:A,getImage:D,getIcon:N,getInputLabel:j,getCloseButton:q,getActions:V,getConfirmButton:L,getDenyButton:M,getCancelButton:U,getLoader:F,getFooter:B,getTimerProgressBar:z,getFocusableElements:W,getValidationMessage:R,isLoading:Y,fire:fr,mixin:dr,showLoading:Rn,enableLoading:Rn,getTimerLeft:hr,stopTimer:pr,resumeTimer:vr,toggleTimer:mr,increaseTimer:yr,isTimerRunning:gr,bindClickHandler:kr}),Er=function(){function e(t,n){r(this,e),this.callback=t,this.remaining=n,this.running=!1,this.start()}return i(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),Ir=["swal-title","swal-html","swal-footer"],Tr=function(e){var t="string"===typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};var n=t.content;return Rr(n),Object.assign(Cr(n),Nr(n),Or(n),Ar(n),Dr(n),Pr(n,Ir))},Cr=function(e){var t={};return Array.from(e.querySelectorAll("swal-param")).forEach((function(e){Lr(e,["name","value"]);var n=e.getAttribute("name"),r=e.getAttribute("value");"boolean"===typeof mn[n]&&(t[n]="false"!==r),"object"===typeof mn[n]&&(t[n]=JSON.parse(r))})),t},Nr=function(e){var t={};return Array.from(e.querySelectorAll("swal-button")).forEach((function(e){Lr(e,["type","color","aria-label"]);var n=e.getAttribute("type");t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(p(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),t},Or=function(e){var t={},n=e.querySelector("swal-image");return n&&(Lr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t},Ar=function(e){var t={},n=e.querySelector("swal-icon");return n&&(Lr(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Dr=function(e){var t={},n=e.querySelector("swal-input");n&&(Lr(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));var r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach((function(e){Lr(e,["value"]);var n=e.getAttribute("value"),r=e.innerHTML;t.inputOptions[n]=r}))),t},Pr=function(e,t){var n={};for(var r in t){var i=t[r],a=e.querySelector(i);a&&(Lr(a,[]),n[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},Rr=function(e){var t=Ir.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((function(e){var n=e.tagName.toLowerCase();t.includes(n)||v("Unrecognized element <".concat(n,">"))}))},Lr=function(e,t){Array.from(e.attributes).forEach((function(n){-1===t.indexOf(n.name)&&v(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))},Mr=10,jr=function(e){var t=E(),n=C();"function"===typeof e.willOpen&&e.willOpen(n);var r=window.getComputedStyle(document.body).overflowY;Br(t,n,e),setTimeout((function(){Ur(t,n)}),Mr),G()&&(Vr(t,e.scrollbarPadding,r),Ft()),K()||ge.previousActiveElement||(ge.previousActiveElement=document.activeElement),"function"===typeof e.didOpen&&setTimeout((function(){return e.didOpen(n)})),ie(t,l["no-transition"])},Fr=function e(t){var n=C();if(t.target===n){var r=E();n.removeEventListener(Pe,e),r.style.overflowY="auto"}},Ur=function(e,t){Pe&&pe(t)?(e.style.overflowY="hidden",t.addEventListener(Pe,Fr)):e.style.overflowY="auto"},Vr=function(e,t,n){Vt(),t&&"hidden"!==n&&Kt(),setTimeout((function(){e.scrollTop=0}))},Br=function(e,t,n){re(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),se(t,"grid"),setTimeout((function(){re(t,n.showClass.popup),t.style.removeProperty("opacity")}),Mr),re([document.documentElement,document.body],l.shown),n.heightAuto&&n.backdrop&&!n.toast&&re([document.documentElement,document.body],l["height-auto"])},zr={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function qr(e){e.inputValidator||Object.keys(zr).forEach((function(t){e.input===t&&(e.inputValidator=zr[t])}))}function Hr(e){(!e.target||"string"===typeof e.target&&!document.querySelector(e.target)||"string"!==typeof e.target&&!e.target.appendChild)&&(v('Target parameter is not valid, defaulting to "body"'),e.target="body")}function Wr(e){qr(e),e.showLoaderOnConfirm&&!e.preConfirm&&v("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),Hr(e),"string"===typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Ne(e)}var Gr=function(){function t(){if(r(this,t),"undefined"!==typeof window){xr=this;for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=Object.freeze(this.constructor.argsToParams(i));Object.defineProperties(this,{params:{value:o,writable:!1,enumerable:!0,configurable:!0}});var s=xr._main(xr.params);e.promise.set(this,s)}}return i(t,[{key:"_main",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};In(Object.assign({},n,t)),ge.currentInstance&&(ge.currentInstance._destroy(),G()&&Ut()),ge.currentInstance=xr;var r=Yr(t,n);Wr(r),Object.freeze(r),ge.timeout&&(ge.timeout.stop(),delete ge.timeout),clearTimeout(ge.restoreFocusTimeout);var i=Qr(xr);return gt(xr,r),e.innerParams.set(xr,r),Kr(xr,i,r)}},{key:"then",value:function(t){return e.promise.get(this).then(t)}},{key:"finally",value:function(t){return e.promise.get(this).finally(t)}}]),t}(),Kr=function(e,t,n){return new Promise((function(r,i){var a=function(t){e.close({isDismissed:!0,dismiss:t})};jt.swalPromiseResolve.set(e,r),jt.swalPromiseReject.set(e,i),t.confirmButton.onclick=function(){Gn(e)},t.denyButton.onclick=function(){Kn(e)},t.cancelButton.onclick=function(){Yn(e,a)},t.closeButton.onclick=function(){a(It.close)},tr(e,t,a),Ct(e,ge,n,a),Mn(e,n),jr(n),$r(ge,n,a),Xr(t,n),setTimeout((function(){t.container.scrollTop=0}))}))},Yr=function(e,t){var n=Tr(e),r=Object.assign({},mn,t,n,e);return r.showClass=Object.assign({},mn.showClass,r.showClass),r.hideClass=Object.assign({},mn.hideClass,r.hideClass),r},Qr=function(t){var n={popup:C(),container:E(),actions:V(),confirmButton:L(),denyButton:M(),cancelButton:U(),loader:F(),closeButton:q(),validationMessage:R(),progressSteps:P()};return e.domCache.set(t,n),n},$r=function(e,t,n){var r=z();ue(r),t.timer&&(e.timeout=new Er((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(se(r),Z(r,t,"timerProgressBar"),setTimeout((function(){e.timeout&&e.timeout.running&&ve(t.timer)}))))},Xr=function(e,t){t.toast||(b(t.allowEnterKey)?Jr(e,t)||Nt(t,-1,1):Zr())},Jr=function(e,t){return t.focusDeny&&fe(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&fe(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!fe(e.confirmButton))&&(e.confirmButton.focus(),!0)},Zr=function(){document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!==typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&Math.random()<.3){var ei=document.createElement("div");ei.className="save-yourself-from-war";var ti=S([{text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430 \u0441\u0435\u0439\u0447\u0430\u0441 - \u043d\u0435 \u043f\u043e\u043f\u0430\u0441\u0442\u044c \u043d\u0430 \u0432\u043e\u0439\u043d\u0443 \u0438 \u043f\u043e\u043c\u043e\u0447\u044c \u0441\u0432\u043e\u0438\u043c \u0431\u043b\u0438\u0436\u043d\u0438\u043c \u043d\u0435 \u0431\u044b\u0442\u044c \u043c\u043e\u0431\u0438\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b\u043c\u0438.",id:"X39ZkynPjpQ"}]);$(ei,"<div>".concat(ti.text,'</div>\n      <iframe width="560" height="315" src="https://www.youtube.com/embed/').concat(ti.id,'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n      <div>\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0441\u0435\u0431\u044f \u0438 \u0441\u0432\u043e\u0438\u0445 \u0431\u043b\u0438\u0437\u043a\u0438\u0445!</div>\n      '));var ni=document.createElement("button");ni.innerHTML="&times;",ni.onclick=function(){return ei.remove()},ei.appendChild(ni),window.addEventListener("load",(function(){setTimeout((function(){document.body.appendChild(ei)}),1e3)}))}Object.assign(Gr.prototype,Pn),Object.assign(Gr,Sr),Object.keys(Pn).forEach((function(e){Gr[e]=function(){var t;if(xr)return(t=xr)[e].apply(t,arguments)}})),Gr.DismissReason=It,Gr.version="11.4.37";var ri=Gr;return ri.default=ri,ri}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.save-yourself-from-war{display:flex;position:fixed;z-index:1939;top:0;right:0;bottom:0;left:0;flex-direction:column;align-items:center;justify-content:center;padding:25px 0 20px;background:#20232a;color:#fff;text-align:center}.save-yourself-from-war div{max-width:560px;margin:10px;line-height:146%}.save-yourself-from-war iframe{max-width:100%;max-height:55.5555555556vmin;margin:16px auto}.save-yourself-from-war strong{border-bottom:2px dashed #fff}.save-yourself-from-war button{display:flex;position:fixed;z-index:1940;top:0;right:0;align-items:center;justify-content:center;width:48px;height:48px;margin-right:10px;margin-bottom:-10px;border:none;background:0 0;color:#aaa;font-size:48px;font-weight:700;cursor:pointer}.save-yourself-from-war button:hover{color:#fff}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var h=o(e,f[0],f[1]);return u((function(){d.hasValue=!0,d.value=h}),[h]),l(h),h}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},8096:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r;(0,i.default)(e),"object"===a(t)?(n=t.min||0,r=t.max):(n=arguments[1],r=arguments[2]);var o=encodeURI(e).split(/%..|./).length-1;return o>=n&&("undefined"===typeof r||o<=r)};var r,i=(r=n(1292))&&r.__esModule?r:{default:r};function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}e.exports=t.default,e.exports.default=t.default},6046:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),(t=(0,i.default)(t,c)).require_display_name||t.allow_display_name){var n=e.match(l);if(n){var u=n[1];if(e=e.replace(u,"").replace(/(^<|>$)/g,""),u.endsWith(" ")&&(u=u.substr(0,u.length-1)),!function(e){var t=e.replace(/^"(.+)"$/,"$1");if(!t.trim())return!1;if(/[\.";<>]/.test(t)){if(t===e)return!1;if(!(t.split('"').length===t.split('\\"').length))return!1}return!0}(u))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>254)return!1;var m=e.split("@"),y=m.pop(),g=y.toLowerCase();if(t.host_blacklist.includes(g))return!1;var w=m.join("@");if(t.domain_specific_validation&&("gmail.com"===g||"googlemail.com"===g)){var b=(w=w.toLowerCase()).split("+")[0];if(!(0,a.default)(b.replace(/\./g,""),{min:6,max:30}))return!1;for(var k=b.split("."),x=0;x<k.length;x++)if(!d.test(k[x]))return!1}if(!1===t.ignore_max_length&&(!(0,a.default)(w,{max:64})||!(0,a.default)(y,{max:254})))return!1;if(!(0,o.default)(y,{require_tld:t.require_tld})){if(!t.allow_ip_domain)return!1;if(!(0,s.default)(y)){if(!y.startsWith("[")||!y.endsWith("]"))return!1;var _=y.substr(1,y.length-2);if(0===_.length||!(0,s.default)(_))return!1}}if('"'===w[0])return w=w.slice(1,w.length-1),t.allow_utf8_local_part?v.test(w):h.test(w);for(var S=t.allow_utf8_local_part?p:f,E=w.split("."),I=0;I<E.length;I++)if(!S.test(E[I]))return!1;if(t.blacklisted_chars&&-1!==w.search(new RegExp("[".concat(t.blacklisted_chars,"]+"),"g")))return!1;return!0};var r=u(n(1292)),i=u(n(9086)),a=u(n(8096)),o=u(n(464)),s=u(n(672));function u(e){return e&&e.__esModule?e:{default:e}}var c={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},l=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,d=/^[a-z\d]+$/,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,v=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default,e.exports.default=t.default},464:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e),(t=(0,i.default)(t,o)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var n=e.split("."),a=n[n.length-1];if(t.require_tld){if(n.length<2)return!1;if(!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a))return!1;if(/\s/.test(a))return!1}if(!t.allow_numeric_tld&&/^\d+$/.test(a))return!1;return n.every((function(e){return!(e.length>63)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)&&(!/[\uff01-\uff5e]/.test(e)&&(!/^-|-$/.test(e)&&!(!t.allow_underscores&&/_/.test(e)))))}))};var r=a(n(1292)),i=a(n(9086));function a(e){return e&&e.__esModule?e:{default:e}}var o={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};e.exports=t.default,e.exports.default=t.default},672:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,i.default)(t),!(n=String(n)))return e(t,4)||e(t,6);if("4"===n){if(!s.test(t))return!1;var r=t.split(".").sort((function(e,t){return e-t}));return r[3]<=255}if("6"===n)return!!c.test(t);return!1};var r,i=(r=n(1292))&&r.__esModule?r:{default:r};var a="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",o="(".concat(a,"[.]){3}").concat(a),s=new RegExp("^".concat(o,"$")),u="(?:[0-9a-fA-F]{1,4})",c=new RegExp("^("+"(?:".concat(u,":){7}(?:").concat(u,"|:)|")+"(?:".concat(u,":){6}(?:").concat(o,"|:").concat(u,"|:)|")+"(?:".concat(u,":){5}(?::").concat(o,"|(:").concat(u,"){1,2}|:)|")+"(?:".concat(u,":){4}(?:(:").concat(u,"){0,1}:").concat(o,"|(:").concat(u,"){1,3}|:)|")+"(?:".concat(u,":){3}(?:(:").concat(u,"){0,2}:").concat(o,"|(:").concat(u,"){1,4}|:)|")+"(?:".concat(u,":){2}(?:(:").concat(u,"){0,3}:").concat(o,"|(:").concat(u,"){1,5}|:)|")+"(?:".concat(u,":){1}(?:(:").concat(u,"){0,4}:").concat(o,"|(:").concat(u,"){1,6}|:)|")+"(?::((?::".concat(u,"){0,5}:").concat(o,"|(?::").concat(u,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");e.exports=t.default,e.exports.default=t.default},1292:function(e,t){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"===typeof e||e instanceof String)){var t=n(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),new TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default},9086:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)"undefined"===typeof e[n]&&(e[n]=t[n]);return e},e.exports=t.default,e.exports.default=t.default},2391:function(e){"use strict";var t=function(){};e.exports=t},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/giftListApp/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Bt},SDK_VERSION:function(){return Xn},_DEFAULT_ENTRY_NAME:function(){return Fn},_addComponent:function(){return zn},_addOrOverwriteComponent:function(){return qn},_apps:function(){return Vn},_clearComponents:function(){return Kn},_components:function(){return Bn},_getProvider:function(){return Wn},_registerComponent:function(){return Hn},_removeServiceInstance:function(){return Gn},deleteApp:function(){return tr},getApp:function(){return Zn},getApps:function(){return er},initializeApp:function(){return Jn},onLog:function(){return ir},registerVersion:function(){return rr},setLogLevel:function(){return ar}});var t=n(2791),r=n.t(t,2),i=n(1250),a=n(7248),o=n(327),s=n(4164);var u=function(e){e()},c=function(){return u},l=(0,t.createContext)(null);function f(){return(0,t.useContext)(l)}var d=function(){throw new Error("uSES not initialized!")},h=d,p=function(e,t){return e===t};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=e===l?f:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=h(o.addNestedSub,a.getState,s||a.getState,e,r);return(0,t.useDebugValue)(u),u}}var m=v(),y=n(2110),g=n.n(y);n(6900);var w={notify:function(){},get:function(){return[]}};function b(e,t){var n,r=w;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=c(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=w)},getListeners:function(){return r}};return o}var k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var x=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=b(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);k((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=r||l;return t.createElement(u.Provider,{value:o},i)};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=e===l?f:function(){return(0,t.useContext)(e)};return function(){return n().store}}var S=_();function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e===l?S:_(e);return function(){return t().dispatch}}var I,T,C=E();function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function O(){O=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(I){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var l={};function f(){}function d(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==N(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=h,s(y,"constructor",h),s(h,"constructor",d),d.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),s(y,o,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function A(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){A(a,r,i,o,s,"next",e)}function s(e){A(a,r,i,o,s,"throw",e)}o(void 0)}))}}function P(e){if(Array.isArray(e))return e}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){if(e){if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t){return P(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||L(e,t)||M()}function F(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function U(e){return function(e){if(Array.isArray(e))return R(e)}(e)||F(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function H(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}function G(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t){if(t&&("object"===N(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return K(e)}function Q(e){var t=G();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Y(this,n)}}function $(e,t,n){return $=G()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&q(i,n.prototype),i},$.apply(null,arguments)}function X(e){var t="function"===typeof Map?new Map:void 0;return X=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return $(e,arguments,W(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),q(n,e)},X(e)}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}!function(e){h=e}(o.useSyncExternalStoreWithSelector),function(e){e}(a.useSyncExternalStore),I=s.unstable_batchedUpdates,u=I,function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(T||(T={}));var Z,ee="popstate";function te(e){return{usr:e.state,key:e.key}}function ne(e,t,n,r){return void 0===n&&(n=null),J({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ie(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function re(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function ie(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ae(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=T.Pop,f=null;function d(){l=T.Pop,f&&f({action:l,location:h.location})}var h={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(ee,d),f=e,function(){o.removeEventListener(ee,d),f=null}},createHref:function(e){return t(o,e)},push:function(e,t){l=T.Push;var r=ne(h.location,e,t);n&&n(r,e);var i=te(r),a=h.createHref(r);try{c.pushState(i,"",a)}catch(s){o.location.assign(a)}u&&f&&f({action:l,location:r})},replace:function(e,t){l=T.Replace;var r=ne(h.location,e,t);n&&n(r,e);var i=te(r),a=h.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:r})},go:function(e){return c.go(e)}};return h}function oe(e,t,n){void 0===n&&(n="/");var r=he(("string"===typeof t?ie(t):t).pathname||"/",n);if(null==r)return null;var i=se(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=fe(i[o],r);return a}function se(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(pe(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=ye([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(pe(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),se(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:le(o,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Z||(Z={}));var ue=/^:\w+$/,ce=function(e){return"*"===e};function le(e,t){var n=e.split("/"),r=n.length;return n.some(ce)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!ce(e)})).reduce((function(e,t){return e+(ue.test(t)?3:""===t?1:10)}),r)}function fe(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=de({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ye([i,l.pathname]),pathnameBase:ge(ye([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ye([i,l.pathnameBase]))}return a}function de(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);ve("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[@.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=j(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return ve(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function he(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function pe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function ve(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function me(e,t,n,r){void 0===r&&(r=!1);var i,a="string"===typeof e?ie(e):J({},e),o=""===e||""===a.pathname,s=o?"/":a.pathname;if(r||null==s)i=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;a.pathname=c.join("/")}i=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?ie(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:we(a),hash:be(s)}}(a,i),f=s&&"/"!==s&&s.endsWith("/"),d=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var ye=function(e){return e.join("/").replace(/\/\/+/g,"/")},ge=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},we=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},be=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ke=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.apply(this,arguments)}return z(n)}(X(Error));var xe=z((function e(t,n,r){V(this,e),this.status=t,this.statusText=n||"",this.data=r}));function _e(e){return e instanceof xe}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}var Ee="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Ie=t.useState,Te=t.useEffect,Ce=t.useLayoutEffect,Ne=t.useDebugValue;function Oe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Ee(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,function(e){e.useSyncExternalStore}(r);var Ae=t.createContext(null);var De=t.createContext(null);var Pe=t.createContext(null);var Re=t.createContext(null);var Le=t.createContext(null);var Me=t.createContext(null);var je=t.createContext({outlet:null,matches:[]});var Fe=t.createContext(null);function Ue(){return null!=t.useContext(Me)}function Ve(){return Ue()||pe(!1),t.useContext(Me).location}function Be(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function ze(){Ue()||pe(!1);var e=t.useContext(Le),n=e.basename,r=e.navigator,i=t.useContext(je).matches,a=Ve().pathname,o=JSON.stringify(Be(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);t.useEffect((function(){s.current=!0}));var u=t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=me(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:ye([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}function qe(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(je).matches,a=Ve().pathname,o=JSON.stringify(Be(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return me(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function He(){var e=$e(),n=_e(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var We,Ge=function(e){H(r,e);var n=Q(r);function r(e){var t;return V(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return z(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Fe.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Ke(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(Ae);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(je.Provider,{value:n},i)}function Ye(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||pe(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(He,null):null,l=function(){return t.createElement(Ke,{match:o,routeContext:{outlet:e,matches:n.concat(i.slice(0,s+1))}},u?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===s)?t.createElement(Ge,{location:r.location,component:c,error:u,children:l()}):l()}),null)}function Qe(e){var n=t.useContext(Pe);return n||pe(!1),n}function $e(){var e,n=t.useContext(Fe),r=Qe(We.UseRouteError),i=t.useContext(je),a=i.matches[i.matches.length-1];return n||(i||pe(!1),a.route.id||pe(!1),null==(e=r.errors)?void 0:e[a.route.id])}!function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(We||(We={}));var Xe;function Je(e){var n=e.to,r=e.replace,i=e.state,a=e.relative;Ue()||pe(!1);var o=t.useContext(Pe),s=ze();return t.useEffect((function(){o&&"idle"!==o.navigation.state||s(n,{replace:r,state:i,relative:a})})),null}function Ze(e){pe(!1)}function et(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?T.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;Ue()&&pe(!1);var d=r.replace(/^\/*/,"/"),h=t.useMemo((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof o&&(o=ie(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,w=p.hash,b=void 0===w?"":w,k=p.state,x=void 0===k?null:k,_=p.key,S=void 0===_?"default":_,E=t.useMemo((function(){var e=he(m,d);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:S}}),[d,m,g,b,x,S]);return null==E?null:t.createElement(Le.Provider,{value:h},t.createElement(Me.Provider,{children:a,value:{location:E,navigationType:u}}))}function tt(e){var n=e.children,r=e.location,i=t.useContext(De);return function(e,n){Ue()||pe(!1);var r,i=t.useContext(Pe),a=t.useContext(je).matches,o=a[a.length-1],s=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/"),c=(o&&o.route,Ve());if(n){var l,f="string"===typeof n?ie(n):n;"/"===u||(null==(l=f.pathname)?void 0:l.startsWith(u))||pe(!1),r=f}else r=c;var d=r.pathname||"/",h=oe(e,{pathname:"/"===u?d:d.slice(u.length)||"/"}),p=Ye(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:ye([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:ye([u,e.pathnameBase])})})),a,i||void 0);return n?t.createElement(Me.Provider,{value:{location:Se({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:T.Pop}},p):p}(i&&!n?i.router.routes:rt(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Xe||(Xe={}));var nt=new Promise((function(){}));t.Component;function rt(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Ze&&pe(!1);var a=[].concat(U(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=rt(e.props.children,a)),r.push(o)}else r.push.apply(r,rt(e.props.children,n))})),r}function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(this,arguments)}function at(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var ot=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function st(e){var n=e.basename,r=e.children,i=e.window,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),ae((function(e,t){var n=e.location;return ne("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:re(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,s=j(t.useState({action:o.action,location:o.location}),2),u=s[0],c=s[1];return t.useLayoutEffect((function(){return o.listen(c)}),[o]),t.createElement(et,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}var ut=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,u=e.target,c=e.to,l=e.preventScrollReset,f=at(e,ot),d=function(e,n){var r=(void 0===n?{}:n).relative;Ue()||pe(!1);var i=t.useContext(Le),a=i.basename,o=i.navigator,s=qe(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ye([a,c])),o.createHref({pathname:f,search:l,hash:u})}(c,{relative:i}),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=ze(),l=Ve(),f=qe(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:re(l)===re(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(c,{replace:o,state:s,target:u,preventScrollReset:l,relative:i});return t.createElement("a",it({},f,{href:d,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||h(e)},ref:n,target:u}))}));var ct="[Auth] Login",lt="[Auth] Logout",ft="[UI] Set Error",dt="[UI] Remove Error",ht="[UI] Start Loading",pt="[UI] Finish Loading",vt="[UI] Start Loading Gift List",mt="[UI] Finish Loading Gift List",yt="[UI] Start Loading favorites gift list",gt="[UI] Finish Loading favorites gift list",wt="[GiftList] Add",bt="[GiftList] Remove",kt="[GiftList] Update",xt="[GiftList] Load",_t="[GiftList] Active",St="[GiftList] Favorite Load",Et="[GiftList] Favorite Add";function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=L(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var Ct=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Nt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,d=(15&s)<<2|c>>6,h=63&c;u||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ct(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ot=function(e){return function(e){var t=Ct(e);return Nt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},At=function(e){try{return Nt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Dt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Dt(e[n],t[n]));return e}var Pt=function(){function e(){var t=this;V(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return z(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Rt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ot(JSON.stringify({alg:"none",type:"JWT"})),Ot(JSON.stringify(a)),""].join(".")}function Lt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Mt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function jt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ft(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ut(){var e=Lt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Vt(){return"object"===typeof indexedDB}var Bt=function(e){H(n,e);var t=Q(n);function n(e,r,i){var a;return V(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(K(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(K(a),zt.prototype.create),a}return z(n)}(X(Error)),zt=function(){function e(t,n,r){V(this,e),this.service=t,this.serviceName=n,this.errors=r}return z(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?qt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Bt(n,a,t);return o}}]),e}();function qt(e,t){return e.replace(Ht,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ht=/\{\$([^}]+)}/g;function Wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Kt(s)&&Kt(u)){if(!Gt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Kt(e){return null!==e&&"object"===typeof e}function Yt(e){for(var t=[],n=function(){var e=j(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Qt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=j(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function $t(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Xt(e,t){var n=new Jt(e,t);return n.subscribe.bind(n)}var Jt=function(){function e(t,n){var r=this;V(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return z(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Tt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Zt),void 0===r.error&&(r.error=Zt),void 0===r.complete&&(r.complete=Zt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Zt(){}function en(e){return e&&e._delegate?e._delegate:e}var tn=function(){function e(t,n,r){V(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return z(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),nn="[DEFAULT]",rn=function(){function e(t,n){V(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return z(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Pt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:nn})}catch(u){}var t,n=Tt(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=j(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=D(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(U(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),U(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Tt(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=j(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Tt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(aE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===nn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(aE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;return this.component?this.component.multipleInstances?e:nn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var an,on,sn=function(){function e(t){V(this,e),this.name=t,this.providers=new Map}return z(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new rn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),un=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(on||(on={}));var cn={debug:on.DEBUG,verbose:on.VERBOSE,info:on.INFO,warn:on.WARN,error:on.ERROR,silent:on.SILENT},ln=on.INFO,fn=(It(an={},on.DEBUG,"log"),It(an,on.VERBOSE,"log"),It(an,on.INFO,"info"),It(an,on.WARN,"warn"),It(an,on.ERROR,"error"),an),dn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=fn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},hn=function(){function e(t){V(this,e),this.name=t,this._logLevel=ln,this._logHandler=dn,this._userLogHandler=null,un.push(this)}return z(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in on))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?cn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,on.DEBUG].concat(t)),this._logHandler.apply(this,[this,on.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,on.VERBOSE].concat(t)),this._logHandler.apply(this,[this,on.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,on.INFO].concat(t)),this._logHandler.apply(this,[this,on.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,on.WARN].concat(t)),this._logHandler.apply(this,[this,on.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,on.ERROR].concat(t)),this._logHandler.apply(this,[this,on.ERROR].concat(t))}}]),e}();function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mn,yn;var gn=new WeakMap,wn=new WeakMap,bn=new WeakMap,kn=new WeakMap,xn=new WeakMap;var _n={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return wn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||bn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Sn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yn||(yn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Tn(this),n),In(gn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return In(e.apply(Tn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Tn(this),t].concat(r));return bn.set(a,t.sort?t.sort():[t]),In(a)}}function En(e){return"function"===typeof e?Sn(e):(e instanceof IDBTransaction&&function(e){if(!wn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));wn.set(e,t)}}(e),t=e,(mn||(mn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,_n):e);var t}function In(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(In(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&gn.set(t,e)})).catch((function(){})),xn.set(t,e),t}(e);if(kn.has(e))return kn.get(e);var t=En(e);return t!==e&&(kn.set(e,t),xn.set(t,e)),t}var Tn=function(e){return xn.get(e)};var Cn,Nn,On=["get","getKey","getAll","getAllKeys","count"],An=["put","add","delete","clear"],Dn=new Map;function Pn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Dn.get(t))return Dn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=An.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||On.includes(n))){var a=function(){var e=D(O().mark((function e(t){var a,o,s,u,c,l,f=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Dn.set(t,a),a}}}_n=function(e){return vn(vn({},e),{},{get:function(t,n,r){return Pn(t,n)||e.get(t,n,r)},has:function(t,n){return!!Pn(t,n)||e.has(t,n)}})}(_n);var Rn=function(){function e(t){V(this,e),this.container=t}return z(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ln="@firebase/app",Mn="0.7.33",jn=new hn("@firebase/app"),Fn="[DEFAULT]",Un=(It(Cn={},Ln,"fire-core"),It(Cn,"@firebase/app-compat","fire-core-compat"),It(Cn,"@firebase/analytics","fire-analytics"),It(Cn,"@firebase/analytics-compat","fire-analytics-compat"),It(Cn,"@firebase/app-check","fire-app-check"),It(Cn,"@firebase/app-check-compat","fire-app-check-compat"),It(Cn,"@firebase/auth","fire-auth"),It(Cn,"@firebase/auth-compat","fire-auth-compat"),It(Cn,"@firebase/database","fire-rtdb"),It(Cn,"@firebase/database-compat","fire-rtdb-compat"),It(Cn,"@firebase/functions","fire-fn"),It(Cn,"@firebase/functions-compat","fire-fn-compat"),It(Cn,"@firebase/installations","fire-iid"),It(Cn,"@firebase/installations-compat","fire-iid-compat"),It(Cn,"@firebase/messaging","fire-fcm"),It(Cn,"@firebase/messaging-compat","fire-fcm-compat"),It(Cn,"@firebase/performance","fire-perf"),It(Cn,"@firebase/performance-compat","fire-perf-compat"),It(Cn,"@firebase/remote-config","fire-rc"),It(Cn,"@firebase/remote-config-compat","fire-rc-compat"),It(Cn,"@firebase/storage","fire-gcs"),It(Cn,"@firebase/storage-compat","fire-gcs-compat"),It(Cn,"@firebase/firestore","fire-fst"),It(Cn,"@firebase/firestore-compat","fire-fst-compat"),It(Cn,"fire-js","fire-js"),It(Cn,"firebase","fire-js-all"),Cn),Vn=new Map,Bn=new Map;function zn(e,t){try{e.container.addComponent(t)}catch(n){jn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function qn(e,t){e.container.addOrOverwriteComponent(t)}function Hn(e){var t=e.name;if(Bn.has(t))return jn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Bn.set(t,e);var n,r=Tt(Vn.values());try{for(r.s();!(n=r.n()).done;){zn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Wn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Gn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fn;Wn(e,t).clearInstance(n)}function Kn(){Bn.clear()}var Yn=(It(Nn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),It(Nn,"bad-app-name","Illegal App name: '{$appName}"),It(Nn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),It(Nn,"app-deleted","Firebase App named '{$appName}' already deleted"),It(Nn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),It(Nn,"invalid-log-argument","First argument to `onLog` must be null or a function."),It(Nn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),It(Nn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),It(Nn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),It(Nn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Nn),Qn=new zt("app","Firebase",Yn),$n=function(){function e(t,n,r){var i=this;V(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tn("app",(function(){return i}),"PUBLIC"))}return z(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}]),e}(),Xn="9.10.0";function Jn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Fn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Qn.create("bad-app-name",{appName:String(i)});var a=Vn.get(i);if(a){if(Gt(e,a.options)&&Gt(r,a.config))return a;throw Qn.create("duplicate-app",{appName:i})}var o,s=new sn(i),u=Tt(Bn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new $n(e,r,s);return Vn.set(i,l),l}function Zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn,t=Vn.get(e);if(!t)throw Qn.create("no-app",{appName:e});return t}function er(){return Array.from(Vn.values())}function tr(e){return nr.apply(this,arguments)}function nr(){return nr=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Vn.has(n)){e.next=6;break}return Vn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),nr.apply(this,arguments)}function rr(e,t,n){var r,i=null!==(r=Un[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void jn.warn(s.join(" "))}Hn(new tn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ir(e,t){if(null!==e&&"function"!==typeof e)throw Qn.create("invalid-log-argument");!function(e,t){var n,r=Tt(un);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=cn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:on[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ar(e){var t;t=e,un.forEach((function(e){e.setLogLevel(t)}))}var or="firebase-heartbeat-store",sr=null;function ur(){return sr||(sr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=In(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(In(s.result),e.oldVersion,e.newVersion,In(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(or)}}).catch((function(e){throw Qn.create("idb-open",{originalErrorMessage:e.message})}))),sr}function cr(e){return lr.apply(this,arguments)}function lr(){return lr=D(O().mark((function e(t){var n,r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ur();case 3:return r=e.sent,e.abrupt("return",r.transaction(or).objectStore(or).get(hr(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Bt?jn.warn(e.t0.message):(i=Qn.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),jn.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),lr.apply(this,arguments)}function fr(e,t){return dr.apply(this,arguments)}function dr(){return dr=D(O().mark((function e(t,n){var r,i,a,o,s;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ur();case 3:return i=e.sent,a=i.transaction(or,"readwrite"),o=a.objectStore(or),e.next=8,o.put(n,hr(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Bt?jn.warn(e.t0.message):(s=Qn.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),jn.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),dr.apply(this,arguments)}function hr(e){return"".concat(e.name,"!").concat(e.options.appId)}var pr=function(){function e(t){var n=this;V(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new wr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return z(e,[{key:"triggerHeartbeat",value:function(){var e=D(O().mark((function e(){var t,n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=vr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=D(O().mark((function e(){var t,n,r,i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=vr(),n=mr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ot(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function vr(){return(new Date).toISOString().substring(0,10)}function mr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Tt(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),br(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),br(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var yr,gr,wr=function(){function e(t){V(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return z(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=D(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,cr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=D(O().mark((function e(t){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",fr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=D(O().mark((function e(t){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",fr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(U(r.heartbeats),U(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function br(e){return Ot(JSON.stringify({version:2,heartbeats:e})).length}yr="",Hn(new tn("platform-logger",(function(e){return new Rn(e)}),"PRIVATE")),Hn(new tn("heartbeat",(function(e){return new pr(e)}),"PRIVATE")),rr(Ln,Mn,yr),rr(Ln,Mn,"esm2017"),rr("fire-js","");var kr=function(){function e(t,n){var r=this;V(this,e),this._delegate=t,this.firebase=n,zn(t,new tn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return z(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),tr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){zn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){qn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),xr=(It(gr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),It(gr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),gr),_r=new zt("app-compat","Firebase",xr);var Sr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Jn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Wt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:rr,setLogLevel:ar,onLog:ir,apps:null,SDK_VERSION:Xn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Hn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw _r.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Dt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Wt(n,e=e||Fn))throw _r.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(kr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Dt(n,e)},createSubscribe:Xt,ErrorFactory:zt,deepExtend:Dt}),n}(),Er=new hn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Er.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ir=self.firebase.SDK_VERSION;Ir&&Ir.indexOf("LITE")>=0&&Er.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Tr=Sr;!function(e){rr("@firebase/app-compat","0.1.34",e)}();function Cr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}function Nr(){return Nr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Cr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Nr.apply(this,arguments)}Tr.registerVersion("firebase","9.10.0","app-compat");function Or(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ar;Object.create;var Dr="facebook.com",Pr="github.com",Rr="google.com",Lr="password",Mr="twitter.com",jr="EMAIL_SIGNIN",Fr="PASSWORD_RESET",Ur="RECOVER_EMAIL",Vr="REVERT_SECOND_FACTOR_ADDITION",Br="VERIFY_AND_CHANGE_EMAIL",zr="VERIFY_EMAIL";function qr(){return It({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Hr=function(){var e;return It(e={},"admin-restricted-operation","This operation is restricted to administrators only."),It(e,"argument-error",""),It(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),It(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),It(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),It(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),It(e,"cordova-not-ready","Cordova framework is not ready."),It(e,"cors-unsupported","This browser is not supported."),It(e,"credential-already-in-use","This credential is already associated with a different user account."),It(e,"custom-token-mismatch","The custom token corresponds to a different audience."),It(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),It(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),It(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),It(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),It(e,"email-already-in-use","The email address is already in use by another account."),It(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),It(e,"expired-action-code","The action code has expired."),It(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),It(e,"internal-error","An internal AuthError has occurred."),It(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),It(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),It(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),It(e,"invalid-auth-event","An internal AuthError has occurred."),It(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),It(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),It(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),It(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),It(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),It(e,"invalid-email","The email address is badly formatted."),It(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),It(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),It(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),It(e,"invalid-credential","The supplied auth credential is malformed or has expired."),It(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),It(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),It(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),It(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),It(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),It(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),It(e,"wrong-password","The password is invalid or the user does not have a password."),It(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),It(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),It(e,"invalid-provider-id","The specified provider ID is invalid."),It(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),It(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),It(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),It(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),It(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),It(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),It(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),It(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),It(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),It(e,"missing-continue-uri","A continue URL must be provided in the request."),It(e,"missing-iframe-start","An internal AuthError has occurred."),It(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),It(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),It(e,"missing-multi-factor-info","No second factor identifier is provided."),It(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),It(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),It(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),It(e,"app-deleted","This instance of FirebaseApp has been deleted."),It(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),It(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),It(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),It(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),It(e,"no-auth-event","An internal AuthError has occurred."),It(e,"no-such-provider","User was not linked to an account with the given provider."),It(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),It(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),It(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),It(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),It(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),It(e,"provider-already-linked","User can only be linked to one identity for the given provider."),It(e,"quota-exceeded","The project's quota for this operation has been exceeded."),It(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),It(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),It(e,"rejected-credential","The request contains malformed or mismatching credentials."),It(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),It(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),It(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),It(e,"timeout","The operation has timed out."),It(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),It(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),It(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),It(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),It(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),It(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),It(e,"unverified-email","The operation requires a verified email."),It(e,"user-cancelled","The user did not grant your application the permissions it requested."),It(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),It(e,"user-disabled","The user account has been disabled by an administrator."),It(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),It(e,"user-signed-out",""),It(e,"weak-password","The password must be 6 characters long or more."),It(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),It(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Wr=qr,Gr=new zt("auth","Firebase",qr()),Kr=new hn("@firebase/auth");function Yr(e){if(Kr.logLevel<=on.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Kr.error.apply(Kr,["Auth (".concat(Xn,"): ").concat(e)].concat(n))}}function Qr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Zr.apply(void 0,[e].concat(n))}function $r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Zr.apply(void 0,[e].concat(n))}function Xr(e,t,n){var r=Object.assign(Object.assign({},Wr()),It({},t,n));return new zt("auth","Firebase",r).create(t,{appName:e.name})}function Jr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Qr(e,"argument-error"),Xr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Zr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=U(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(U(o)))}return Gr.create.apply(Gr,[e].concat(n))}function ei(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Zr.apply(void 0,[t].concat(r))}}function ti(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Yr(t),new Error(t)}function ni(e,t){e||ti(t)}var ri=new Map;function ii(e){ni(e instanceof Function,"Expected a class definition");var t=ri.get(e);return t?(ni(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ri.set(e,t),t)}function ai(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function oi(){return"http:"===si()||"https:"===si()}function si(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ui=function(){function e(t,n){V(this,e),this.shortDelay=t,this.longDelay=n,ni(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())||Ft()}return z(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(oi()||jt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ci(e,t){ni(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var li=function(){function e(){V(this,e)}return z(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),fi=(It(Ar={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),It(Ar,"MISSING_CUSTOM_TOKEN","internal-error"),It(Ar,"INVALID_IDENTIFIER","invalid-email"),It(Ar,"MISSING_CONTINUE_URI","internal-error"),It(Ar,"INVALID_PASSWORD","wrong-password"),It(Ar,"MISSING_PASSWORD","internal-error"),It(Ar,"EMAIL_EXISTS","email-already-in-use"),It(Ar,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),It(Ar,"INVALID_IDP_RESPONSE","invalid-credential"),It(Ar,"INVALID_PENDING_TOKEN","invalid-credential"),It(Ar,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),It(Ar,"MISSING_REQ_TYPE","internal-error"),It(Ar,"EMAIL_NOT_FOUND","user-not-found"),It(Ar,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),It(Ar,"EXPIRED_OOB_CODE","expired-action-code"),It(Ar,"INVALID_OOB_CODE","invalid-action-code"),It(Ar,"MISSING_OOB_CODE","internal-error"),It(Ar,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),It(Ar,"INVALID_ID_TOKEN","invalid-user-token"),It(Ar,"TOKEN_EXPIRED","user-token-expired"),It(Ar,"USER_NOT_FOUND","user-token-expired"),It(Ar,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),It(Ar,"INVALID_CODE","invalid-verification-code"),It(Ar,"INVALID_SESSION_INFO","invalid-verification-id"),It(Ar,"INVALID_TEMPORARY_PROOF","invalid-credential"),It(Ar,"MISSING_SESSION_INFO","missing-verification-id"),It(Ar,"SESSION_EXPIRED","code-expired"),It(Ar,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),It(Ar,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),It(Ar,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),It(Ar,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),It(Ar,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),It(Ar,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),It(Ar,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),It(Ar,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),It(Ar,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),It(Ar,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),It(Ar,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ar),di=new ui(3e4,6e4);function hi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function pi(e,t,n,r){return vi.apply(this,arguments)}function vi(){return vi=D(O().mark((function e(t,n,r,i){var a,o=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",mi(t,a,D(O().mark((function e(){var a,o,s,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Yt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",li.fetch()(bi(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}function mi(e,t,n){return yi.apply(this,arguments)}function yi(){return yi=D(O().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,h;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},fi),n),e.prev=2,a=new ki(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw xi(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=j(c,2),f=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw xi(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw xi(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw xi(t,"user-disabled",s);case 29:if(h=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Xr(t,h,d);case 34:Qr(t,h);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Bt)){e.next=41;break}throw e.t0;case 41:Qr(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),yi.apply(this,arguments)}function gi(e,t,n,r){return wi.apply(this,arguments)}function wi(){return wi=D(O().mark((function e(t,n,r,i){var a,o,s=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,pi(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Qr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),wi.apply(this,arguments)}function bi(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ci(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ki=function(){function e(t){var n=this;V(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t($r(n.auth,"network-request-failed"))}),di.get())}))}return z(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function xi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=$r(e,t,r);return i.customData._tokenResponse=n,i}function _i(e,t){return Si.apply(this,arguments)}function Si(){return(Si=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pi(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ei(e,t){return Ii.apply(this,arguments)}function Ii(){return(Ii=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ti(e,t){return Ci.apply(this,arguments)}function Ci(){return(Ci=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pi(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ni(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Oi(){return Oi=D(O().mark((function e(t){var n,r,i,a,o,s,u=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=en(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ei((a=Di(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ni(Ai(a.auth_time)),issuedAtTime:Ni(Ai(a.iat)),expirationTime:Ni(Ai(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Ai(e){return 1e3*Number(e)}function Di(e){var t,n=j(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Yr("JWT malformed, contained fewer than 3 sections"),null;try{var o=At(i);return o?JSON.parse(o):(Yr("Failed to decode base64 JWT payload"),null)}catch(s){return Yr("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function Pi(e,t){return Ri.apply(this,arguments)}function Ri(){return Ri=D(O().mark((function e(t,n){var r=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Bt&&Li(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ri.apply(this,arguments)}function Li(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Mi=function(){function e(t){V(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return z(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(D(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=D(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ji=function(){function e(t,n){V(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return z(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ni(this.lastLoginAt),this.creationTime=Ni(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Fi(e){return Ui.apply(this,arguments)}function Ui(){return Ui=D(O().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,d;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Pi(t,Ti(r,{idToken:i}));case 6:ei(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?zi(o.providerUserInfo):[],u=Bi(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ji(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}function Vi(){return(Vi=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=en(t),e.next=3,Fi(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bi(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(U(n),U(t))}function zi(e){return e.map((function(e){var t=e.providerId,n=Or(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function qi(e,t){return Hi.apply(this,arguments)}function Hi(){return(Hi=D(O().mark((function e(t,n){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mi(t,{},D(O().mark((function e(){var r,i,a,o,s,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=bi(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",li.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wi=function(){function e(){V(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return z(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ei(e.idToken,"internal-error"),ei("undefined"!==typeof e.idToken,"internal-error"),ei("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Di(e);return ei(t,"internal-error"),ei("undefined"!==typeof t.exp,"internal-error"),ei("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=D(O().mark((function e(t){var n,r=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ei(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=D(O().mark((function e(t,n){var r,i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ti("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ei("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ei("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ei("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Gi(e,t){ei("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ki=function(){function e(t){V(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Or(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?U(a.providerData):[],this.metadata=new ji(a.createdAt||void 0,a.lastLoginAt||void 0)}return z(e,[{key:"getIdToken",value:function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ei(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Oi.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Vi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ei(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ei(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=D(O().mark((function e(t){var n,r,i=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Fi(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=D(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Pi(this,_i(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,w=n.uid,b=n.emailVerified,k=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;ei(w&&_,t,"internal-error");var S=Wi.fromJSON(this.name,_);ei("string"===typeof w,t,"internal-error"),Gi(f,t.name),Gi(d,t.name),ei("boolean"===typeof b,t,"internal-error"),ei("boolean"===typeof k,t,"internal-error"),Gi(h,t.name),Gi(p,t.name),Gi(v,t.name),Gi(m,t.name),Gi(y,t.name),Gi(g,t.name);var E=new e({uid:w,auth:t,email:d,emailVerified:b,displayName:f,isAnonymous:k,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=D(O().mark((function t(n,r){var i,a,o,s=arguments;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Wi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Fi(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Yi=function(){function e(){V(this,e),this.type="NONE",this.storage={}}return z(e,[{key:"_isAvailable",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Yi.type="NONE";var Qi=Yi;function $i(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Xi=function(){function e(t,n,r){V(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=$i(this.userKey,a.apiKey,o),this.fullPersistenceKey=$i("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return z(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=D(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ki._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=D(O().mark((function t(n,r){var i,a,o,s,u,c,l,f,d,h,p,v=arguments;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ii(Qi),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ii(Qi),s=$i(i,n.config.apiKey,n.name),u=null,c=Tt(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return h=Ki._fromJSON(n,d),f!==o&&(u=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ji(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(na(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ia(t))return"Blackberry";if(aa(t))return"Webos";if(ea(t))return"Safari";if((t.includes("chrome/")||ta(t))&&!t.includes("edge/"))return"Chrome";if(ra(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/firefox\//i.test(e)}function ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/crios\//i.test(e)}function na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/iemobile/i.test(e)}function ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/android/i.test(e)}function ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/blackberry/i.test(e)}function aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/webos/i.test(e)}function oa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function sa(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return oa(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ua(){return Ut()&&10===document.documentMode}function ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return oa(e)||ra(e)||aa(e)||ia(e)||/windows phone/i.test(e)||na(e)}function la(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ji(Lt());break;case"Worker":t="".concat(Ji(Lt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Xn,"/").concat(r)}var fa=function(){function e(t){V(this,e),this.auth=t,this.queue=[]}return z(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=D(O().mark((function e(t){var n,r,i,a,o,s,u,c;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Tt(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=Tt(r);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(_U){}}}catch(l){s.e(l)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),da=function(){function e(t,n,r){V(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pa(this),this.idTokenSubscription=new pa(this),this.beforeStateQueue=new fa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return z(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ii(t)),this._initializationPromise=this.queue(D(O().mark((function r(){var i,a;return O().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Xi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=D(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=D(O().mark((function e(t){var n,r,i,a,o,s,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ei(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fi(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?en(t):null)&&ei(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=D(O().mark((function e(t){var n,r=this,i=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ei(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(D(O().mark((function n(){return O().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ii(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new zt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=D(O().mark((function e(t,n){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ei(n=t&&ii(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Xi.create(this,[ii(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=D(O().mark((function e(t){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=D(O().mark((function e(t){var n=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ei(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ei(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=la(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=D(O().mark((function e(){var t,n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=It({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ha(e){return en(e)}var pa=function(){function e(t){var n=this;V(this,e),this.auth=t,this.observer=null,this.addObserver=Xt((function(e){return n.observer=e}))}return z(e,[{key:"next",get:function(){return ei(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function va(e,t,n){var r=ha(e);ei(r._canInitEmulator,r,"emulator-config-failed"),ei(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ma(t),o=function(e){var t=ma(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ya(r.substr(a.length+1))}}var o=j(r.split(":"),2);return{host:o[0],port:ya(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ma(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ya(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ga=function(){function e(t,n){V(this,e),this.providerId=t,this.signInMethod=n}return z(e,[{key:"toJSON",value:function(){return ti("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ti("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ti("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ti("not implemented")}}]),e}();function wa(e,t){return ba.apply(this,arguments)}function ba(){return(ba=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pi(t,"POST","/v1/accounts:resetPassword",hi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ka(e,t){return xa.apply(this,arguments)}function xa(){return(xa=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _a(e,t){return Sa.apply(this,arguments)}function Sa(){return(Sa=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pi(t,"POST","/v1/accounts:update",hi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ea(e,t){return Ia.apply(this,arguments)}function Ia(){return(Ia=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi(t,"POST","/v1/accounts:signInWithPassword",hi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(e,t){return Ca.apply(this,arguments)}function Ca(){return(Ca=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pi(t,"POST","/v1/accounts:sendOobCode",hi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Na(e,t){return Oa.apply(this,arguments)}function Oa(){return(Oa=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ta(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Aa(e,t){return Da.apply(this,arguments)}function Da(){return(Da=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ta(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pa(e,t){return Ra.apply(this,arguments)}function Ra(){return(Ra=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ta(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function La(e,t){return Ma.apply(this,arguments)}function Ma(){return(Ma=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ta(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(e,t){return Fa.apply(this,arguments)}function Fa(){return(Fa=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ua(e,t){return Va.apply(this,arguments)}function Va(){return(Va=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ba=function(e){H(n,e);var t=Q(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return V(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return z(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ea(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ja(t,{email:this._email,oobCode:this._password}));case 5:Qr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ka(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ua(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Qr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ga);function za(e,t){return qa.apply(this,arguments)}function qa(){return(qa=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi(t,"POST","/v1/accounts:signInWithIdp",hi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ha=function(e){H(n,e);var t=Q(n);function n(){var e;return V(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return z(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return za(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,za(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,za(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Or(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ga);function Wa(e,t){return Ga.apply(this,arguments)}function Ga(){return(Ga=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pi(t,"POST","/v1/accounts:sendVerificationCode",hi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ka(){return(Ka=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi(t,"POST","/v1/accounts:signInWithPhoneNumber",hi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(){return(Ya=D(O().mark((function e(t,n){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gi(t,"POST","/v1/accounts:signInWithPhoneNumber",hi(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw xi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qa=It({},"USER_NOT_FOUND","user-not-found");function $a(){return($a=D(O().mark((function e(t,n){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",gi(t,"POST","/v1/accounts:signInWithPhoneNumber",hi(t,r),Qa));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xa=function(e){H(n,e);var t=Q(n);function n(e){var r;return V(this,n),(r=t.call(this,"phone","phone")).params=e,r}return z(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ka.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ya.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return $a.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ga);var Ja=function(){function e(t){var n,r,i,a,o,s;V(this,e);var u=Qt($t(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);ei(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return z(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Qt($t(e)).link,n=t?Qt($t(t)).deep_link_id:null,r=Qt($t(e)).deep_link_id;return(r?Qt($t(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(aE){return null}}}]),e}();var Za=function(){function e(){V(this,e),this.providerId=e.PROVIDER_ID}return z(e,null,[{key:"credential",value:function(e,t){return Ba._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ja.parseLink(t);return ei(n,"argument-error"),Ba._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Za.PROVIDER_ID="password",Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var eo=function(){function e(t){V(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return z(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),to=function(e){H(n,e);var t=Q(n);function n(){var e;return V(this,n),(e=t.apply(this,arguments)).scopes=[],e}return z(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return U(this.scopes)}}]),n}(eo),no=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.apply(this,arguments)}return z(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ei(e.idToken||e.accessToken,"argument-error"),Ha._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ei("providerId"in t&&"signInMethod"in t,"argument-error"),Ha._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(to),ro=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.call(this,"facebook.com")}return z(n,null,[{key:"credential",value:function(e){return Ha._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(aE){return null}}}]),n}(to);ro.FACEBOOK_SIGN_IN_METHOD="facebook.com",ro.PROVIDER_ID="facebook.com";var io=function(e){H(n,e);var t=Q(n);function n(){var e;return V(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return z(n,null,[{key:"credential",value:function(e,t){return Ha._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(aE){return null}}}]),n}(to);io.GOOGLE_SIGN_IN_METHOD="google.com",io.PROVIDER_ID="google.com";var ao=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.call(this,"github.com")}return z(n,null,[{key:"credential",value:function(e){return Ha._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(aE){return null}}}]),n}(to);ao.GITHUB_SIGN_IN_METHOD="github.com",ao.PROVIDER_ID="github.com";var oo=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return z(n,[{key:"_getIdTokenResponse",value:function(e){return za(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,za(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,za(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ga),so=function(e){H(n,e);var t=Q(n);function n(e){return V(this,n),ei(e.startsWith("saml."),"argument-error"),t.call(this,e)}return z(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=oo.fromJSON(e);return ei(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return oo._create(r,n)}catch(i){return null}}}]),n}(eo),uo=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.call(this,"twitter.com")}return z(n,null,[{key:"credential",value:function(e,t){return Ha._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(aE){return null}}}]),n}(to);function co(e,t){return lo.apply(this,arguments)}function lo(){return(lo=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi(t,"POST","/v1/accounts:signUp",hi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}uo.TWITTER_SIGN_IN_METHOD="twitter.com",uo.PROVIDER_ID="twitter.com";var fo=function(){function e(t){V(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return z(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=D(O().mark((function t(n,r,i){var a,o,s,u,c=arguments;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ki._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=ho(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=D(O().mark((function t(n,r,i){var a;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ho(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ho(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function po(){return po=D(O().mark((function e(t){var n,r,i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ha(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new fo({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,co(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,fo._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}var vo=function(e){H(n,e);var t=Q(n);function n(e,r,i,a){var o,s;return V(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(K(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return z(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Bt);function mo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw vo._fromErrorAndOperation(e,n,t,r);throw n}))}function yo(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function go(e,t){return wo.apply(this,arguments)}function wo(){return wo=D(O().mark((function e(t,n){var r,i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=en(t),e.next=3,xo(!0,r,n);case 3:return e.t0=Ei,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=yo(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}function bo(e,t){return ko.apply(this,arguments)}function ko(){return ko=D(O().mark((function e(t,n){var r,i,a=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Pi,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",fo._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}function xo(e,t,n){return _o.apply(this,arguments)}function _o(){return(_o=D(O().mark((function e(t,n,r){var i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fi(n);case 2:i=yo(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ei(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(e,t){return Eo.apply(this,arguments)}function Eo(){return Eo=D(O().mark((function e(t,n){var r,i,a,o,s,u,c,l=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Pi(t,mo(a,o,n,t),r);case 6:return ei((s=e.sent).idToken,a,"internal-error"),ei(u=Di(s.idToken),a,"internal-error"),c=u.sub,ei(t.uid===c,a,"user-mismatch"),e.abrupt("return",fo._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Qr(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Eo.apply(this,arguments)}function Io(e,t){return To.apply(this,arguments)}function To(){return To=D(O().mark((function e(t,n){var r,i,a,o,s=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,mo(t,i,n);case 4:return a=e.sent,e.next=7,fo._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),To.apply(this,arguments)}function Co(e,t){return No.apply(this,arguments)}function No(){return(No=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Io(ha(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oo(e,t){return Ao.apply(this,arguments)}function Ao(){return(Ao=D(O().mark((function e(t,n){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=en(t),e.next=3,xo(!1,r,n.providerId);case 3:return e.abrupt("return",bo(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(e,t){return Po.apply(this,arguments)}function Po(){return(Po=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",So(en(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(e,t){return Lo.apply(this,arguments)}function Lo(){return(Lo=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi(t,"POST","/v1/accounts:signInWithCustomToken",hi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mo(){return(Mo=D(O().mark((function e(t,n){var r,i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ha(t),e.next=3,Ro(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,fo._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jo=function(){function e(t,n){V(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return z(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Fo._fromServerResponse(e,t):Qr(e,"internal-error")}}]),e}(),Fo=function(e){H(n,e);var t=Q(n);function n(e){var r;return V(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return z(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(jo);function Uo(e,t,n){var r;ei((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ei("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ei(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ei(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Vo(){return(Vo=D(O().mark((function e(t,n,r){var i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=en(t),a={requestType:"PASSWORD_RESET",email:n},r&&Uo(i,a,r),e.next=5,Aa(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bo(){return(Bo=D(O().mark((function e(t,n,r){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wa(en(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zo(){return(zo=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_a(en(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(e,t){return Ho.apply(this,arguments)}function Ho(){return(Ho=D(O().mark((function e(t,n){var r,i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=en(t),e.next=3,wa(r,{oobCode:n});case 3:i=e.sent,ei(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ei(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ei(i.mfaInfo,r,"internal-error");case 13:ei(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=jo._fromServerResponse(ha(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(){return(Wo=D(O().mark((function e(t,n){var r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qo(en(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Go(e,t,n){return Ko.apply(this,arguments)}function Ko(){return(Ko=D(O().mark((function e(t,n,r){var i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ha(t),e.next=3,co(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,fo._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yo(){return(Yo=D(O().mark((function e(t,n,r){var i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=en(t),a={requestType:"EMAIL_SIGNIN",email:n},ei(r.handleCodeInApp,i,"argument-error"),r&&Uo(i,a,r),e.next=6,Pa(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qo(){return(Qo=D(O().mark((function e(t,n,r){var i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=en(t),ei((a=Za.credentialWithLink(n,r||ai()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Co(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $o(e,t){return Xo.apply(this,arguments)}function Xo(){return(Xo=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pi(t,"POST","/v1/accounts:createAuthUri",hi(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jo(){return(Jo=D(O().mark((function e(t,n){var r,i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oi()?ai():"http://localhost",i={identifier:n,continueUri:r},e.next=4,$o(en(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zo(){return(Zo=D(O().mark((function e(t,n){var r,i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=en(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Uo(r.auth,a,n),e.next=8,Na(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(){return(es=D(O().mark((function e(t,n,r){var i,a,o,s;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=en(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Uo(i.auth,o,r),e.next=8,La(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return(ns=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rs(){return(rs=D(O().mark((function e(t,n){var r,i,a,o,s,u,c;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=en(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Pi(a,ts(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function is(e,t,n){return as.apply(this,arguments)}function as(){return(as=D(O().mark((function e(t,n,r){var i,a,o,s;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Pi(t,ka(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var os=z((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};V(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ss=function(e){H(n,e);var t=Q(n);function n(e,r,i,a){var o;return V(this,n),(o=t.call(this,e,r,i)).username=a,o}return z(n)}(os),us=function(e){H(n,e);var t=Q(n);function n(e,r){return V(this,n),t.call(this,e,"facebook.com",r)}return z(n)}(os),cs=function(e){H(n,e);var t=Q(n);function n(e,r){return V(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return z(n)}(ss),ls=function(e){H(n,e);var t=Q(n);function n(e,r){return V(this,n),t.call(this,e,"google.com",r)}return z(n)}(os),fs=function(e){H(n,e);var t=Q(n);function n(e,r,i){return V(this,n),t.call(this,e,"twitter.com",r,i)}return z(n)}(ss);function ds(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Di(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new os(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new us(a,i);case"github.com":return new cs(a,i);case"google.com":return new ls(a,i);case"twitter.com":return new fs(a,i,e.screenName||null);case"custom":case"anonymous":return new os(a,null);default:return new os(a,r,i)}}(n)}var hs=function(){function e(t,n,r){V(this,e),this.type=t,this.credential=n,this.auth=r}return z(e,[{key:"toJSON",value:function(){return{multiFactorSession:It({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ps=function(){function e(t,n,r){V(this,e),this.session=t,this.hints=n,this.signInResolver=r}return z(e,[{key:"resolveSignIn",value:function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ha(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return jo._fromServerResponse(r,e)}));ei(i.mfaPendingCredential,r,"internal-error");var o=hs._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=D(O().mark((function e(t){var a,s,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,fo._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return ei(n.user,r,"internal-error"),e.abrupt("return",fo._forOperation(n.user,n.operationType,s));case 17:Qr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function vs(e,t){return pi(e,"POST","/v2/accounts/mfaEnrollment:start",hi(e,t))}var ms=function(){function e(t){var n=this;V(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return jo._fromServerResponse(t.auth,e)})))}))}return z(e,[{key:"getSession",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=hs,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=D(O().mark((function e(t,n){var r,i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Pi(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=D(O().mark((function e(t){var n,r,i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Pi(this.user,pi(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",hi(o,{idToken:i,mfaEnrollmentId:r})));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ys=new WeakMap;var gs="__sak",ws=function(){function e(t,n){V(this,e),this.storageRetriever=t,this.type=n}return z(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(gs,"1"),this.storage.removeItem(gs),Promise.resolve(!0)):Promise.resolve(!1)}catch(aE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var bs=function(e){H(n,e);var t=Q(n);function n(){var e;return V(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Lt();return ea(e)||oa(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ca(),e._shouldAllowMigration=!0,e}return z(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ua()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=D(O().mark((function e(t,r){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nr(W(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=D(O().mark((function e(t){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nr(W(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nr(W(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ws);bs.type="LOCAL";var ks=bs,xs=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return z(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ws);xs.type="SESSION";var _s=xs;function Ss(e){return Promise.all(e.map(function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Es=function(){function e(t){V(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return z(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=D(O().mark((function e(t){var n,r,i,a,o,s,u,c;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ss(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Is(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Es.receivers=[];var Ts=function(){function e(t){V(this,e),this.target=t,this.handlers=new Set}return z(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=D(O().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Is("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Cs(){return window}function Ns(){return"undefined"!==typeof Cs().WorkerGlobalScope&&"function"===typeof Cs().importScripts}function Os(){return As.apply(this,arguments)}function As(){return(As=D(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ds(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ps="firebaseLocalStorageDb",Rs="firebaseLocalStorage",Ls="fbase_key",Ms=function(){function e(t){V(this,e),this.request=t}return z(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function js(e,t){return e.transaction([Rs],t?"readwrite":"readonly").objectStore(Rs)}function Fs(){var e=indexedDB.deleteDatabase(Ps);return new Ms(e).toPromise()}function Us(){var e=indexedDB.open(Ps,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Rs,{keyPath:Ls})}catch(r){n(r)}})),e.addEventListener("success",D(O().mark((function n(){var r;return O().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Rs)){n.next=12;break}return r.close(),n.next=5,Fs();case 5:return n.t0=t,n.next=8,Us();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Vs(e,t,n){return Bs.apply(this,arguments)}function Bs(){return Bs=D(O().mark((function e(t,n,r){var i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=js(t,!0).put((It(i={},Ls,n),It(i,"value",r),i)),e.abrupt("return",new Ms(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}function zs(e,t){return qs.apply(this,arguments)}function qs(){return qs=D(O().mark((function e(t,n){var r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=js(t,!1).get(n),e.next=3,new Ms(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}function Hs(e,t){var n=js(e,!0).delete(t);return new Ms(n).toPromise()}var Ws=function(){function e(){V(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return z(e,[{key:"_openDb",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Us();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=D(O().mark((function e(t){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ns()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=D(O().mark((function e(){var t=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Es._getInstance(Ns()?self:null),this.receiver._subscribe("keyChanged",function(){var e=D(O().mark((function e(n,r){var i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=D(O().mark((function e(){var t,n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ts(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ds()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=D(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Us();case 5:return t=e.sent,e.next=8,Vs(t,gs,"1");case 8:return e.next=10,Hs(t,gs);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=D(O().mark((function e(t,n){var r=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Vs(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return zs(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=D(O().mark((function e(t){var n=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Hs(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=D(O().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=js(e,!1).getAll();return new Ms(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Tt(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(D(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ws.type="LOCAL";var Gs=Ws;function Ks(e,t){return pi(e,"POST","/v2/accounts/mfaSignIn:start",hi(e,t))}function Ys(e){return Qs.apply(this,arguments)}function Qs(){return(Qs=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $s(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=$r("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Xs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Js=1e12,Zs=function(){function e(t){V(this,e),this.auth=t,this.counter=Js,this._widgets=new Map}return z(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new eu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Js;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Js;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=D(O().mark((function e(t){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Js,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),eu=function(){function e(t,n,r){var i=this;V(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ei(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return z(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var tu=Xs("rcb"),nu=new ui(3e4,6e4),ru="https://www.google.com/recaptcha/api.js?",iu=function(){function e(){var t;V(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Cs().grecaptcha)||void 0===t?void 0:t.render)}return z(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ei(au(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Cs().grecaptcha):new Promise((function(r,i){var a=Cs().setTimeout((function(){i($r(e,"network-request-failed"))}),nu.get());Cs()[tu]=function(){Cs().clearTimeout(a),delete Cs()[tu];var o=Cs().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i($r(e,"internal-error"))},$s("".concat(ru,"?").concat(Yt({onload:tu,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i($r(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Cs().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function au(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var ou=function(){function e(){V(this,e)}return z(e,[{key:"load",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Zs(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),su="recaptcha",uu={theme:"light",type:"image"},cu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},uu),r=arguments.length>2?arguments[2]:void 0;V(this,e),this.parameters=n,this.type=su,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ha(r),this.isInvisible="invisible"===this.parameters.size,ei("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ei(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ou:new iu,this.validateStartingState()}return z(e,[{key:"verify",value:function(){var e=D(O().mark((function e(){var t,n,r,i=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ei(!this.parameters.sitekey,this.auth,"argument-error"),ei(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ei("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Cs()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ei(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=D(O().mark((function e(){var t,n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=D(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ei(oi()&&!Ns(),this.auth,"internal-error"),e.next=3,lu();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ys(this.auth);case 8:ei(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ei(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function lu(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var fu=function(){function e(t,n){V(this,e),this.verificationId=t,this.onConfirmation=n}return z(e,[{key:"confirm",value:function(e){var t=Xa._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function du(){return(du=D(O().mark((function e(t,n,r){var i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ha(t),e.next=3,mu(i,n,en(r));case 3:return a=e.sent,e.abrupt("return",new fu(a,(function(e){return Co(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hu(e,t,n){return pu.apply(this,arguments)}function pu(){return(pu=D(O().mark((function e(t,n,r){var i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=en(t),e.next=3,xo(!1,i,"phone");case 3:return e.next=5,mu(i.auth,n,en(r));case 5:return a=e.sent,e.abrupt("return",new fu(a,(function(e){return Oo(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vu(){return(vu=D(O().mark((function e(t,n,r){var i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=en(t),e.next=3,mu(i.auth,n,en(r));case 3:return a=e.sent,e.abrupt("return",new fu(a,(function(e){return Do(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mu(e,t,n){return yu.apply(this,arguments)}function yu(){return yu=D(O().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ei("string"===typeof a,t,"argument-error"),ei(r.type===su,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return ei("enroll"===s.type,t,"internal-error"),e.next=13,vs(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return ei("signin"===s.type,t,"internal-error"),ei(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ks(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Wa(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),yu.apply(this,arguments)}function gu(){return(gu=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bo(en(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wu=function(){function e(t){V(this,e),this.providerId=e.PROVIDER_ID,this.auth=ha(t)}return z(e,[{key:"verifyPhoneNumber",value:function(e,t){return mu(this.auth,e,en(t))}}],[{key:"credential",value:function(e,t){return Xa._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Xa._fromTokenResponse(n,r):null}}]),e}();function bu(e,t){return t?ii(t):(ei(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}wu.PROVIDER_ID="phone",wu.PHONE_SIGN_IN_METHOD="phone";var ku=function(e){H(n,e);var t=Q(n);function n(e){var r;return V(this,n),(r=t.call(this,"custom","custom")).params=e,r}return z(n,[{key:"_getIdTokenResponse",value:function(e){return za(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return za(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return za(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ga);function xu(e){return Io(e.auth,new ku(e),e.bypassAuthState)}function _u(e){var t=e.auth,n=e.user;return ei(n,t,"internal-error"),So(n,new ku(e),e.bypassAuthState)}function Su(e){return Eu.apply(this,arguments)}function Eu(){return(Eu=D(O().mark((function e(t){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ei(r=t.user,n,"internal-error"),e.abrupt("return",bo(r,new ku(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Iu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];V(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return z(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=D(O().mark((function t(n,r){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=D(O().mark((function e(t){var n,r,i,a,o,s,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xu;case"linkViaPopup":case"linkViaRedirect":return Su;case"reauthViaPopup":case"reauthViaRedirect":return _u;default:Qr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Tu=new ui(2e3,1e4);function Cu(e,t,n){return Nu.apply(this,arguments)}function Nu(){return(Nu=D(O().mark((function e(t,n,r){var i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ha(t),Jr(t,n,eo),a=bu(i,r),o=new Pu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ou(){return(Ou=D(O().mark((function e(t,n,r){var i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jr((i=en(t)).auth,n,eo),a=bu(i.auth,r),o=new Pu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Au(e,t,n){return Du.apply(this,arguments)}function Du(){return(Du=D(O().mark((function e(t,n,r){var i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jr((i=en(t)).auth,n,eo),a=bu(i.auth,r),o=new Pu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pu=function(e){H(n,e);var t=Q(n);function n(e,r,i,a,o){var s;return V(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=K(s),s}return z(n,[{key:"executeNotNull",value:function(){var e=D(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ei(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=D(O().mark((function e(){var t,n=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ni(1===this.filter.length,"Popup operations only handle one event"),t=Is(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject($r(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject($r(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject($r(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Tu.get())}()}}]),n}(Iu);Pu.currentPopupAction=null;var Ru=new Map,Lu=function(e){H(n,e);var t=Q(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return V(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return z(n,[{key:"execute",value:function(){var e=D(O().mark((function e(){var t,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ru.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Mu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Nr(W(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ru.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ru.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=D(O().mark((function e(t){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Nr(W(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Nr(W(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Iu);function Mu(e,t){return ju.apply(this,arguments)}function ju(){return(ju=D(O().mark((function e(t,n){var r,i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(n),i=Bu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(e,t){return Uu.apply(this,arguments)}function Uu(){return(Uu=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bu(t)._set(zu(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vu(e,t){Ru.set(e._key(),t)}function Bu(e){return ii(e._redirectPersistence)}function zu(e){return $i("pendingRedirect",e.config.apiKey,e.name)}function qu(e,t,n){return function(e,t,n){return Hu.apply(this,arguments)}(e,t,n)}function Hu(){return(Hu=D(O().mark((function e(t,n,r){var i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ha(t),Jr(t,n,eo),a=bu(i,r),e.next=5,Fu(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wu(e,t,n){return function(e,t,n){return Gu.apply(this,arguments)}(e,t,n)}function Gu(){return(Gu=D(O().mark((function e(t,n,r){var i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jr((i=en(t)).auth,n,eo),a=bu(i.auth,r),e.next=5,Fu(a,i.auth);case 5:return e.next=7,Zu(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ku(e,t,n){return function(e,t,n){return Yu.apply(this,arguments)}(e,t,n)}function Yu(){return(Yu=D(O().mark((function e(t,n,r){var i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jr((i=en(t)).auth,n,eo),a=bu(i.auth,r),e.next=5,xo(!1,i,n.providerId);case 5:return e.next=7,Fu(a,i.auth);case 7:return e.next=9,Zu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qu(e,t){return $u.apply(this,arguments)}function $u(){return($u=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ha(t)._initializationPromise;case 2:return e.abrupt("return",Xu(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xu(e,t){return Ju.apply(this,arguments)}function Ju(){return Ju=D(O().mark((function e(t,n){var r,i,a,o,s,u=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ha(t),a=bu(i,n),o=new Lu(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}function Zu(e){return ec.apply(this,arguments)}function ec(){return(ec=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Is("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tc=function(){function e(t){V(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return z(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!rc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError($r(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(nc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function nc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function rc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ic(e){return ac.apply(this,arguments)}function ac(){return ac=D(O().mark((function e(t){var n,r=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",pi(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}var oc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sc=/^https?/;function uc(){return(uc=D(O().mark((function e(t){var n,r,i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ic(t);case 4:n=e.sent,r=n.authorizedDomains,i=Tt(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!cc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Qr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function cc(e){var t=ai(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!sc.test(r))return!1;if(oc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var lc=new ui(3e4,6e4);function fc(){var e=Cs().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=U(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var dc=null;function hc(e){return dc=dc||function(e){return new Promise((function(t,n){var r,i,a;function o(){fc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){fc(),n($r(e,"network-request-failed"))},timeout:lc.get()})}if(null===(i=null===(r=Cs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Cs().gapi)||void 0===a?void 0:a.load)){var s=Xs("iframefcb");return Cs()[s]=function(){gapi.load?o():n($r(e,"network-request-failed"))},$s("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw dc=null,e}))}(e),dc}var pc=new ui(5e3,15e3),vc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yc(e){var t=e.config;ei(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ci(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Xn},i=mc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Yt(r).slice(1))}function gc(e){return wc.apply(this,arguments)}function wc(){return wc=D(O().mark((function e(t){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hc(t);case 2:return n=e.sent,ei(r=Cs().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:yc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vc,dontclear:!0},(function(e){return new Promise(function(){var n=D(O().mark((function n(r,i){var a,o,s;return O().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Cs().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=$r(t,"network-request-failed"),o=Cs().setTimeout((function(){i(a)}),pc.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),wc.apply(this,arguments)}var bc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kc="_blank",xc="http://localhost",_c=function(){function e(t){V(this,e),this.window=t,this.associatedEvent=null}return z(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Sc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},bc),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Lt().toLowerCase();n&&(s=ta(c)?kc:n),Zi(c)&&(t=t||xc,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=j(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(sa(c)&&"_self"!==s)return Ec(t||"",s),new _c(null);var f=window.open(t||"",s,l);ei(f,e,"popup-blocked");try{f.focus()}catch(d){}return new _c(f)}function Ec(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ic="__/auth/handler",Tc="emulator/auth/handler";function Cc(e,t,n,r,i,a){ei(e.config.authDomain,e,"auth-domain-config-required"),ei(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Xn,eventId:i};if(t instanceof eo){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=j(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof to){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var h=o,p=0,v=Object.keys(h);p<v.length;p++){var m=v[p];void 0===h[m]&&delete h[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ic);return ci(t,Tc)}(e),"?").concat(Yt(h).slice(1))}var Nc="webStorageSupport",Oc=function(){function e(){V(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_s,this._completeRedirectFn=Xu,this._overrideRedirectResult=Vu}return z(e,[{key:"_openPopup",value:function(){var e=D(O().mark((function e(t,n,r,i){var a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ni(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Cc(t,n,r,ai(),i),e.abrupt("return",Sc(t,o,Is()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=D(O().mark((function e(t,n,r,i){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Cc(t,n,r,ai(),i),Cs().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ni(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=D(O().mark((function e(t){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gc(t);case 2:return n=e.sent,r=new tc(t),n.register("authEvent",(function(e){return ei(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Nc,{type:Nc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Qr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return uc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ca()||ea()||oa()}}]),e}(),Ac=Oc,Dc=function(e){H(n,e);var t=Q(n);function n(e){var r;return V(this,n),(r=t.call(this,"phone")).credential=e,r}return z(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return pi(e,"POST","/v2/accounts/mfaEnrollment:finalize",hi(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return pi(e,"POST","/v2/accounts/mfaSignIn:finalize",hi(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){V(this,e),this.factorId=t}return z(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ti("unexpected MultiFactorSessionType")}}}]),e}()),Pc=function(){function e(){V(this,e)}return z(e,null,[{key:"assertion",value:function(e){return Dc._fromCredential(e)}}]),e}();Pc.FACTOR_ID="phone";var Rc,Lc="@firebase/auth",Mc="0.20.7",jc=function(){function e(t){V(this,e),this.auth=t,this.internalListeners=new Map}return z(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ei(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Fc(){return window}Rc="Browser",Hn(new tn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){ei(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ei(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Rc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:la(Rc)},i=new da(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Hn(new tn("auth-internal",(function(e){return function(e){return new jc(e)}(ha(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),rr(Lc,Mc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Rc)),rr(Lc,Mc,"esm2017");function Uc(e,t,n){return Vc.apply(this,arguments)}function Vc(){return Vc=D(O().mark((function e(t,n,r){var i,a,o,s,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fc(),o=a.BuildInfo,ni(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Gc(n.sessionId);case 4:return s=e.sent,u={},oa()?u.ibi=o.packageName:ra()?u.apn=o.packageName:Qr(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Cc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}function Bc(){return(Bc=D(O().mark((function e(t){var n,r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fc(),r=n.BuildInfo,i={},oa()?i.iosBundleId=r.packageName:ra()?i.androidPackageName=r.packageName:Qr(t,"operation-not-supported-in-this-environment"),e.next=5,ic(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zc(e){var t=Fc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function qc(e,t,n){return Hc.apply(this,arguments)}function Hc(){return Hc=D(O().mark((function e(t,n,r){var i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i($r(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),ra()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Hc.apply(this,arguments)}function Wc(e){var t,n,r,i,a,o,s,u,c,l,f=Fc();ei("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ei("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ei("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ei("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ei("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Gc(e){return Kc.apply(this,arguments)}function Kc(){return(Kc=D(O().mark((function e(t){var n,r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yc(e){if(ni(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Qc=function(e){H(n,e);var t=Q(n);function n(){var e;return V(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return z(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Nr(W(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(tc);function $c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:tl(),postBody:null,tenantId:e.tenantId,error:$r(e,"no-auth-event")}}function Xc(e,t){return nl()._set(rl(e),t)}function Jc(e){return Zc.apply(this,arguments)}function Zc(){return(Zc=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nl()._get(rl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,nl()._remove(rl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function el(e,t){var n,r,i=function(e){var t=il(e),n=t.link?decodeURIComponent(t.link):void 0,r=il(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return il(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=il(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?$r(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function tl(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function nl(){return ii(ks)}function rl(e){return $i("authEvent",e.config.apiKey,e.name)}function il(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=P(t=n)||F(t)||L(t)||M();r[0];return Qt(r.slice(1).join("?"))}var al=function(){function e(){V(this,e),this._redirectPersistence=_s,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xu,this._overrideRedirectResult=Vu}return z(e,[{key:"_initialize",value:function(){var e=D(O().mark((function e(t){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Qc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Qr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=D(O().mark((function e(t,n,r,i){var a,o,s,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ru.clear(),e.next=10,this._originValidation(t);case 10:return o=$c(t,r,i),e.next=13,Xc(t,o);case 13:return e.next=15,Uc(t,o,n);case 15:return s=e.sent,e.next=18,zc(s);case 18:return u=e.sent,e.abrupt("return",qc(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Bc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Fc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(D(O().mark((function n(){return O().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Jc(e);case 2:t.onEvent(sl());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=D(O().mark((function n(r){var i,a;return O().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Jc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=el(i,r.url)),t.onEvent(a||sl());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Fc().handleOpenURL=function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),ol=al;function sl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$r("no-auth-event")}}function ul(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return!("file:"!==ul()&&"ionic:"!==ul()&&"capacitor:"!==ul()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ll(){return Ut()&&11===(null===document||void 0===document?void 0:document.documentMode)}function fl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return/Edge\/\d+/.test(e)}function dl(){try{var e=self.localStorage,t=Is();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt();return ll()||fl(e)}()||Vt()}catch(n){return hl()&&Vt()}return!1}function hl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function pl(){return("http:"===ul()||"https:"===ul()||jt()||cl())&&!(Ft()||Mt())&&dl()&&!hl()}function vl(){return cl()&&"undefined"!==typeof document}function ml(){return yl.apply(this,arguments)}function yl(){return(yl=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gl={LOCAL:"local",NONE:"none",SESSION:"session"},wl=ei,bl="persistence";function kl(e,t){wl(Object.values(gl).includes(t),e,"invalid-persistence-type"),Ft()?wl(t!==gl.SESSION,e,"unsupported-persistence-type"):Mt()?wl(t===gl.NONE,e,"unsupported-persistence-type"):hl()?wl(t===gl.NONE||t===gl.LOCAL&&Vt(),e,"unsupported-persistence-type"):wl(t===gl.NONE||dl(),e,"unsupported-persistence-type")}function xl(e){return _l.apply(this,arguments)}function _l(){return(_l=D(O().mark((function e(t){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Sl(),r=$i(bl,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var El=ei,Il=function(){function e(){V(this,e),this.browserResolver=ii(Ac),this.cordovaResolver=ii(ol),this.underlyingResolver=null,this._redirectPersistence=_s,this._completeRedirectFn=Xu,this._overrideRedirectResult=Vu}return z(e,[{key:"_initialize",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=D(O().mark((function e(t,n,r,i){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=D(O().mark((function e(t,n,r,i){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return vl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return El(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=D(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ml();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Tl(e){return e.unwrap()}function Cl(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new Pl(e,function(e,t){var n,r=en(e),i=t;return ei(t.customData.operationType,r,"argument-error"),ei(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ps._fromError(r,i)}(e,t));else if(i){var a=Nl(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Nl(e){var t=(e instanceof Bt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Bt)&&"temporaryProof"in t&&"phoneNumber"in t)return wu.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Lr)return null;switch(r){case Rr:n=io;break;case Dr:n=ro;break;case Pr:n=ao;break;case Mr:n=uo;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?oo._create(r,s):Ha._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new no(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Bt?n.credentialFromError(e):n.credentialFromResult(e)}function Ol(e,t){return t.catch((function(t){throw t instanceof Bt&&Cl(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Nl(t)),additionalUserInfo:ds(e),user:Rl.getOrCreate(r)}}))}function Al(e,t){return Dl.apply(this,arguments)}function Dl(){return(Dl=D(O().mark((function e(t,n){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Ol(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pl=function(){function e(t,n){V(this,e),this.resolver=n,this.auth=t.wrapped()}return z(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Ol(Tl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Rl=function(){function e(t){V(this,e),this._delegate=t,this.multiFactor=function(e){var t=en(e);return ys.has(t)||ys.set(t,ms._fromUser(t)),ys.get(t)}(t)}return z(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ol(this.auth,Oo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Al(this.auth,hu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ol(this.auth,Au(this._delegate,t,Il)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xl(ha(this.auth));case 2:return e.abrupt("return",Ku(this._delegate,t,Il));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ol(this.auth,Do(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Al(this.auth,function(e,t,n){return vu.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Ol(this.auth,function(e,t,n){return Ou.apply(this,arguments)}(this._delegate,e,Il))}},{key:"reauthenticateWithRedirect",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xl(ha(this.auth));case 2:return e.abrupt("return",Wu(this._delegate,t,Il));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Zo.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,go(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return is(en(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return is(en(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return gu.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return rs.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return es.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Rl.USER_MAP=new WeakMap;var Ll=ei,Ml=function(){function e(t,n){if(V(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Ll(r,"invalid-api-key",{appName:t.name}),Ll(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Il:void 0;this._delegate=n.initialize({options:{persistence:Fl(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Hr),this.linkUnderlyingAuth()}return z(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Rl.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){va(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return zo.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return qo(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Bo.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ol(this._delegate,Go(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Jo.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ja.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=D(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ll(pl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Qu(this._delegate,Il);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Ol(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ha(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=jl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=jl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Yo.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Vo.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=D(O().mark((function e(t){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kl(this._delegate,t),e.t0=t,e.next=e.t0===gl.SESSION?4:e.t0===gl.LOCAL?6:e.t0===gl.NONE?11:13;break;case 4:return n=_s,e.abrupt("break",14);case 6:return e.next=8,ii(Gs)._isAvailable();case 8:return r=e.sent,n=r?Gs:ks,e.abrupt("break",14);case 11:return n=Qi,e.abrupt("break",14);case 13:return e.abrupt("return",Qr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Ol(this._delegate,function(e){return po.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Ol(this._delegate,Co(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Ol(this._delegate,function(e,t){return Mo.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Ol(this._delegate,function(e,t,n){return Co(en(e),Za.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Ol(this._delegate,function(e,t,n){return Qo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Al(this._delegate,function(e,t,n){return du.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ll(pl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Ol(this._delegate,Cu(this._delegate,t,Il)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ll(pl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,xl(this._delegate);case 3:return e.abrupt("return",qu(this._delegate,t,Il));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Wo.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function jl(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Rl.getOrCreate(e))},error:t,complete:n}}function Fl(e,t){var n=function(e,t){var n=Sl();if(!n)return[];var r=$i(bl,e,t);switch(n.getItem(r)){case gl.NONE:return[Qi];case gl.LOCAL:return[Gs,_s];case gl.SESSION:return[_s];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Gs)||n.push(Gs),"undefined"!==typeof window)for(var r=0,i=[ks,_s];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Qi)||n.push(Qi),n}Ml.Persistence=gl;var Ul=function(){function e(){V(this,e),this.providerId="phone",this._delegate=new wu(Tl(Tr.auth()))}return z(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return wu.credential(e,t)}}]),e}();Ul.PHONE_SIGN_IN_METHOD=wu.PHONE_SIGN_IN_METHOD,Ul.PROVIDER_ID=wu.PROVIDER_ID;var Vl,Bl=ei,zl=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tr.app();V(this,e),Bl(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new cu(t,n,i.auth()),this.type=this._delegate.type}return z(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Vl=Tr).INTERNAL.registerComponent(new tn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ml(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:jr,PASSWORD_RESET:Fr,RECOVER_EMAIL:Ur,REVERT_SECOND_FACTOR_ADDITION:Vr,VERIFY_AND_CHANGE_EMAIL:Br,VERIFY_EMAIL:zr}},EmailAuthProvider:Za,FacebookAuthProvider:ro,GithubAuthProvider:ao,GoogleAuthProvider:io,OAuthProvider:no,SAMLAuthProvider:so,PhoneAuthProvider:Ul,PhoneMultiFactorGenerator:Pc,RecaptchaVerifier:zl,TwitterAuthProvider:uo,Auth:Ml,AuthCredential:ga,Error:Bt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Vl.registerVersion("@firebase/auth-compat","0.2.20");var ql,Hl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Wl={},Gl=Gl||{},Kl=Hl||self;function Yl(){}function Ql(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function $l(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Xl="closure_uid_"+(1e9*Math.random()>>>0),Jl=0;function Zl(e,t,n){return e.call.apply(e.bind,arguments)}function ef(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function tf(e,t,n){return(tf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zl:ef).apply(null,arguments)}function nf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function rf(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function af(){this.s=this.s,this.o=this.o}var of={};af.prototype.s=!1,af.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Xl)&&e[Xl]||(e[Xl]=++Jl)}(this);delete of[e]}},af.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var sf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function uf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function cf(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Ql(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function lf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}lf.prototype.h=function(){this.defaultPrevented=!0};var ff=function(){if(!Kl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Kl.addEventListener("test",Yl,t),Kl.removeEventListener("test",Yl,t)}catch(hU){}return e}();function df(e){return/^[\s\xa0]*$/.test(e)}var hf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function pf(e,t){return e<t?-1:e>t?1:0}function vf(){var e=Kl.navigator;return e&&(e=e.userAgent)?e:""}function mf(e){return-1!=vf().indexOf(e)}function yf(e){return yf[" "](e),e}yf[" "]=Yl;var gf,wf=mf("Opera"),bf=mf("Trident")||mf("MSIE"),kf=mf("Edge"),xf=kf||bf,_f=mf("Gecko")&&!(-1!=vf().toLowerCase().indexOf("webkit")&&!mf("Edge"))&&!(mf("Trident")||mf("MSIE"))&&!mf("Edge"),Sf=-1!=vf().toLowerCase().indexOf("webkit")&&!mf("Edge");function Ef(){var e=Kl.document;return e?e.documentMode:void 0}e:{var If="",Tf=function(){var e=vf();return _f?/rv:([^\);]+)(\)|;)/.exec(e):kf?/Edge\/([\d\.]+)/.exec(e):bf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Sf?/WebKit\/(\S+)/.exec(e):wf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Tf&&(If=Tf?Tf[1]:""),bf){var Cf=Ef();if(null!=Cf&&Cf>parseFloat(If)){gf=String(Cf);break e}}gf=If}var Nf,Of={};function Af(){return function(e){var t=Of;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=hf(String(gf)).split("."),n=hf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=pf(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||pf(0==a[2].length,0==o[2].length)||pf(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Kl.document&&bf){var Df=Ef();Nf=Df||(parseInt(gf,10)||void 0)}else Nf=void 0;var Pf=Nf;function Rf(e,t){if(lf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(_f){e:{try{yf(t.nodeName);var i=!0;break e}catch(dU){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Lf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Rf.X.h.call(this)}}rf(Rf,lf);var Lf={2:"touch",3:"pen",4:"mouse"};Rf.prototype.h=function(){Rf.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Mf="closure_listenable_"+(1e6*Math.random()|0),jf=0;function Ff(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++jf,this.ba=this.ea=!1}function Uf(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Vf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Bf(e){var t={};for(var n in e)t[n]=e[n];return t}var zf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<zf.length;a++)n=zf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Hf(e){this.src=e,this.g={},this.h=0}function Wf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=sf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Uf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Gf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Hf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Gf(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Ff(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Kf="closure_lm_"+(1e6*Math.random()|0),Yf={};function Qf(e,t,n,r,i){if(r&&r.once)return Xf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Qf(e,t[a],n,r,i);return null}return n=id(n),e&&e[Mf]?e.N(t,n,$l(r)?!!r.capture:!!r,i):$f(e,t,n,!1,r,i)}function $f(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=$l(i)?!!i.capture:!!i,s=nd(e);if(s||(e[Kf]=s=new Hf(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=td;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ff||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ed(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Xf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Xf(e,t[a],n,r,i);return null}return n=id(n),e&&e[Mf]?e.O(t,n,$l(r)?!!r.capture:!!r,i):$f(e,t,n,!0,r,i)}function Jf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Jf(e,t[a],n,r,i);else r=$l(r)?!!r.capture:!!r,n=id(n),e&&e[Mf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Gf(a=e.g[t],n,r,i))&&(Uf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=nd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Gf(t,n,r,i)),(n=-1<e?t[e]:null)&&Zf(n))}function Zf(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Mf])Wf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ed(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=nd(t))?(Wf(n,e),0==n.h&&(n.src=null,t[Kf]=null)):Uf(e)}}}function ed(e){return e in Yf?Yf[e]:Yf[e]="on"+e}function td(e,t){if(e.ba)e=!0;else{t=new Rf(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Zf(e),e=n.call(r,t)}return e}function nd(e){return(e=e[Kf])instanceof Hf?e:null}var rd="__closure_events_fn_"+(1e9*Math.random()>>>0);function id(e){return"function"===typeof e?e:(e[rd]||(e[rd]=function(t){return e.handleEvent(t)}),e[rd])}function ad(){af.call(this),this.i=new Hf(this),this.P=this,this.I=null}function od(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new lf(t,e);else if(t instanceof lf)t.target=t.target||e;else{var i=t;qf(t=new lf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=sd(o,r,!0,t)&&i}if(i=sd(o=t.g=e,r,!0,t)&&i,i=sd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=sd(o=t.g=n[a],r,!1,t)&&i}function sd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&Wf(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}rf(ad,af),ad.prototype[Mf]=!0,ad.prototype.removeEventListener=function(e,t,n,r){Jf(this,e,t,n,r)},ad.prototype.M=function(){if(ad.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Uf(n[r]);delete t.g[e],t.h--}}this.I=null},ad.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ad.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ud=Kl.JSON.stringify;function cd(){var e=yd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ld,fd=function(){function e(){V(this,e),this.h=this.g=null}return z(e,[{key:"add",value:function(e,t){var n=dd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),dd=new(function(){function e(t,n){V(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return z(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new hd}),(function(e){return e.reset()})),hd=function(){function e(){V(this,e),this.next=this.g=this.h=null}return z(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function pd(e){Kl.setTimeout((function(){throw e}),0)}function vd(e,t){ld||function(){var e=Kl.Promise.resolve(void 0);ld=function(){e.then(gd)}}(),md||(ld(),md=!0),yd.add(e,t)}var md=!1,yd=new fd;function gd(){for(var e;e=cd();){try{e.h.call(e.g)}catch(hU){pd(hU)}var t=dd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}md=!1}function wd(e,t){ad.call(this),this.h=e||1,this.g=t||Kl,this.j=tf(this.kb,this),this.l=Date.now()}function bd(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function kd(e,t,n){if("function"===typeof e)n&&(e=tf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=tf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Kl.setTimeout(e,t||0)}function xd(e){e.g=kd((function(){e.g=null,e.i&&(e.i=!1,xd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}rf(wd,ad),(ql=wd.prototype).ca=!1,ql.R=null,ql.kb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),od(this,"tick"),this.ca&&(bd(this),this.start()))}},ql.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ql.M=function(){wd.X.M.call(this),bd(this),delete this.g};var _d=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return z(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:xd(this)}},{key:"M",value:function(){Nr(W(n.prototype),"M",this).call(this),this.g&&(Kl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(af);function Sd(e){af.call(this),this.h=e,this.g={}}rf(Sd,af);var Ed=[];function Id(e,t,n,r){Array.isArray(n)||(n&&(Ed[0]=n.toString()),n=Ed);for(var i=0;i<n.length;i++){var a=Qf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Td(e){Vf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Zf(e)}),e),e.g={}}function Cd(){this.g=!0}function Nd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ud(n)}catch(aU){return t}}(e,n)+(r?" "+r:"")}))}Sd.prototype.M=function(){Sd.X.M.call(this),Td(this)},Sd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cd.prototype.Aa=function(){this.g=!1},Cd.prototype.info=function(){};var Od={},Ad=null;function Dd(){return Ad=Ad||new ad}function Pd(e){lf.call(this,Od.Oa,e)}function Rd(e){var t=Dd();od(t,new Pd(t,e))}function Ld(e,t){lf.call(this,Od.STAT_EVENT,e),this.stat=t}function Md(e){var t=Dd();od(t,new Ld(t,e))}function jd(e,t){lf.call(this,Od.Pa,e),this.size=t}function Fd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Kl.setTimeout((function(){e()}),t)}Od.Oa="serverreachability",rf(Pd,lf),Od.STAT_EVENT="statevent",rf(Ld,lf),Od.Pa="timingevent",rf(jd,lf);var Ud={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Vd={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Bd(){}function zd(e){return e.h||(e.h=e.i())}function qd(){}Bd.prototype.h=null;var Hd,Wd={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Gd(){lf.call(this,"d")}function Kd(){lf.call(this,"c")}function Yd(){}function Qd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Sd(this),this.O=Xd,e=xf?125:void 0,this.T=new wd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new $d}function $d(){this.i=null,this.g="",this.h=!1}rf(Gd,lf),rf(Kd,lf),rf(Yd,Bd),Yd.prototype.g=function(){return new XMLHttpRequest},Yd.prototype.i=function(){return{}},Hd=new Yd;var Xd=45e3,Jd={},Zd={};function eh(e,t,n){e.K=1,e.v=wh(ph(t)),e.s=n,e.P=!0,th(e,null)}function th(e,t){e.F=Date.now(),ah(e),e.A=ph(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Dh(n.i,"t",r),e.C=0,n=e.l.H,e.h=new $d,e.g=Dp(e.l,n?t:null,!e.s),0<e.N&&(e.L=new _d(tf(e.Ka,e,e.g),e.N)),Id(e.S,e.g,"readystatechange",e.hb),t=e.H?Bf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Rd(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function nh(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function rh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ih(e,n))==Zd){4==t&&(e.o=4,Md(14),i=!1),Nd(e.j,e.m,null,"[Incomplete Response]");break}if(r==Jd){e.o=4,Md(15),Nd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Nd(e.j,e.m,r,null),lh(e,r)}nh(e)&&r!=Zd&&r!=Jd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Md(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sp(t),t.K=!0,Md(11))):(Nd(e.j,e.m,n,"[Invalid Chunked Response]"),ch(e),uh(e))}function ih(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Zd:(n=Number(t.substring(n,r)),isNaN(n)?Jd:(r+=1)+n>t.length?Zd:(t=t.substr(r,n),e.C=r+n,t))}function ah(e){e.V=Date.now()+e.O,oh(e,e.O)}function oh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fd(tf(e.fb,e),t)}function sh(e){e.B&&(Kl.clearTimeout(e.B),e.B=null)}function uh(e){0==e.l.G||e.I||Tp(e.l,e)}function ch(e){sh(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,bd(e.T),Td(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function lh(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Uh(n.h,e)))if(!e.J&&Uh(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ip(n),mp(n)}_p(n),Md(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Fd(tf(n.bb,n),6e3));if(1>=Fh(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Np(n,11)}else if((e.J||n.g==e)&&Ip(n),!df(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Vh(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.za=d,gh(r.F,r.D,d))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var h=e;if((r=n).sa=Ap(r,r.H?r.ka:null,r.V),h.J){Bh(r.h,h);var p=h,v=r.J;v&&p.setTimeout(v),p.B&&(sh(p),ah(p)),r.g=h}else xp(r);0<n.i.length&&gp(n)}else"stop"!=a[0]&&"close"!=a[0]||Np(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Np(n,7):vp(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Rd(4)}catch(a){}}function fh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ql(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ql(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ql(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(ql=Qd.prototype).setTimeout=function(e){this.O=e},ql.hb=function(e){e=e.target;var t=this.L;t&&3==cp(e)?t.l():this.Ka(e)},ql.Ka=function(e){try{if(e==this.g)e:{var t=cp(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||xf||this.g&&(this.h.h||this.g.fa()||lp(this.g)))){this.I||4!=t||7==n||Rd(8==n||0>=r?3:2),sh(this);var i=this.g.aa();this.Y=i;t:if(nh(this)){var a=lp(this.g);e="";var o=a.length,s=4==cp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ch(this),uh(this);var u="";break t}this.h.i=new Kl.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!df(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Md(12),ch(this),uh(this);break e}Nd(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lh(this,i)}this.P?(rh(this,t,u),xf&&this.i&&3==t&&(Id(this.S,this.T,"tick",this.gb),this.T.start())):(Nd(this.j,this.m,u,null),lh(this,u)),4==t&&ch(this),this.i&&!this.I&&(4==t?Tp(this.l,this):(this.i=!1,ah(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Md(12)):(this.o=0,Md(13)),ch(this),uh(this)}}}catch(t){}},ql.gb=function(){if(this.g){var e=cp(this.g),t=this.g.fa();this.C<t.length&&(sh(this),rh(this,e,t),this.i&&4!=e&&ah(this))}},ql.cancel=function(){this.I=!0,ch(this)},ql.fb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Rd(3),Md(17)),ch(this),this.o=2,uh(this)):oh(this,this.V-e)};var dh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hh(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof hh){this.h=void 0!==t?t:e.h,vh(this,e.j),this.s=e.s,this.g=e.g,mh(this,e.m),this.l=e.l,t=e.i;var n=new Ch;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),yh(this,n),this.o=e.o}else e&&(n=String(e).match(dh))?(this.h=!!t,vh(this,n[1]||"",!0),this.s=bh(n[2]||""),this.g=bh(n[3]||"",!0),mh(this,n[4]),this.l=bh(n[5]||"",!0),yh(this,n[6]||"",!0),this.o=bh(n[7]||"")):(this.h=!!t,this.i=new Ch(null,this.h))}function ph(e){return new hh(e)}function vh(e,t,n){e.j=n?bh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function yh(e,t,n){t instanceof Ch?(e.i=t,function(e,t){t&&!e.j&&(Nh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Oh(this,t),Dh(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=kh(t,Ih)),e.i=new Ch(t,e.h))}function gh(e,t,n){e.i.set(t,n)}function wh(e){return gh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function bh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}hh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(kh(t,_h,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(kh(t,_h,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(kh(n,"/"==n.charAt(0)?Eh:Sh,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",kh(n,Th)),e.join("")};var _h=/[#\/\?@]/g,Sh=/[#\?:]/g,Eh=/[#\?]/g,Ih=/[#\?@]/g,Th=/#/g;function Ch(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nh(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Oh(e,t){Nh(e),t=Ph(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ah(e,t){return Nh(e),t=Ph(e,t),e.g.has(t)}function Dh(e,t,n){Oh(e,t),0<n.length&&(e.i=null,e.g.set(Ph(e,t),uf(n)),e.h+=n.length)}function Ph(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ql=Ch.prototype).add=function(e,t){Nh(this),this.i=null,e=Ph(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ql.forEach=function(e,t){Nh(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ql.oa=function(){Nh(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ql.W=function(e){Nh(this);var t=[];if("string"===typeof e)Ah(this,e)&&(t=t.concat(this.g.get(Ph(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},ql.set=function(e,t){return Nh(this),this.i=null,Ah(this,e=Ph(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ql.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},ql.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Rh=z((function e(t,n){V(this,e),this.h=t,this.g=n}));function Lh(e){this.l=e||Mh,Kl.PerformanceNavigationTiming?e=0<(e=Kl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Kl.g&&Kl.g.Ga&&Kl.g.Ga()&&Kl.g.Ga().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Mh=10;function jh(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Fh(e){return e.h?1:e.g?e.g.size:0}function Uh(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Vh(e,t){e.g?e.g.add(t):e.h=t}function Bh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function zh(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Tt(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return uf(e.i)}function qh(){}function Hh(){this.g=new qh}function Wh(e,t,n){var r=n||"";try{fh(e,(function(e,n){var i=e;$l(e)&&(i=ud(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(dU){}}function Kh(e){this.l=e.$b||null,this.j=e.ib||!1}function Yh(e,t){ad.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Qh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lh.prototype.cancel=function(){if(this.i=zh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Tt(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},qh.prototype.stringify=function(e){return Kl.JSON.stringify(e,void 0)},qh.prototype.parse=function(e){return Kl.JSON.parse(e,void 0)},rf(Kh,Bd),Kh.prototype.g=function(){return new Yh(this.l,this.j)},Kh.prototype.i=function(e){return function(){return e}}({}),rf(Yh,ad);var Qh=0;function $h(e){e.j.read().then(e.Sa.bind(e)).catch(e.ga.bind(e))}function Xh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Jh(e)}function Jh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ql=Yh.prototype).open=function(e,t){if(this.readyState!=Qh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Jh(this)},ql.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Kl).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},ql.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xh(this)),this.readyState=Qh},ql.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Jh(this)),this.g&&(this.readyState=3,Jh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if("undefined"!==typeof Kl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$h(this)}else e.text().then(this.Ua.bind(this),this.ga.bind(this))},ql.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Xh(this):Jh(this),3==this.readyState&&$h(this)}},ql.Ua=function(e){this.g&&(this.response=this.responseText=e,Xh(this))},ql.Ta=function(e){this.g&&(this.response=e,Xh(this))},ql.ga=function(){this.g&&Xh(this)},ql.setRequestHeader=function(e,t){this.v.append(e,t)},ql.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ql.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Yh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Zh=Kl.JSON.parse;function ep(e){ad.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tp,this.K=this.L=!1}rf(ep,ad);var tp="",np=/^https?$/i,rp=["POST","PUT"];function ip(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ap(e),sp(e)}function ap(e){e.D||(e.D=!0,od(e,"complete"),od(e,"error"))}function op(e){if(e.h&&"undefined"!=typeof Gl&&(!e.C[1]||4!=cp(e)||2!=e.aa()))if(e.v&&4==cp(e))kd(e.Ha,0,e);else if(od(e,"readystatechange"),4==cp(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(dh)[1]||null;if(!a&&Kl.self&&Kl.self.location){var o=Kl.self.location.protocol;a=o.substr(0,o.length-1)}i=!np.test(a?a.toLowerCase():"")}t=i}if(t)od(e,"complete"),od(e,"success");else{e.m=6;try{var s=2<cp(e)?e.g.statusText:""}catch(lU){s=""}e.j=s+" ["+e.aa()+"]",ap(e)}}finally{sp(e)}}}function sp(e,t){if(e.g){up(e);var n=e.g,r=e.C[0]?Yl:null;e.g=null,e.C=null,t||od(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function up(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Kl.clearTimeout(e.A),e.A=null)}function cp(e){return e.g?e.g.readyState:0}function lp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case tp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Qp){return null}}function fp(e){var t="";return Vf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function dp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=fp(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gh(e,t,n))}function hp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function pp(e){this.Ca=0,this.i=[],this.j=new Cd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=hp("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=hp("baseRetryDelayMs",5e3,e),this.ab=hp("retryDelaySeedMs",1e4,e),this.Za=hp("forwardChannelMaxRetries",2,e),this.ta=hp("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Yb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Lh(e&&e.concurrentRequestLimit),this.Fa=new Hh,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=e&&e.Wb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function vp(e){if(yp(e),3==e.G){var t=e.U++,n=ph(e.F);gh(n,"SID",e.I),gh(n,"RID",t),gh(n,"TYPE","terminate"),bp(e,n),(t=new Qd(e,e.j,t,void 0)).K=2,t.v=wh(ph(n)),n=!1,Kl.navigator&&Kl.navigator.sendBeacon&&(n=Kl.navigator.sendBeacon(t.v.toString(),"")),!n&&Kl.Image&&((new Image).src=t.v,n=!0),n||(t.g=Dp(t.l,null),t.g.da(t.v)),t.F=Date.now(),ah(t)}Op(e)}function mp(e){e.g&&(Sp(e),e.g.cancel(),e.g=null)}function yp(e){mp(e),e.u&&(Kl.clearTimeout(e.u),e.u=null),Ip(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Kl.clearTimeout(e.m),e.m=null)}function gp(e){jh(e.h)||e.m||(e.m=!0,vd(e.Ja,e),e.C=0)}function wp(e,t){var n;n=t?t.m:e.U++;var r=ph(e.F);gh(r,"SID",e.I),gh(r,"RID",n),gh(r,"AID",e.T),bp(e,r),e.o&&e.s&&dp(r,e.o,e.s),n=new Qd(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=kp(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Vh(e.h,n),eh(n,r,t)}function bp(e,t){e.ia&&Vf(e.ia,(function(e,n){gh(t,n,e)})),e.l&&fh({},(function(e,n){gh(t,n,e)}))}function kp(e,t,n){n=Math.min(e.i.length,n);var r=e.l?tf(e.l.Qa,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Wh(l,o,"req"+c+"_")}catch(av){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function xp(e){e.g||e.u||(e.Z=1,vd(e.Ia,e),e.A=0)}function _p(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Fd(tf(e.Ia,e),Cp(e,e.A)),e.A++,!0)}function Sp(e){null!=e.B&&(Kl.clearTimeout(e.B),e.B=null)}function Ep(e){e.g=new Qd(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=ph(e.sa);gh(t,"RID","rpc"),gh(t,"SID",e.I),gh(t,"CI",e.L?"0":"1"),gh(t,"AID",e.T),gh(t,"TYPE","xmlhttp"),bp(e,t),e.o&&e.s&&dp(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=wh(ph(t)),n.s=null,n.P=!0,th(n,e)}function Ip(e){null!=e.v&&(Kl.clearTimeout(e.v),e.v=null)}function Tp(e,t){var n=null;if(e.g==t){Ip(e),Sp(e),e.g=null;var r=2}else{if(!Uh(e.h,t))return;n=t.D,Bh(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;od(r=Dd(),new jd(r,n,t,i)),gp(e)}else xp(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Fh(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Ya?0:e.Za))&&(e.m=Fd(tf(e.Ja,e,t),Cp(e,e.C)),e.C++,!0))}(e,t)||2==r&&_p(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Np(e,5);break;case 4:Np(e,10);break;case 3:Np(e,6);break;default:Np(e,2)}}function Cp(e,t){var n=e.Wa+Math.floor(Math.random()*e.ab);return e.l||(n*=2),n*t}function Np(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=tf(e.jb,e);n||(n=new hh("//www.google.com/images/cleardot.gif"),Kl.location&&"http"==Kl.location.protocol||vh(n,"https"),wh(n)),function(e,t){var n=new Cd;if(Kl.Image){var r=new Image;r.onload=nf(Gh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=nf(Gh,n,r,"TestLoadImage: error",!1,t),r.onabort=nf(Gh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=nf(Gh,n,r,"TestLoadImage: timeout",!1,t),Kl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Md(2);e.G=0,e.l&&e.l.va(t),Op(e),yp(e)}function Op(e){if(e.G=0,e.la=[],e.l){var t=zh(e.h);0==t.length&&0==e.i.length||(cf(e.la,t),cf(e.la,e.i),e.h.i.length=0,uf(e.i),e.i.length=0),e.l.ua()}}function Ap(e,t,n){var r=n instanceof hh?ph(n):new hh(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),mh(r,r.m);else{var i=Kl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new hh(null,void 0);r&&vh(a,r),t&&(a.g=t),i&&mh(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&gh(r,n,t),gh(r,"VER",e.ma),bp(e,r),r}function Dp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new ep(new Kh({ib:!0})):new ep(e.ra)).L=e.H,t}function Pp(){}function Rp(){if(bf&&!(10<=Number(Pf)))throw Error("Environmental error: no available transport.")}function Lp(e,t){ad.call(this),this.g=new pp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Xb)&&!df(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!df(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Fp(this)}function Mp(e){Gd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function jp(){Kd.call(this),this.status=1}function Fp(e){this.g=e}(ql=ep.prototype).da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hd.g(),this.C=this.u?zd(this.u):zd(Hd),this.g.onreadystatechange=tf(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void ip(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Tt(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(h){o.e(h)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Kl.FormData&&e instanceof Kl.FormData,!(0<=sf(rp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=Tt(n);try{for(c.s();!(u=c.n()).done;){var l=j(u.value,2),f=l[0],d=l[1];this.g.setRequestHeader(f,d)}}catch(h){c.e(h)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{up(this),0<this.B&&((this.K=function(e){return bf&&Af()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tf(this.qa,this)):this.A=kd(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ip(this,s)}},ql.qa=function(){"undefined"!=typeof Gl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,od(this,"timeout"),this.abort(8))},ql.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,od(this,"complete"),od(this,"abort"),sp(this))},ql.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sp(this,!0)),ep.X.M.call(this)},ql.Ha=function(){this.s||(this.F||this.v||this.l?op(this):this.eb())},ql.eb=function(){op(this)},ql.aa=function(){try{return 2<cp(this)?this.g.status:-1}catch(fU){return-1}},ql.fa=function(){try{return this.g?this.g.responseText:""}catch(fU){return""}},ql.Ra=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Zh(t)}},ql.Ea=function(){return this.m},ql.Na=function(){return"string"===typeof this.j?this.j:String(this.j)},(ql=pp.prototype).ma=8,ql.G=1,ql.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Qd(this,this.j,e,void 0),n=this.s;if(this.S&&(n?qf(n=Bf(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=kp(this,t,r),gh(i=ph(this.F),"RID",e),gh(i,"CVER",22),this.D&&gh(i,"X-HTTP-Session-Id",this.D),bp(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(fp(n)))+"&"+r:this.o&&dp(i,this.o,n)),Vh(this.h,t),this.Xa&&gh(i,"TYPE","init"),this.O?(gh(i,"$req",r),gh(i,"SID","null"),t.Z=!0,eh(t,i,null)):eh(t,i,r),this.G=2}}else 3==this.G&&(e?wp(this,e):0==this.i.length||jh(this.h)||wp(this))},ql.Ia=function(){if(this.u=null,Ep(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Fd(tf(this.cb,this),e)}},ql.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Md(10),mp(this),Ep(this))},ql.bb=function(){null!=this.v&&(this.v=null,mp(this),_p(this),Md(19))},ql.jb=function(e){e?(this.j.info("Successfully pinged google.com"),Md(2)):(this.j.info("Failed to ping google.com"),Md(1))},(ql=Pp.prototype).xa=function(){},ql.wa=function(){},ql.va=function(){},ql.ua=function(){},ql.Qa=function(){},Rp.prototype.g=function(e,t){return new Lp(e,t)},rf(Lp,ad),Lp.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Md(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Ap(e,null,e.V),gp(e)},Lp.prototype.close=function(){vp(this.g)},Lp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ud(e),e=n);t.i.push(new Rh(t.$a++,e)),3==t.G&&gp(t)},Lp.prototype.M=function(){this.g.l=null,delete this.j,vp(this.g),delete this.g,Lp.X.M.call(this)},rf(Mp,Gd),rf(jp,Kd),rf(Fp,Pp),Fp.prototype.xa=function(){od(this.g,"a")},Fp.prototype.wa=function(e){od(this.g,new Mp(e))},Fp.prototype.va=function(e){od(this.g,new jp(e))},Fp.prototype.ua=function(){od(this.g,"b")},Rp.prototype.createWebChannel=Rp.prototype.g,Lp.prototype.send=Lp.prototype.u,Lp.prototype.open=Lp.prototype.m,Lp.prototype.close=Lp.prototype.close,Ud.NO_ERROR=0,Ud.TIMEOUT=8,Ud.HTTP_ERROR=6,Vd.COMPLETE="complete",qd.EventType=Wd,Wd.OPEN="a",Wd.CLOSE="b",Wd.ERROR="c",Wd.MESSAGE="d",ad.prototype.listen=ad.prototype.N,ep.prototype.listenOnce=ep.prototype.O,ep.prototype.getLastError=ep.prototype.Na,ep.prototype.getLastErrorCode=ep.prototype.Ea,ep.prototype.getStatus=ep.prototype.aa,ep.prototype.getResponseJson=ep.prototype.Ra,ep.prototype.getResponseText=ep.prototype.fa,ep.prototype.send=ep.prototype.da;var Up=Wl.createWebChannelTransport=function(){return new Rp},Vp=Wl.getStatEventTarget=function(){return Dd()},Bp=Wl.ErrorCode=Ud,zp=Wl.EventType=Vd,qp=Wl.Event=Od,Hp=Wl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Wp=Wl.FetchXmlHttpFactory=Kh,Gp=Wl.WebChannel=qd,Kp=Wl.XhrIo=ep,Yp="@firebase/firestore",Qp=function(){function e(t){V(this,e),this.uid=t}return z(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Qp.UNAUTHENTICATED=new Qp(null),Qp.GOOGLE_CREDENTIALS=new Qp("google-credentials-uid"),Qp.FIRST_PARTY=new Qp("first-party-uid"),Qp.MOCK_USER=new Qp("mock-user");var $p="9.10.0",Xp=new hn("@firebase/firestore");function Jp(){return Xp.logLevel}function Zp(e){if(Xp.logLevel<=on.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nv);Xp.debug.apply(Xp,["Firestore (".concat($p,"): ").concat(e)].concat(U(i)))}}function ev(e){if(Xp.logLevel<=on.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nv);Xp.error.apply(Xp,["Firestore (".concat($p,"): ").concat(e)].concat(U(i)))}}function tv(e){if(Xp.logLevel<=on.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(nv);Xp.warn.apply(Xp,["Firestore (".concat($p,"): ").concat(e)].concat(U(i)))}}function nv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function rv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat($p,") INTERNAL ASSERTION FAILED: ")+e;throw ev(t),new Error(t)}function iv(e,t){e||rv()}function av(e,t){return e}var ov={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},sv=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return z(n)}(Bt),uv=z((function e(){var t=this;V(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),cv=z((function e(t,n){V(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),lv=function(){function e(){V(this,e)}return z(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Qp.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),fv=function(){function e(t){V(this,e),this.token=t,this.changeListener=null}return z(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),dv=function(){function e(t){V(this,e),this.t=t,this.currentUser=Qp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return z(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new uv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new uv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Zp("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Zp("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new uv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Zp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(iv("string"==typeof n.accessToken),new cv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return iv(null===e||"string"==typeof e),new Qp(e)}}]),e}(),hv=function(){function e(t,n,r,i){V(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Qp.FIRST_PARTY,this.p=new Map}return z(e,[{key:"I",value:function(){return this.g?this.g():(iv(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),pv=function(){function e(t,n,r,i){V(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return z(e,[{key:"getToken",value:function(){return Promise.resolve(new hv(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Qp.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),vv=z((function e(t){V(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),mv=function(){function e(t){V(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return z(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Zp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Zp("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Zp("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Zp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(iv("string"==typeof t.token),e.A=t.token,new vv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function yv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var gv=function(){function e(){V(this,e)}return z(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=yv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function wv(e,t){return e<t?-1:e>t?1:0}function bv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function kv(e){return e+"\0"}var xv=function(){function e(t,n){if(V(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new sv(ov.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new sv(ov.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new sv(ov.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new sv(ov.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return z(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?wv(this.nanoseconds,e.nanoseconds):wv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),_v=function(){function e(t){V(this,e),this.timestamp=t}return z(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new xv(0,0))}},{key:"max",value:function(){return new e(new xv(253402300799,999999999))}}]),e}(),Sv=function(){function e(t,n,r){V(this,e),void 0===n?n=0:n>t.length&&rv(),void 0===r?r=t.length-n:r>t.length-n&&rv(),this.segments=t,this.offset=n,this.len=r}return z(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ev=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.apply(this,arguments)}return z(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new sv(ov.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,U(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Sv),Iv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tv=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.apply(this,arguments)}return z(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Iv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new sv(ov.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new sv(ov.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new sv(ov.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new sv(ov.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Sv),Cv=function(){function e(t){V(this,e),this.path=t}return z(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ev.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ev.fromString(t))}},{key:"fromName",value:function(t){return new e(Ev.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ev.emptyPath())}},{key:"comparator",value:function(e,t){return Ev.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ev(t.slice()))}}]),e}(),Nv=z((function e(t,n,r,i){V(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Ov(e){return e.fields.find((function(e){return 2===e.kind}))}function Av(e){return e.fields.filter((function(e){return 2!==e.kind}))}Nv.UNKNOWN_ID=-1;var Dv=z((function e(t,n){V(this,e),this.fieldPath=t,this.kind=n}));var Pv=function(){function e(t,n){V(this,e),this.sequenceNumber=t,this.offset=n}return z(e,null,[{key:"empty",value:function(){return new e(0,Mv.min())}}]),e}();function Rv(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=_v.fromTimestamp(1e9===r?new xv(n+1,0):new xv(n,r));return new Mv(i,Cv.empty(),t)}function Lv(e){return new Mv(e.readTime,e.key,-1)}var Mv=function(){function e(t,n,r){V(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return z(e,null,[{key:"min",value:function(){return new e(_v.min(),Cv.empty(),-1)}},{key:"max",value:function(){return new e(_v.max(),Cv.empty(),-1)}}]),e}();function jv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Cv.comparator(e.documentKey,t.documentKey))?n:wv(e.largestBatchId,t.largestBatchId)}var Fv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uv=function(){function e(){V(this,e),this.onCommittedListeners=[]}return z(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Vv(e){return Bv.apply(this,arguments)}function Bv(){return Bv=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ov.FAILED_PRECONDITION&&t.message===Fv){e.next=2;break}throw t;case 2:Zp("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Bv.apply(this,arguments)}var zv=function(){function e(t){var n=this;V(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return z(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&rv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Tt(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),qv=function(){function e(t,n){var r=this;V(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new uv,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Gv(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Xv(e.target.error);r.P.reject(new Gv(t,n))}}return z(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Zp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Yv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Gv(n,t)}}}]),e}(),Hv=function(){function e(t,n,r){V(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Lt())&&ev("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return z(e,[{key:"F",value:function(){var e=D(O().mark((function e(t){var n=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Zp("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Gv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new sv(ov.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new sv(ov.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Gv(t,n))},i.onupgradeneeded=function(e){Zp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Zp("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=D(O().mark((function e(t,n,r,i){var a,o,s,u,c,l=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(O().mark((function e(){var n,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=qv.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),zv.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&o<3,Zp("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Zp("SimpleDb","Removing database:",e),Qv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Vt())return!1;if(e.N())return!0;var t=Lt(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/giftListApp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Wv=function(){function e(t){V(this,e),this.U=t,this.q=!1,this.K=null}return z(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Qv(this.U.delete())}}]),e}(),Gv=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this,ov.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return z(n)}(sv);function Kv(e){return"IndexedDbTransactionError"===e.name}var Yv=function(){function e(t){V(this,e),this.store=t}return z(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Zp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Zp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Qv(n)}},{key:"add",value:function(e){return Zp("SimpleDb","ADD",this.store.name,e,e),Qv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Qv(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Zp("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Zp("SimpleDb","DELETE",this.store.name,e),Qv(this.store.delete(e))}},{key:"count",value:function(){return Zp("SimpleDb","COUNT",this.store.name),Qv(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new zv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new zv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Zp("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new zv((function(n,r){t.onerror=function(e){var t=Xv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new zv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Wv(i),o=t(i.primaryKey,i.value,a);if(o instanceof zv){var s=o.catch((function(e){return a.done(),zv.reject(e)}));n.push(s)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return zv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Qv(e){return new zv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Xv(e.target.error);n(t)}}))}var $v=!1;function Xv(e){var t=Hv.D(Lt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new sv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return $v||($v=!0,setTimeout((function(){throw r}),0)),r}}return e}var Jv=function(){function e(t,n){V(this,e),this.asyncQueue=t,this.et=n,this.task=null}return z(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Zp("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Zp,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Kv(e.t4)){e.next=17;break}Zp("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Vv(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Zv=function(){function e(t,n){V(this,e),this.localStore=t,this.persistence=n}return z(e,[{key:"st",value:function(){var e=D(O().mark((function e(){var t,n=this,r=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return zv.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Zp("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Zp("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Lv(t);jv(r,n)>0&&(n=r)})),new Mv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),em=function(){function e(t,n){var r=this;V(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return z(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function tm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}em.at=-1;var im=function(){function e(t,n){V(this,e),this.comparator=t,this.root=n||om.EMPTY}return z(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,om.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,om.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new am(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new am(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new am(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new am(this.root,e,this.comparator,!0)}}]),e}(),am=function(){function e(t,n,r,i){V(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return z(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),om=function(){function e(t,n,r,i,a){V(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return z(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw rv();if(this.right.isRed())throw rv();var e=this.left.check();if(e!==this.right.check())throw rv();return e+(this.isRed()?0:1)}}]),e}();om.EMPTY=null,om.RED=!0,om.BLACK=!1,om.EMPTY=new(function(){function e(){V(this,e),this.size=0}return z(e,[{key:"key",get:function(){throw rv()}},{key:"value",get:function(){throw rv()}},{key:"color",get:function(){throw rv()}},{key:"left",get:function(){throw rv()}},{key:"right",get:function(){throw rv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new om(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var sm=function(){function e(t){V(this,e),this.comparator=t,this.data=new im(this.comparator)}return z(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new um(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new um(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),um=function(){function e(t){V(this,e),this.iter=t}return z(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function cm(e){return e.hasNext()?e.getNext():void 0}var lm=function(){function e(t){V(this,e),this.fields=t,t.sort(Tv.comparator)}return z(e,[{key:"unionWith",value:function(t){var n,r=new sm(Tv.comparator),i=Tt(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=Tt(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Tt(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return bv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var fm=function(e){function t(e){V(this,t),this.binaryString=e}return z(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return wv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();fm.EMPTY_BYTE_STRING=new fm("");var dm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hm(e){if(iv(!!e),"string"==typeof e){var t=0,n=dm.exec(e);if(iv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pm(e.seconds),nanos:pm(e.nanos)}}function pm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vm(e){return"string"==typeof e?fm.fromBase64String(e):fm.fromUint8Array(e)}function mm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ym(e){var t=e.mapValue.fields.__previous_value__;return mm(t)?ym(t):t}function gm(e){var t=hm(e.mapValue.fields.__local_write_time__.timestampValue);return new xv(t.seconds,t.nanos)}var wm=z((function e(t,n,r,i,a,o,s,u){V(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),bm=function(){function e(t,n){V(this,e),this.projectId=t,this.database=n||"(default)"}return z(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function km(e){return null==e}function xm(e){return 0===e&&1/e==-1/0}function _m(e){return"number"==typeof e&&Number.isInteger(e)&&!xm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Sm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Em={nullValue:"NULL_VALUE"};function Im(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mm(e)?4:Vm(e)?9007199254740991:10:rv()}function Tm(e,t){if(e===t)return!0;var n=Im(e);if(n!==Im(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gm(e).isEqual(gm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=hm(e.timestampValue),r=hm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vm(e.bytesValue).isEqual(vm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pm(e.geoPointValue.latitude)===pm(t.geoPointValue.latitude)&&pm(e.geoPointValue.longitude)===pm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pm(e.integerValue)===pm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=pm(e.doubleValue),r=pm(t.doubleValue);return n===r?xm(n)===xm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return bv(e.arrayValue.values||[],t.arrayValue.values||[],Tm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(tm(n)!==tm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Tm(n[i],r[i])))return!1;return!0}(e,t);default:return rv()}}function Cm(e,t){return void 0!==(e.values||[]).find((function(e){return Tm(e,t)}))}function Nm(e,t){if(e===t)return 0;var n=Im(e),r=Im(t);if(n!==r)return wv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return wv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=pm(e.integerValue||e.doubleValue),r=pm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Om(e.timestampValue,t.timestampValue);case 4:return Om(gm(e),gm(t));case 5:return wv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=vm(e),r=vm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=wv(n[i],r[i]);if(0!==a)return a}return wv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=wv(pm(e.latitude),pm(t.latitude));return 0!==n?n:wv(pm(e.longitude),pm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Nm(n[i],r[i]);if(a)return a}return wv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Sm.mapValue&&t===Sm.mapValue)return 0;if(e===Sm.mapValue)return 1;if(t===Sm.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=wv(r[o],a[o]);if(0!==s)return s;var u=Nm(n[r[o]],i[a[o]]);if(0!==u)return u}return wv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw rv()}}function Om(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return wv(e,t);var n=hm(e),r=hm(t),i=wv(n.seconds,r.seconds);return 0!==i?i:wv(n.nanos,r.nanos)}function Am(e){return Dm(e)}function Dm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=hm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Cv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Tt(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Dm(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Tt(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Dm(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):rv();var t,n}function Pm(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Rm(e){return!!e&&"integerValue"in e}function Lm(e){return!!e&&"arrayValue"in e}function Mm(e){return!!e&&"nullValue"in e}function jm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fm(e){return!!e&&"mapValue"in e}function Um(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return nm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Um(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Um(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Vm(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Bm(e){return"nullValue"in e?Em:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Pm(bm.empty(),Cv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:rv()}function zm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Pm(bm.empty(),Cv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Sm:rv()}function qm(e,t){var n=Nm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Hm(e,t){var n=Nm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Wm=function(){function e(t){V(this,e),this.value=t}return z(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Fm(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Um(t)}},{key:"setAll",value:function(e){var t=this,n=Tv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Um(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Fm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Tm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Fm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){nm(t,(function(t,n){return e[t]=n}));var r,i=Tt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Um(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Gm(e){var t=[];return nm(e.fields,(function(e,n){var r=new Tv([e]);if(Fm(n)){var i=Gm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Tt(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new lm(t)}var Km=function(){function e(t,n,r,i,a,o){V(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return z(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Wm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Wm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=_v.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,_v.min(),_v.min(),Wm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,_v.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,_v.min(),Wm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,_v.min(),Wm.empty(),2)}}]),e}(),Ym=z((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;V(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ht=null}));function Qm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Ym(e,t,n,r,i,a,o)}function $m(e){var t=av(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Am(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),km(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Am(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Am(e)})).join(",")),t.ht=n}return t.ht}function Xm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!hy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Tm(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vy(e.startAt,t.startAt)&&vy(e.endAt,t.endAt)}function Jm(e){return Cv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Zm(e,t){return e.filters.filter((function(e){return e instanceof ny&&e.field.isEqual(t)}))}function ey(e,t,n){var r,i=Em,a=!0,o=Tt(Zm(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Em,c=!0;switch(s.op){case"<":case"<=":u=Bm(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Em}qm({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];qm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ty(e,t,n){var r,i=Sm,a=!0,o=Tt(Zm(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Sm,c=!0;switch(s.op){case">=":case">":u=zm(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Sm}Hm({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Hm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var ny=function(e){H(n,e);var t=Q(n);function n(e,r,i){var a;return V(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return z(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Nm(t,this.value)):null!==t&&Im(this.value)===Im(t)&&this.ft(Nm(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rv()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new ry(e,t,r):"array-contains"===t?new sy(e,r):"in"===t?new uy(e,r):"not-in"===t?new cy(e,r):"array-contains-any"===t?new ly(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new iy(e,n):new ay(e,n)}}]),n}(function(){return z((function e(){V(this,e)}))}()),ry=function(e){H(n,e);var t=Q(n);function n(e,r,i){var a;return V(this,n),(a=t.call(this,e,r,i)).key=Cv.fromName(i.referenceValue),a}return z(n,[{key:"matches",value:function(e){var t=Cv.comparator(e.key,this.key);return this.ft(t)}}]),n}(ny),iy=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this,e,"in",r)).keys=oy("in",r),i}return z(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ny),ay=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this,e,"not-in",r)).keys=oy("not-in",r),i}return z(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ny);function oy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Cv.fromName(e.referenceValue)}))}var sy=function(e){H(n,e);var t=Q(n);function n(e,r){return V(this,n),t.call(this,e,"array-contains",r)}return z(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Lm(t)&&Cm(t.arrayValue,this.value)}}]),n}(ny),uy=function(e){H(n,e);var t=Q(n);function n(e,r){return V(this,n),t.call(this,e,"in",r)}return z(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Cm(this.value.arrayValue,t)}}]),n}(ny),cy=function(e){H(n,e);var t=Q(n);function n(e,r){return V(this,n),t.call(this,e,"not-in",r)}return z(n,[{key:"matches",value:function(e){if(Cm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Cm(this.value.arrayValue,t)}}]),n}(ny),ly=function(e){H(n,e);var t=Q(n);function n(e,r){return V(this,n),t.call(this,e,"array-contains-any",r)}return z(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Lm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Cm(t.value.arrayValue,e)}))}}]),n}(ny),fy=z((function e(t,n){V(this,e),this.position=t,this.inclusive=n})),dy=z((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";V(this,e),this.field=t,this.dir=n}));function hy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function py(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Cv.comparator(Cv.fromName(o.referenceValue),n.key):Nm(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function vy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Tm(e.position[n],t.position[n]))return!1;return!0}var my=z((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;V(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this._t=null,this.wt=null,this.startAt,this.endAt}));function yy(e,t,n,r,i,a,o,s){return new my(e,t,n,r,i,a,o,s)}function gy(e){return new my(e)}function wy(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function by(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ky(e){var t,n=Tt(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function xy(e){return null!==e.collectionGroup}function _y(e){var t=av(e);if(null===t._t){t._t=[];var n=ky(t),r=by(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new dy(n)),t._t.push(new dy(Tv.keyField(),"asc"));else{var i,a=!1,o=Tt(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t._t.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new dy(Tv.keyField(),u))}}}return t._t}function Sy(e){var t=av(e);if(!t.wt)if("F"===t.limitType)t.wt=Qm(t.path,t.collectionGroup,_y(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Tt(_y(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new dy(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new fy(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new fy(t.startAt.position,t.startAt.inclusive):null;t.wt=Qm(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.wt}function Ey(e,t,n){return new my(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Iy(e,t){return Xm(Sy(e),Sy(t))&&e.limitType===t.limitType}function Ty(e){return"".concat($m(Sy(e)),"|lt:").concat(e.limitType)}function Cy(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Am(t.value));var t})).join(", "),"]")),km(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Am(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Am(e)})).join(",")),"Target(".concat(t,")")}(Sy(e)),"; limitType=").concat(e.limitType,")")}function Ny(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Cv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Tt(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Tt(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=py(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,_y(e),t))&&!(e.endAt&&!function(e,t,n){var r=py(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,_y(e),t))}(e,t)}function Oy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ay(e){return function(t,n){var r,i=!1,a=Tt(_y(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Dy(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Dy(e,t,n){var r=e.field.isKeyField()?Cv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Nm(r,i):rv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return rv()}}function Py(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xm(t)?"-0":t}}function Ry(e){return{integerValue:""+e}}function Ly(e,t){return _m(t)?Ry(t):Py(e,t)}var My=z((function e(){V(this,e),this._=void 0}));function jy(e,t,n){return e instanceof Vy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof By?zy(e,t):e instanceof qy?Hy(e,t):function(e,t){var n=Uy(e,t),r=Gy(n)+Gy(e.yt);return Rm(n)&&Rm(e.yt)?Ry(r):Py(e.It,r)}(e,t)}function Fy(e,t,n){return e instanceof By?zy(e,t):e instanceof qy?Hy(e,t):n}function Uy(e,t){return e instanceof Wy?Rm(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Vy=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.apply(this,arguments)}return z(n)}(My),By=function(e){H(n,e);var t=Q(n);function n(e){var r;return V(this,n),(r=t.call(this)).elements=e,r}return z(n)}(My);function zy(e,t){var n,r=Ky(t),i=Tt(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Tm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var qy=function(e){H(n,e);var t=Q(n);function n(e){var r;return V(this,n),(r=t.call(this)).elements=e,r}return z(n)}(My);function Hy(e,t){var n,r=Ky(t),i=Tt(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Tm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Wy=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this)).It=e,i.yt=r,i}return z(n)}(My);function Gy(e){return pm(e.integerValue||e.doubleValue)}function Ky(e){return Lm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Yy=z((function e(t,n){V(this,e),this.field=t,this.transform=n}));var Qy=z((function e(t,n){V(this,e),this.version=t,this.transformResults=n})),$y=function(){function e(t,n){V(this,e),this.updateTime=t,this.exists=n}return z(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Xy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Jy=z((function e(){V(this,e)}));function Zy(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new fg(e.key,$y.none()):new ig(e.key,e.data,$y.none());var n,r=e.data,i=Wm.empty(),a=new sm(Tv.comparator),o=Tt(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new ag(e.key,i,new lm(a.toArray()),$y.none())}function eg(e,t,n){e instanceof ig?function(e,t,n){var r=e.value.clone(),i=sg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ag?function(e,t,n){if(Xy(e.precondition,t)){var r=sg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(og(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function tg(e,t,n,r){return e instanceof ig?function(e,t,n,r){if(!Xy(e.precondition,t))return n;var i=e.value.clone(),a=ug(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ag?function(e,t,n,r){if(!Xy(e.precondition,t))return n;var i=ug(e.fieldTransforms,r,t),a=t.data;return a.setAll(og(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Xy(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ng(e,t){var n,r=null,i=Tt(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Uy(a.transform,o||null);null!=s&&(null===r&&(r=Wm.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function rg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&bv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof By&&t instanceof By||e instanceof qy&&t instanceof qy?bv(e.elements,t.elements,Tm):e instanceof Wy&&t instanceof Wy?Tm(e.yt,t.yt):e instanceof Vy&&t instanceof Vy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var ig=function(e){H(n,e);var t=Q(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return V(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return z(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Jy),ag=function(e){H(n,e);var t=Q(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return V(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return z(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Jy);function og(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function sg(e,t,n){var r=new Map;iv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Fy(o,s,n[i]))}return r}function ug(e,t,n){var r,i=new Map,a=Tt(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,jy(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var cg,lg,fg=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return z(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Jy),dg=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return z(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Jy),hg=z((function e(t){V(this,e),this.count=t}));function pg(e){switch(e){default:return rv();case ov.CANCELLED:case ov.UNKNOWN:case ov.DEADLINE_EXCEEDED:case ov.RESOURCE_EXHAUSTED:case ov.INTERNAL:case ov.UNAVAILABLE:case ov.UNAUTHENTICATED:return!1;case ov.INVALID_ARGUMENT:case ov.NOT_FOUND:case ov.ALREADY_EXISTS:case ov.PERMISSION_DENIED:case ov.FAILED_PRECONDITION:case ov.ABORTED:case ov.OUT_OF_RANGE:case ov.UNIMPLEMENTED:case ov.DATA_LOSS:return!0}}function vg(e){if(void 0===e)return ev("GRPC error has no .code"),ov.UNKNOWN;switch(e){case cg.OK:return ov.OK;case cg.CANCELLED:return ov.CANCELLED;case cg.UNKNOWN:return ov.UNKNOWN;case cg.DEADLINE_EXCEEDED:return ov.DEADLINE_EXCEEDED;case cg.RESOURCE_EXHAUSTED:return ov.RESOURCE_EXHAUSTED;case cg.INTERNAL:return ov.INTERNAL;case cg.UNAVAILABLE:return ov.UNAVAILABLE;case cg.UNAUTHENTICATED:return ov.UNAUTHENTICATED;case cg.INVALID_ARGUMENT:return ov.INVALID_ARGUMENT;case cg.NOT_FOUND:return ov.NOT_FOUND;case cg.ALREADY_EXISTS:return ov.ALREADY_EXISTS;case cg.PERMISSION_DENIED:return ov.PERMISSION_DENIED;case cg.FAILED_PRECONDITION:return ov.FAILED_PRECONDITION;case cg.ABORTED:return ov.ABORTED;case cg.OUT_OF_RANGE:return ov.OUT_OF_RANGE;case cg.UNIMPLEMENTED:return ov.UNIMPLEMENTED;case cg.DATA_LOSS:return ov.DATA_LOSS;default:return rv()}}(lg=cg||(cg={}))[lg.OK=0]="OK",lg[lg.CANCELLED=1]="CANCELLED",lg[lg.UNKNOWN=2]="UNKNOWN",lg[lg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lg[lg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lg[lg.NOT_FOUND=5]="NOT_FOUND",lg[lg.ALREADY_EXISTS=6]="ALREADY_EXISTS",lg[lg.PERMISSION_DENIED=7]="PERMISSION_DENIED",lg[lg.UNAUTHENTICATED=16]="UNAUTHENTICATED",lg[lg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lg[lg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lg[lg.ABORTED=10]="ABORTED",lg[lg.OUT_OF_RANGE=11]="OUT_OF_RANGE",lg[lg.UNIMPLEMENTED=12]="UNIMPLEMENTED",lg[lg.INTERNAL=13]="INTERNAL",lg[lg.UNAVAILABLE=14]="UNAVAILABLE",lg[lg.DATA_LOSS=15]="DATA_LOSS";var mg=function(){function e(t,n){V(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return z(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Tt(n);try{for(i.s();!(r=i.n()).done;){var a=j(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){nm(this.inner,(function(t,n){var r,i=Tt(n);try{for(i.s();!(r=i.n()).done;){var a=j(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return rm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),yg=new im(Cv.comparator);function gg(){return yg}var wg=new im(Cv.comparator);function bg(){for(var e=wg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function kg(e){var t=wg;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function xg(){return Sg()}function _g(){return Sg()}function Sg(){return new mg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Eg=new im(Cv.comparator),Ig=new sm(Cv.comparator);function Tg(){for(var e=Ig,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Cg=new sm(wv);function Ng(){return Cg}var Og=function(){function e(t,n,r,i,a){V(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return z(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Ag.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(_v.min(),r,Ng(),gg(),Tg())}}]),e}(),Ag=function(){function e(t,n,r,i,a){V(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return z(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(fm.EMPTY_BYTE_STRING,n,Tg(),Tg(),Tg())}}]),e}(),Dg=z((function e(t,n,r,i){V(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Pg=z((function e(t,n){V(this,e),this.targetId=t,this.At=n})),Rg=z((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;V(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Lg=function(){function e(){V(this,e),this.Rt=0,this.bt=Fg(),this.Pt=fm.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return z(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Tg(),t=Tg(),n=Tg();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:rv()}})),new Ag(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Fg()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Mg=function(){function e(t){V(this,e),this.Bt=t,this.Lt=new Map,this.Ut=gg(),this.qt=jg(),this.Kt=new sm(wv)}return z(e,[{key:"Gt",value:function(e){var t,n=Tt(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(s){n.e(s)}finally{n.f()}var i,a=Tt(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:rv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(Jm(i))if(0===n){var a=new Cv(i.path);this.jt(t,a,Km.newNoDocument(a,_v.min()))}else iv(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Jm(a.target)){var o=new Cv(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Km.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Tg();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Og(e,n,this.Kt,this.Ut,r);return this.Ut=gg(),this.qt=jg(),this.Kt=new sm(wv),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Lg,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new sm(wv),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Zp("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Lg),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function jg(){return new im(Cv.comparator)}function Fg(){return new im(Cv.comparator)}var Ug={asc:"ASCENDING",desc:"DESCENDING"},Vg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bg=z((function e(t,n){V(this,e),this.databaseId=t,this.gt=n}));function zg(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function qg(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Hg(e,t){return zg(e,t.toTimestamp())}function Wg(e){return iv(!!e),_v.fromTimestamp(function(e){var t=hm(e);return new xv(t.seconds,t.nanos)}(e))}function Gg(e,t){return function(e){return new Ev(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Kg(e){var t=Ev.fromString(e);return iv(mw(t)),t}function Yg(e,t){return Gg(e.databaseId,t.path)}function Qg(e,t){var n=Kg(t);if(n.get(1)!==e.databaseId.projectId)throw new sv(ov.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new sv(ov.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Cv(Zg(n))}function $g(e,t){return Gg(e.databaseId,t)}function Xg(e){var t=Kg(e);return 4===t.length?Ev.emptyPath():Zg(t)}function Jg(e){return new Ev(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Zg(e){return iv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ew(e,t,n){return{name:Yg(e,t),fields:n.value.mapValue.fields}}function tw(e,t,n){var r=Qg(e,t.name),i=Wg(t.updateTime),a=new Wm({mapValue:{fields:t.fields}}),o=Km.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function nw(e,t){return"found"in t?function(e,t){iv(!!t.found),t.found.name,t.found.updateTime;var n=Qg(e,t.found.name),r=Wg(t.found.updateTime),i=new Wm({mapValue:{fields:t.found.fields}});return Km.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){iv(!!t.missing),iv(!!t.readTime);var n=Qg(e,t.missing),r=Wg(t.readTime);return Km.newNoDocument(n,r)}(e,t):rv()}function rw(e,t){var n;if(t instanceof ig)n={update:ew(e,t.key,t.value)};else if(t instanceof fg)n={delete:Yg(e,t.key)};else if(t instanceof ag)n={update:ew(e,t.key,t.data),updateMask:vw(t.fieldMask)};else{if(!(t instanceof dg))return rv();n={verify:Yg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Vy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof By)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof qy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wy)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw rv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Hg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:rv()}(e,t.precondition)),n}function iw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?$y.updateTime(Wg(e.updateTime)):void 0!==e.exists?$y.exists(e.exists):$y.none()}(t.currentDocument):$y.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)iv("REQUEST_TIME"===t.setToServerValue),n=new Vy;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new By(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new qy(i)}else"increment"in t?n=new Wy(e,t.increment):rv();var a=Tv.fromServerFormat(t.fieldPath);return new Yy(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Qg(e,t.update.name),a=new Wm({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new lm(t.map((function(e){return Tv.fromServerFormat(e)})))}(t.updateMask);return new ag(i,a,o,n,r)}return new ig(i,a,n,r)}if(t.delete){var s=Qg(e,t.delete);return new fg(s,n)}if(t.verify){var u=Qg(e,t.verify);return new dg(u,n)}return rv()}function aw(e,t){return{documents:[$g(e,t.path)]}}function ow(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=$g(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=$g(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(jm(e.value))return{unaryFilter:{field:fw(e.field),op:"IS_NAN"}};if(Mm(e.value))return{unaryFilter:{field:fw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(jm(e.value))return{unaryFilter:{field:fw(e.field),op:"IS_NOT_NAN"}};if(Mm(e.value))return{unaryFilter:{field:fw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fw(e.field),op:lw(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:fw(e.field),direction:cw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.gt||km(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function sw(e){var t=Xg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){iv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=uw(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new dy(dw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return km(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new fy(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new fy(n,t)}(n.endAt)),yy(t,i,s,o,u,"F",c,l)}function uw(e){return e?void 0!==e.unaryFilter?[pw(e)]:void 0!==e.fieldFilter?[hw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return uw(e)})).reduce((function(e,t){return e.concat(t)})):rv():[]}function cw(e){return Ug[e]}function lw(e){return Vg[e]}function fw(e){return{fieldPath:e.canonicalString()}}function dw(e){return Tv.fromServerFormat(e.fieldPath)}function hw(e){return ny.create(dw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rv()}}(e.fieldFilter.op),e.fieldFilter.value)}function pw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=dw(e.unaryFilter.field);return ny.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=dw(e.unaryFilter.field);return ny.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=dw(e.unaryFilter.field);return ny.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=dw(e.unaryFilter.field);return ny.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rv()}}function vw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function mw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function yw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ww(t)),t=gw(e.get(n),t);return ww(t)}function gw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function ww(e){return e+"\x01\x01"}function bw(e){var t=e.length;if(iv(t>=2),2===t)return iv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ev.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&rv(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:rv()}a=o+2}return new Ev(r)}var kw=["userId","batchId"];function xw(e,t){return[e,yw(t)]}function _w(e,t,n){return[e,yw(t),n]}var Sw={},Ew=["prefixPath","collectionGroup","readTime","documentId"],Iw=["prefixPath","collectionGroup","documentId"],Tw=["collectionGroup","readTime","prefixPath","documentId"],Cw=["canonicalId","targetId"],Nw=["targetId","path"],Ow=["path","targetId"],Aw=["collectionId","parent"],Dw=["indexId","uid"],Pw=["uid","sequenceNumber"],Rw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Lw=["indexId","uid","orderedDocumentKey"],Mw=["userId","collectionPath","documentId"],jw=["userId","collectionPath","largestBatchId"],Fw=["userId","collectionGroup","largestBatchId"],Uw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Vw=[].concat(U(Uw),["documentOverlays"]),Bw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zw=Bw,qw=[].concat(zw,["indexConfiguration","indexState","indexEntries"]),Hw=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return z(n)}(Uv);function Ww(e,t){var n=av(e);return Hv.O(n.ie,t)}var Gw=function(){function e(t,n,r,i){V(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return z(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&eg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Tt(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=tg(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Tt(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=tg(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=_g();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Zy(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(_v.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Tg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&bv(this.mutations,e.mutations,(function(e,t){return rg(e,t)}))&&bv(this.baseMutations,e.baseMutations,(function(e,t){return rg(e,t)}))}}]),e}(),Kw=function(){function e(t,n,r,i){V(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return z(e,null,[{key:"from",value:function(t,n,r){iv(t.mutations.length===r.length);for(var i=Eg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Yw=function(){function e(t,n){V(this,e),this.largestBatchId=t,this.mutation=n}return z(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Qw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_v.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_v.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fm.EMPTY_BYTE_STRING;V(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return z(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),$w=z((function e(t){V(this,e),this.re=t}));function Xw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Jw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Yg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:zg(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Zw(t.version)};else{if(!t.isUnknownDocument())return rv();r.unknownDocument={path:n.path.toArray(),version:Zw(t.version)}}return r}function Jw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Zw(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function eb(e){var t=new xv(e.seconds,e.nanoseconds);return _v.fromTimestamp(t)}function tb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return iw(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return iw(e.re,t)})),s=xv.fromMillis(t.localWriteTimeMs);return new Gw(t.batchId,s,n,o)}function nb(e){var t,n,r=eb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?eb(e.lastLimboFreeSnapshotVersion):_v.min();return void 0!==e.query.documents?(iv(1===(n=e.query).documents.length),t=Sy(gy(Xg(n.documents[0])))):t=function(e){return Sy(sw(e))}(e.query),new Qw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,fm.fromBase64String(e.resumeToken))}function rb(e,t){var n,r=Zw(t.snapshotVersion),i=Zw(t.lastLimboFreeSnapshotVersion);n=Jm(t.target)?aw(e.re,t.target):ow(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:$m(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function ib(e){var t=sw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ey(t,t.limit,"L"):t}function ab(e,t){return new Yw(t.largestBatchId,iw(e.re,t.overlayMutation))}function ob(e,t){var n=t.path.lastSegment();return[e,yw(t.path.popLast()),n]}function sb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Zw(r.readTime),documentKey:yw(r.documentKey.path),largestBatchId:r.largestBatchId}}var ub=function(){function e(){V(this,e)}return z(e,[{key:"getBundleMetadata",value:function(e,t){return cb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:eb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return cb(e).put({bundleId:(n=t).id,createTime:Zw(Wg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return lb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ib(t.bundledQuery),readTime:eb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return lb(e).put(function(e){return{name:e.name,readTime:Zw(Wg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function cb(e){return Ww(e,"bundles")}function lb(e){return Ww(e,"namedQueries")}var fb=function(){function e(t,n){V(this,e),this.It=t,this.userId=n}return z(e,[{key:"getOverlay",value:function(e,t){var n=this;return db(e).get(ob(this.userId,t)).next((function(e){return e?ab(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=xg();return zv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Yw(t,a);i.push(r.ue(e,o))})),zv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(yw(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(db(e).Y("collectionPathOverlayIndex",i))})),zv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=xg(),a=yw(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return db(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Tt(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=ab(r.It,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=xg(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return db(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=ab(a.It,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return db(e).put(function(e,t,n){var r=j(ob(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:rw(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function db(e){return Ww(e,"documentOverlays")}var hb=function(){function e(){V(this,e)}return z(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(pm(e.integerValue));else if("doubleValue"in e){var n=pm(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),xm(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(vm(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Vm(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):rv()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Tt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Cv.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function pb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function vb(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=pb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}hb.Te=new hb;var mb=function(){function e(){V(this,e),this.buffer=new Uint8Array(1024),this.position=0}return z(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=Tt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=Tt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=vb(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=vb(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Me(0),this.Me(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),yb=function(){function e(t){V(this,e),this.Be=t}return z(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),gb=function(){function e(t){V(this,e),this.Be=t}return z(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Oe()}}]),e}(),wb=function(){function e(){V(this,e),this.Be=new mb,this.Le=new yb(this.Be),this.Ue=new gb(this.Be)}return z(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),bb=function(){function e(t,n,r,i){V(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return z(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function kb(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=xb(e.arrayValue,t.arrayValue))?n:0!==(n=xb(e.directionalValue,t.directionalValue))?n:Cv.comparator(e.documentKey,t.documentKey)}function xb(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var _b=function(){function e(t){V(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=Tt(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return z(e,[{key:"We",value:function(e){var t=Ov(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=Av(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=Tt(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Sb=function(){function e(){V(this,e),this.Ye=new Eb}return z(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),zv.resolve()}},{key:"getCollectionParents",value:function(e,t){return zv.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return zv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return zv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return zv.resolve(null)}},{key:"getIndexType",value:function(e,t){return zv.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return zv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return zv.resolve(null)}},{key:"getMinOffset",value:function(e,t){return zv.resolve(Mv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return zv.resolve(Mv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return zv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return zv.resolve()}}]),e}(),Eb=function(){function e(){V(this,e),this.index={}}return z(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sm(Ev.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new sm(Ev.comparator)).toArray()}}]),e}(),Ib=new Uint8Array(0),Tb=function(){function e(t,n){V(this,e),this.user=t,this.databaseId=n,this.Xe=new Eb,this.Ze=new mg((function(e){return $m(e)}),(function(e,t){return Xm(e,t)})),this.uid=t.uid||""}return z(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:yw(i)};return Cb(e).put(a)}return zv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[kv(t),""],!1,!0);return Cb(e).W(r).next((function(e){var r,i=Tt(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(bw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Ob(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Ab(e);return a.next((function(e){o.put(sb(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Ob(e),r=Ab(e),i=Nb(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Nb(e),i=!0,a=new Map;return zv.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Tg(),o=[];return zv.forEach(a,(function(i,a){var s;Zp("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat($m(t)));var u=function(e,t){var n=Ov(t);if(void 0===n)return null;var r,i=Tt(Zm(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Tt(Av(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Tt(Zm(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Tt(Av(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?ey(e,o.fieldPath,e.startAt):ty(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new fy(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Tt(Av(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?ty(e,o.fieldPath,e.endAt):ey(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new fy(r,i)}(a,i),d=n.nn(i,a,l),h=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,u,d,l.inclusive,h,f.inclusive,p);return zv.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Cv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return zv.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.on(t[u/c]):Ib,d=s.un(e,f,n[u%c],r),h=s.cn(e,f,i[u%c],a),p=o.map((function(t){return s.un(e,f,t,!0)}));l.push.apply(l,U(s.createRange(d,h,p)))},d=0;d<u;++d)f(d);return l}},{key:"un",value:function(e,t,n,r){var i=new bb(e,Cv.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new bb(e,Cv.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new _b(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Tt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return zv.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new sm(Tv.comparator),r=!1,i=Tt(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,s=Tt(e.orderBy);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.field.isKeyField()||(n=n.add(u.field))}}catch(c){s.e(c)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new wb,i=Tt(Av(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.qe(a.kind);hb.Te.ce(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new wb;return hb.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new wb;return hb.Te.ce(Pm(this.databaseId,t),n.qe(function(e){var t=Av(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new wb);var i,a=0,o=Tt(Av(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=Tt(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.ln(t,u.fieldPath)&&Lm(c))r=this.fn(r,u,c);else{var d=f.qe(u.kind);hb.Te.ce(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=U(e),a=[],o=Tt(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=Tt(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new wb;f.seed(l.$e()),hb.Te.ce(u,f.qe(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ny&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Ob(e),i=Ab(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return zv.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Pv(t.sequenceNumber,new Mv(eb(t.readTime),new Cv(bw(t.documentKey)),t.largestBatchId)):Pv.empty(),r=e.fields.map((function(e){var t=j(e,2),n=t[0],r=t[1];return new Dv(Tv.fromServerFormat(n),r)}));return new Nv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:wv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Ob(e),a=Ab(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return zv.forEach(t,(function(t){return a.put(sb(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return zv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?zv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),zv.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?zv.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Nb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return Nb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=Nb(e),i=new sm(kb);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new bb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new sm(kb),r=this.an(t,e);if(null==r)return n;var i=Ov(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Lm(a)){var o,s=Tt(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new bb(t.indexId,e.key,this.on(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new bb(t.indexId,e.key,Ib,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;Zp("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=cm(a),u=cm(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=cm(o)):l?(i(s),s=cm(a)):(s=cm(a),u=cm(o))}}(r,i,kb,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),zv.waitFor(o)}},{key:"_n",value:function(e){var t=1;return Ab(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return kb(e,t)})).filter((function(e,t,n){return!t||0!==kb(e,n[t-1])}));var r=[];r.push(e);var i,a=Tt(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=kb(o,e),u=kb(o,t);if(0===s)r[0]=e.Ke();else if(s>0&&u<0)r.push(o),r.push(o.Ke());else if(u>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Ib,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Ib,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Db)}},{key:"getMinOffset",value:function(e,t){var n=this;return zv.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||rv()}))})).next(Db)}}]),e}();function Cb(e){return Ww(e,"collectionParents")}function Nb(e){return Ww(e,"indexEntries")}function Ob(e){return Ww(e,"indexConfiguration")}function Ab(e){return Ww(e,"indexState")}function Db(e){iv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;jv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Mv(t.readTime,t.documentKey,n)}var Pb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rb=function(){function e(t,n,r){V(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return z(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Lb(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){iv(1===s)})));var c,l=[],f=Tt(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=_w(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return zv.waitFor(a).next((function(){return l}))}function Mb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw rv();t=e.noDocument}return JSON.stringify(t).length}Rb.DEFAULT_COLLECTION_PERCENTILE=10,Rb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rb.DEFAULT=new Rb(41943040,Rb.DEFAULT_COLLECTION_PERCENTILE,Rb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rb.DISABLED=new Rb(-1,0,0);var jb=function(){function e(t,n,r,i){V(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return z(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ub(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Vb(e),o=Ub(e);return o.add({}).next((function(s){iv("number"==typeof s);var u,c=new Gw(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return rw(e.re,t)})),i=n.mutations.map((function(t){return rw(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],d=new sm((function(e,t){return wv(e.canonicalString(),t.canonicalString())})),h=Tt(r);try{for(h.s();!(u=h.n()).done;){var p=u.value,v=_w(i.userId,p.key.path,s);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Sw))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=c.keys()})),zv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Ub(e).get(t).next((function(e){return e?(iv(e.userId===n.userId),tb(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?zv.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Ub(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(iv(t.batchId>=r),a=tb(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ub(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ub(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return tb(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=xw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Vb(e).Z({range:i},(function(r,i,o){var s=j(r,3),u=s[0],c=s[1],l=s[2],f=bw(c);if(u===n.userId&&t.path.isEqual(f))return Ub(e).get(l).next((function(e){if(!e)throw rv();iv(e.userId===n.userId),a.push(tb(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new sm(wv),i=[];return t.forEach((function(t){var a=xw(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Vb(e).Z({range:o},(function(e,i,a){var o=j(e,3),s=o[0],u=o[1],c=o[2],l=bw(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),zv.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=xw(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new sm(wv);return Vb(e).Z({range:o},(function(e,t,a){var o=j(e,3),u=o[0],c=o[1],l=o[2],f=bw(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ub(e).get(t).next((function(e){if(null===e)throw rv();iv(e.userId===n.userId),r.push(tb(n.It,e))})))})),zv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Lb(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),zv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return zv.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Vb(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=bw(e[1]);i.push(a)}else r.done()})).next((function(){iv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Fb(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Bb(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return iv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Fb(e,t,n){var r=xw(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Vb(e).Z({range:a,X:!0},(function(e,n,r){var a=j(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Ub(e){return Ww(e,"mutations")}function Vb(e){return Ww(e,"documentMutations")}function Bb(e){return Ww(e,"mutationQueues")}var zb=function(){function e(t){V(this,e),this.bn=t}return z(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),qb=function(){function e(t,n){V(this,e),this.referenceDelegate=t,this.It=n}return z(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new zb(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return _v.fromTimestamp(new xv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Hb(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return iv(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Hb(e).Z((function(o,s){var u=nb(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return zv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Hb(e).Z((function(e,n){var r=nb(n);t(r)}))}},{key:"Vn",value:function(e){return Wb(e).get("targetGlobalKey").next((function(e){return iv(null!==e),e}))}},{key:"Sn",value:function(e,t){return Wb(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Hb(e).put(rb(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=$m(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Hb(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=nb(n);Xm(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Gb(e);return t.forEach((function(t){var o=yw(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),zv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Gb(e);return zv.forEach(t,(function(t){var a=yw(t.path);return zv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Gb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Gb(e),i=Tg();return r.Z({range:n,X:!0},(function(e,t,n){var r=bw(e[1]),a=new Cv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=yw(t.path),r=IDBKeyRange.bound([n],[kv(n)],!1,!0),i=0;return Gb(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=j(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Hb(e).get(t).next((function(e){return e?nb(e):null}))}}]),e}();function Hb(e){return Ww(e,"targets")}function Wb(e){return Ww(e,"targetGlobal")}function Gb(e){return Ww(e,"targetDocuments")}function Kb(e,t){var n=j(e,2),r=n[0],i=n[1],a=j(t,2),o=a[0],s=a[1],u=wv(r,o);return 0===u?wv(i,s):u}var Yb=function(){function e(t){V(this,e),this.xn=t,this.buffer=new sm(Kb),this.Nn=0}return z(e,[{key:"kn",value:function(){return++this.Nn}},{key:"Mn",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Kb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Qb=function(){function e(t,n,r){V(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return z(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"Fn",value:function(e){var t=this;Zp("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Kv(e.t0)){e.next=12;break}Zp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Vv(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),$b=function(){function e(t,n){V(this,e),this.$n=t,this.params=n}return z(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return zv.resolve(em.at);var r=new Yb(t);return this.$n.forEachTarget(e,(function(e){return r.Mn(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.Mn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Zp("LruGarbageCollector","Garbage collection skipped; disabled"),zv.resolve(Pb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Zp("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Pb):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Zp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Jp()<=on.DEBUG&&Zp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),zv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Xb=function(){function e(t,n){V(this,e),this.db=t,this.garbageCollector=function(e,t){return new $b(e,t)}(this,n)}return z(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Jb(e,n)}},{key:"removeReference",value:function(e,t,n){return Jb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Jb(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Bb(e).tt((function(r){return Fb(e,r,t).next((function(e){return e&&(n=!0),zv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,s){if(s<=t){var u=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,_v.min()),Gb(e).delete([0,yw(o.path)])}))}));i.push(u)}})).next((function(){return zv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Jb(e,t)}},{key:"Kn",value:function(e,t){var n,r=Gb(e),i=em.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=j(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==em.at&&t(new Cv(bw(n)),i),i=u,n=s):i=em.at})).next((function(){i!==em.at&&t(new Cv(bw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Jb(e,t){return Gb(e).put(function(e,t){return{targetId:0,path:yw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Zb=function(){function e(){V(this,e),this.changes=new mg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return z(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Km.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?zv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ek=function(){function e(t){V(this,e),this.It=t}return z(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return ik(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return ik(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Jw(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Km.newInvalidDocument(t);return ik(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ak(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Km.newInvalidDocument(t)};return ik(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ak(t))},(function(e,i){r={document:n.jn(t,i),size:Mb(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=gg();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=gg(),i=new im(Cv.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Mb(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return zv.resolve();var r=new sm(sk);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(ak(r.first()),ak(r.last())),a=r.getIterator(),o=a.getNext();return ik(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Cv.fromSegments([].concat(U(t.prefixPath),[t.collectionGroup,t.documentId]));o&&sk(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(ak(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Jw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ik(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=gg(),i=Tt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Cv.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=gg(),o=ok(t,n),s=ok(t,Mv.max());return ik(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.jn(Cv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new nk(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return rk(e).get("remoteDocumentGlobalKey").next((function(e){return iv(!!e),e}))}},{key:"Qn",value:function(e,t){return rk(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=tw(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Cv.fromSegments(t.noDocument.path),i=eb(t.noDocument.readTime);n=Km.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return rv();var a=Cv.fromSegments(t.unknownDocument.path),o=eb(t.unknownDocument.version);n=Km.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new xv(e[0],e[1]);return _v.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(_v.min()))return n}return Km.newInvalidDocument(e)}}]),e}();function tk(e){return new ek(e)}var nk=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new mg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return z(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new sm((function(e,t){return wv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=Xw(t.Yn.It,o);i=i.add(a.path.popLast());var c=Mb(u);r+=c-s.size,n.push(t.Yn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=Xw(t.Yn.It,o.convertToNoDocument(_v.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),zv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Zb);function rk(e){return Ww(e,"remoteDocumentGlobal")}function ik(e){return Ww(e,"remoteDocumentsV14")}function ak(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ok(e,t){var n=t.documentKey.path.toArray();return[e,Jw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function sk(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=wv(n[a],r[a]))return i;return(i=wv(n.length,r.length))||((i=wv(n[n.length-2],r[r.length-2]))||wv(n[n.length-1],r[r.length-1]))}var uk=z((function e(t,n){V(this,e),this.overlayedDocument=t,this.mutatedFields=n})),ck=function(){function e(t,n,r,i){V(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return z(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&tg(r.mutation,e,lm.empty(),xv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Tg()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tg(),i=xg();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=bg();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=xg();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Tg())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=gg(),a=Sg(),o=Sg();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ag)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),tg(o.mutation,t,o.mutation.getFieldMask(),xv.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new uk(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Sg(),i=new im((function(e,t){return e-t})),a=Tg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Tt(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||lm.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Tg()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=_g();c.forEach((function(e){if(!a.has(e)){var n=Zy(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return zv.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Cv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):zv.resolve(xg()),s=-1,u=a;return o.next((function(t){return zv.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?zv.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Tg())})).next((function(e){return{batchId:s,changes:kg(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Cv(t)).next((function(e){var t=bg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=bg();return this.indexManager.getCollectionParents(e,i).next((function(o){return zv.forEach(o,(function(o){var s=function(e,t){return new my(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Km.newInvalidDocument(n)))}));var n=bg();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&tg(a.mutation,i,lm.empty(),xv.now()),Ny(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):zv.resolve(Km.newInvalidDocument(t))}}]),e}(),lk=function(){function e(t){V(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return z(e,[{key:"getBundleMetadata",value:function(e,t){return zv.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Wg(n.createTime)}),zv.resolve()}},{key:"getNamedQuery",value:function(e,t){return zv.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:ib(e.bundledQuery),readTime:Wg(e.readTime)}}(t)),zv.resolve()}}]),e}(),fk=function(){function e(){V(this,e),this.overlays=new im(Cv.comparator),this.es=new Map}return z(e,[{key:"getOverlay",value:function(e,t){return zv.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=xg();return zv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),zv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),zv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=xg(),i=t.length+1,a=new Cv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return zv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new im((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=xg(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=xg(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return zv.resolve(u)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Yw(t,n));var a=this.es.get(t);void 0===a&&(a=Tg(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),dk=function(){function e(){V(this,e),this.ns=new sm(hk.ss),this.rs=new sm(hk.os)}return z(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new hk(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new hk(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Cv(new Ev([])),r=new hk(n,e),i=new hk(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Cv(new Ev([])),n=new hk(t,e),r=new hk(t,e+1),i=Tg();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new hk(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),hk=function(){function e(t,n){V(this,e),this.key=t,this._s=n}return z(e,null,[{key:"ss",value:function(e,t){return Cv.comparator(e.key,t.key)||wv(e._s,t._s)}},{key:"os",value:function(e,t){return wv(e._s,t._s)||Cv.comparator(e.key,t.key)}}]),e}(),pk=function(){function e(t,n){V(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new sm(hk.ss)}return z(e,[{key:"checkEmpty",value:function(e){return zv.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Gw(i,t,n,r);this.mutationQueue.push(a);var o,s=Tt(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new hk(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return zv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return zv.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return zv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return zv.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return zv.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new hk(t,0),i=new hk(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),zv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new sm(wv);return t.forEach((function(e){var t=new hk(e,0),i=new hk(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),zv.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Cv.isDocumentKey(i)||(i=i.child(""));var a=new hk(new Cv(i),0),o=new sm(wv);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),zv.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;iv(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return zv.forEach(t.mutations,(function(i){var a=new hk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new hk(t,0),r=this.gs.firstAfterOrEqual(n);return zv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,zv.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),vk=function(){function e(t){V(this,e),this.Es=t,this.docs=new im(Cv.comparator),this.size=0}return z(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return zv.resolve(n?n.document.mutableCopy():Km.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=gg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Km.newInvalidDocument(e))})),zv.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=gg(),i=new Cv(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||jv(Lv(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return zv.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){rv()}},{key:"As",value:function(e,t){return zv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new mk(this)}},{key:"getSize",value:function(e){return zv.resolve(this.size)}}]),e}(),mk=function(e){H(n,e);var t=Q(n);function n(e){var r;return V(this,n),(r=t.call(this)).Yn=e,r}return z(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),zv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Zb),yk=function(){function e(t){V(this,e),this.persistence=t,this.Rs=new mg((function(e){return $m(e)}),Xm),this.lastRemoteSnapshotVersion=_v.min(),this.highestTargetId=0,this.bs=0,this.Ps=new dk,this.targetCount=0,this.vs=zb.Pn()}return z(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),zv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return zv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return zv.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),zv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),zv.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new zb(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,zv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),zv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,zv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),zv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return zv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return zv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),zv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),zv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),zv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return zv.resolve(n)}},{key:"containsKey",value:function(e,t){return zv.resolve(this.Ps.containsKey(t))}}]),e}(),gk=function(){function e(t,n){var r=this;V(this,e),this.Vs={},this.overlays={},this.Ss=new em(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new yk(this),this.indexManager=new Sb,this.remoteDocumentCache=new vk((function(e){return r.referenceDelegate.xs(e)})),this.It=new $w(n),this.Ns=new lk(this.It)}return z(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new fk,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new pk(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Zp("MemoryPersistence","Starting transaction:",e);var i=new wk(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return zv.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),wk=function(e){H(n,e);var t=Q(n);function n(e){var r;return V(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return z(n)}(Uv),bk=function(){function e(t){V(this,e),this.persistence=t,this.Fs=new dk,this.$s=null}return z(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw rv()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),zv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),zv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),zv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zv.forEach(this.Ls,(function(r){var i=Cv.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,_v.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return zv.or([function(){return zv.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),kk=function(){function e(t){V(this,e),this.It=t}return z(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new qv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kw,{unique:!0}),e.createObjectStore("documentMutations")}(e),xk(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=zv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),xk(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_v.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kw,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return zv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Mw});t.createIndex("collectionPathOverlayIndex",jw,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Fw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ew});t.createIndex("documentKeyIndex",Iw),t.createIndex("collectionGroupIndex",Tw)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Dw}).createIndex("sequenceNumberIndex",Pw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Rw}).createIndex("documentKeyIndex",Lw,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Mb(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return zv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return zv.forEach(r,(function(r){iv(r.userId===n.userId);var i=tb(t.It,r);return Lb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Ev(n),o=function(e){return[0,yw(e)]}(a);r.push(t.get(o).next((function(n){return n?zv.resolve():function(n){return t.put({targetId:0,path:yw(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return zv.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Aw});var n=t.store("collectionParents"),r=new Eb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:yw(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Ev(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=j(e,3),r=(n[0],n[1]),a=(n[2],bw(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=nb(r),a=rb(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Cv(Ev.fromString(i.document.name).popFirst(5)):i.noDocument?Cv.fromSegments(i.noDocument.path):i.unknownDocument?Cv.fromSegments(i.unknownDocument.path):rv()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return zv.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=tk(this.It),a=new gk(bk.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Tg();tb(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),zv.forEach(r,(function(e,r){var o=new Qp(r),s=fb.oe(n.It,o),u=a.getIndexManager(o),c=jb.oe(o,n.It,u,a.referenceDelegate);return new ck(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Hw(t,em.at),e).next()}))}))}}]),e}();function xk(e){e.createObjectStore("targetDocuments",{keyPath:Nw}).createIndex("documentTargetsIndex",Ow,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Cw,{unique:!0}),e.createObjectStore("targetGlobal")}var _k="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Sk=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(V(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=s,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new sv(ov.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xb(this,i),this.ii=n+"main",this.It=new $w(u),this.ri=new Hv(this.ii,this.Xs,new kk(this.It)),this.Cs=new qb(this.referenceDelegate,this.It),this.remoteDocumentCache=tk(this.It),this.Ns=new ub,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&ev("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return z(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new sv(ov.FAILED_PRECONDITION,_k);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new em(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=D(O().mark((function n(r){return O().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=D(O().mark((function t(n){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ik(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Kv(t))return Zp("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Zp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Ek(e).get("owner").next((function(e){return zv.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Ik(e).delete(this.clientId)}},{key:"yi",value:function(){var e=D(O().mark((function e(){var t,n,r,i,a=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ww(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return zv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Tt(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?zv.resolve(!0):Ek(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new sv(ov.FAILED_PRECONDITION,_k);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ik(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Zp("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=D(O().mark((function e(){var t=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Hw(e,em.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ik(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return jb.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Tb(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return fb.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Zp("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Xs)?qw:14===i?zw:13===i?Bw:12===i?Vw:11===i?Uw:void rv();return this.ri.runTransaction(e,o,s,(function(i){return a=new Hw(i,r.Ss?r.Ss.next():em.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw ev("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new sv(ov.FAILED_PRECONDITION,Fv);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Ek(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new sv(ov.FAILED_PRECONDITION,_k)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ek(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Ek(e);return n.get("owner").next((function(e){return t.mi(e)?(Zp("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):zv.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ev("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Mt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Zp("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ev("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(rf){ev("Failed to set zombie client id.",rf)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(rf){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Hv.C()}}]),e}();function Ek(e){return Ww(e,"owner")}function Ik(e){return Ww(e,"clientMetadata")}function Tk(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ck=function(){function e(t,n,r,i){V(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return z(e,null,[{key:"Ci",value:function(t,n){var r,i=Tg(),a=Tg(),o=Tt(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Nk=function(){function e(){V(this,e),this.xi=!1}return z(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(wy(t))return zv.resolve(null);var r=Sy(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Ey(t,null,"F"),r=Sy(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Tg.apply(void 0,U(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Ey(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return wy(t)||r.isEqual(_v.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(Jp()<=on.DEBUG&&Zp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cy(t)),i.Bi(e,o,t,Rv(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new sm(Ay(e));return t.forEach((function(t,r){Ny(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return Jp()<=on.DEBUG&&Zp("QueryEngine","Using full collection scan to execute query:",Cy(t)),this.Ni.getDocumentsMatchingQuery(e,t,Mv.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Ok=function(){function e(t,n,r,i){V(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new im(wv),this.qi=new mg((function(e){return $m(e)}),Xm),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return z(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ck(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function Ak(e,t,n,r){return new Ok(e,t,n,r)}function Dk(e,t){return Pk.apply(this,arguments)}function Pk(){return Pk=D(O().mark((function e(t,n){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Tg(),u=Tt(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Tt(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;s=s.add(d.key)}}catch(w){f.e(w)}finally{f.f()}}}catch(w){u.e(w)}finally{u.f()}var h,p=Tt(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=Tt(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(w){y.e(w)}finally{y.f()}}}catch(w){p.e(w)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Pk.apply(this,arguments)}function Rk(e,t){var n=av(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=zv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);iv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Tg(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Lk(e){var t=av(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Mk(e,t){var n=av(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(fm.EMPTY_BYTE_STRING,_v.min()).withLastLimboFreeSnapshotVersion(_v.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=gg(),u=Tg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(jk(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(_v.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return zv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ui=i,e}))}function jk(e,t,n){var r=Tg(),i=Tg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=gg();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(_v.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Zp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Fk(e,t){var n=av(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Uk(e,t){var n=av(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,zv.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Qw(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Vk(e,t,n){return Bk.apply(this,arguments)}function Bk(){return Bk=D(O().mark((function e(t,n,r){var i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=av(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Kv(e.t1)){e.next=12;break}throw e.t1;case 12:Zp("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Bk.apply(this,arguments)}function zk(e,t,n){var r=av(e),i=_v.min(),a=Tg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=av(e),i=r.qi.get(n);return void 0!==i?zv.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Sy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:_v.min(),n?a:Tg())})).next((function(e){return Wk(r,Oy(t),e),{documents:e,Hi:a}}))}))}function qk(e,t){var n=av(e),r=av(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function Hk(e,t){var n=av(e),r=n.Ki.get(t)||_v.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Rv(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Wk(n,t,e),e}))}function Wk(e,t,n){var r=_v.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Gk(e,t,n,r){return Kk.apply(this,arguments)}function Kk(){return Kk=D(O().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,d,h,p;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=av(t),o=Tg(),s=gg(),u=Tt(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(d=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),s=s.insert(f,d)}catch(v){u.e(v)}finally{u.f()}return h=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Uk(a,function(e){return Sy(gy(Ev.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return jk(e,h,s).next((function(t){return h.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Kk.apply(this,arguments)}function Yk(e,t){return Qk.apply(this,arguments)}function Qk(){return Qk=D(O().mark((function e(t,n){var r,i,a,o=arguments;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Tg(),e.next=3,Uk(t,Sy(ib(n.bundledQuery)));case 3:return i=e.sent,a=av(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Wg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(fm.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Qk.apply(this,arguments)}function $k(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Xk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Jk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Zk=function(){function e(t,n,r,i){V(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return z(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new sv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ev("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),ex=function(){function e(t,n,r){V(this,e),this.targetId=t,this.state=n,this.error=r}return z(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new sv(i.error.code,i.error.message))),a?new e(t,i.state,r):(ev("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),tx=function(){function e(t,n){V(this,e),this.clientId=t,this.activeTargetIds=n}return z(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ng(),o=0;i&&o<r.activeTargetIds.length;++o)i=_m(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ev("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),nx=function(){function e(t,n){V(this,e),this.clientId=t,this.onlineState=n}return z(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ev("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),rx=function(){function e(){V(this,e),this.activeTargetIds=Ng()}return z(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ix=function(){function e(t,n,r,i,a){V(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new im(wv),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=$k(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new rx),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return z(e,[{key:"start",value:function(){var e=D(O().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,d=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Tt(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem($k(this.persistenceKey,i)))&&(o=tx.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(s=this.storage.getItem(this.wr))&&(u=this.yr(s))&&this.pr(u),c=Tt(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(h){c.e(h)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Jk(this.persistenceKey,e));if(n){var r=ex.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Jk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Zp("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Zp("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Zp("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Zp("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void ev("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(D(O().mark((function e(){var r,i,a,o,s,u,c;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(s));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}u=function(e){var t=em.at;if(null!=e)try{var n=JSON.parse(e);iv("number"==typeof n),t=n}catch(e){ev("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==em.at&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Mr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Zk(this.currentUser,e,t,n),i=Xk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=Xk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Jk(this.persistenceKey,e),i=new ex(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return tx.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Zk.Zi(new Qp(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return ex.Zi(r,t)}},{key:"yr",value:function(e){return nx.Zi(e)}},{key:"Mr",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Zp("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Br(o,s).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Ng();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ax=function(){function e(){V(this,e),this.Lr=new rx,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return z(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new rx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),ox=function(){function e(){V(this,e)}return z(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),sx=function(){function e(){var t=this;V(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return z(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Zp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Tt(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Zp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Tt(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),ux={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},cx=function(){function e(t){V(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return z(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),lx=function(e){H(n,e);var t=Q(n);function n(e){var r;return V(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return z(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Kp;o.listenOnce(zp.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Bp.NO_ERROR:var t=o.getResponseJson();Zp("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Bp.TIMEOUT:Zp("Connection",'RPC "'+e+'" timed out'),a(new sv(ov.DEADLINE_EXCEEDED,"Request time out"));break;case Bp.HTTP_ERROR:var n=o.getStatus();if(Zp("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ov).indexOf(t)>=0?t:ov.UNKNOWN}(r.status);a(new sv(s,r.message))}else a(new sv(ov.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new sv(ov.UNAVAILABLE,"Connection failed."));break;default:rv()}}finally{Zp("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Up(),a=Vp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Wp({})),this.ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");Zp("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new cx({Hr:function(e){l?Zp("Connection","Not sending because WebChannel is closed:",e):(c||(Zp("Connection","Opening WebChannel transport."),u.open(),c=!0),Zp("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(u,Gp.EventType.OPEN,(function(){l||Zp("Connection","WebChannel transport opened.")})),d(u,Gp.EventType.CLOSE,(function(){l||(l=!0,Zp("Connection","WebChannel transport closed"),f.io())})),d(u,Gp.EventType.ERROR,(function(e){l||(l=!0,tv("Connection","WebChannel transport errored:",e),f.io(new sv(ov.UNAVAILABLE,"The operation could not be completed")))})),d(u,Gp.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];iv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Zp("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=cg[e];if(void 0!==t)return vg(t)}(a),s=i.message;void 0===o&&(o=ov.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new sv(o,s)),u.close()}else Zp("Connection","WebChannel received:",n),f.ro(n)}})),d(a,qp.STAT_EVENT,(function(e){e.stat===Hp.PROXY?Zp("Connection","Detected buffering proxy"):e.stat===Hp.NOPROXY&&Zp("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){V(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return z(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);Zp("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return Zp("RestConnection","Received: ",e),e}),(function(t){throw tv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+$p,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=ux[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function fx(){return"undefined"!=typeof window?window:null}function dx(){return"undefined"!=typeof document?document:null}function hx(e){return new Bg(e,!0)}var px=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;V(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return z(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Zp("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),vx=function(){function e(t,n,r,i,a,o,s,u){V(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new px(t,n)}return z(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===ov.RESOURCE_EXHAUSTED?(ev(n.toString()),ev("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===ov.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=j(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new sv(ov.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(D(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Zp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Zp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),mx=function(e){H(n,e);var t=Q(n);function n(e,r,i,a,o,s){var u;return V(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).It=o,u}return z(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:rv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(iv(void 0===t||"string"==typeof t),fm.fromBase64String(t||"")):(iv(void 0===t||t instanceof Uint8Array),fm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?ov.UNKNOWN:vg(e.code);return new sv(t,e.message||"")}(o);n=new Rg(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Qg(e,u.document.name),l=Wg(u.document.updateTime),f=new Wm({mapValue:{fields:u.document.fields}}),d=Km.newFoundDocument(c,l,f),h=u.targetIds||[],p=u.removedTargetIds||[];n=new Dg(h,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Qg(e,v.document),y=v.readTime?Wg(v.readTime):_v.min(),g=Km.newNoDocument(m,y),w=v.removedTargetIds||[];n=new Dg([],w,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var k=Qg(e,b.document),x=b.removedTargetIds||[];n=new Dg([],x,k,null)}else{if(!("filter"in t))return rv();t.filter;var _=t.filter;_.targetId;var S=_.count||0,E=new hg(S),I=_.targetId;n=new Pg(I,E)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return _v.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?_v.min():t.readTime?Wg(t.readTime):_v.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Jg(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=Jm(r)?{documents:aw(e,r)}:{query:ow(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=qg(e,t.resumeToken):t.snapshotVersion.compareTo(_v.min())>0&&(n.readTime=zg(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Jg(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(vx),yx=function(e){H(n,e);var t=Q(n);function n(e,r,i,a,o,s){var u;return V(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).It=o,u.Jo=!1,u}return z(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Nr(W(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(iv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(iv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Wg(e.updateTime):Wg(t);return n.isEqual(_v.min())&&(n=Wg(t)),new Qy(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Wg(e.commitTime);return this.listener.Zo(n,t)}return iv(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Jg(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return rw(t.It,e)}))};this.Bo(n)}}]),n}(vx),gx=function(e){H(n,e);var t=Q(n);function n(e,r,i,a){var o;return V(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return z(n,[{key:"su",value:function(){if(this.nu)throw new sv(ov.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=j(i,2),o=a[0],s=a[1];return r.Vo.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ov.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new sv(ov.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=j(a,2),s=o[0],u=o[1];return i.Vo.fo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ov.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new sv(ov.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return z((function e(){V(this,e)}))}()),wx=function(){function e(t,n){V(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return z(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(ev(t),this.ou=!1):Zp("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),bx=z((function e(t,n,r,i,a){var o=this;V(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ax(o),!e.t0){e.next=5;break}return Zp("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=av(t))._u.add(4),e.next=4,_x(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,kx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new wx(r,i)}));function kx(e){return xx.apply(this,arguments)}function xx(){return xx=D(O().mark((function e(t){var n,r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ax(t)){e.next=18;break}n=Tt(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),xx.apply(this,arguments)}function _x(e){return Sx.apply(this,arguments)}function Sx(){return Sx=D(O().mark((function e(t){var n,r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Tt(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Sx.apply(this,arguments)}function Ex(e,t){var n=av(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Ox(n)?Nx(n):o_(n).ko()&&Tx(n,t))}function Ix(e,t){var n=av(e),r=o_(n);n.du.delete(t),r.ko()&&Cx(n,t),0===n.du.size&&(r.ko()?r.Fo():Ax(n)&&n.gu.set("Unknown"))}function Tx(e,t){e.yu.Ot(t.targetId),o_(e).zo(t)}function Cx(e,t){e.yu.Ot(t),o_(e).Ho(t)}function Nx(e){e.yu=new Mg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),o_(e).start(),e.gu.uu()}function Ox(e){return Ax(e)&&!o_(e).No()&&e.du.size>0}function Ax(e){return 0===av(e)._u.size}function Dx(e){e.yu=void 0}function Px(e){return Rx.apply(this,arguments)}function Rx(){return Rx=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Tx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Rx.apply(this,arguments)}function Lx(e,t){return Mx.apply(this,arguments)}function Mx(){return Mx=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Dx(t),Ox(t)?(t.gu.hu(n),Nx(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Mx.apply(this,arguments)}function jx(e,t,n){return Fx.apply(this,arguments)}function Fx(){return Fx=D(O().mark((function e(t,n,r){var i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Rg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=D(O().mark((function e(t,n){var r,i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Tt(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Zp("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Ux(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Dg?t.yu.Gt(n):n instanceof Pg?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(_v.min())){e.next=29;break}return e.prev=14,e.next=17,Lk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(fm.EMPTY_BYTE_STRING,n.snapshotVersion)),Cx(e,t);var r=new Qw(n.target,t,1,n.sequenceNumber);Tx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Zp("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Ux(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Fx.apply(this,arguments)}function Ux(e,t,n){return Vx.apply(this,arguments)}function Vx(){return Vx=D(O().mark((function e(t,n,r){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Kv(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,_x(t);case 5:t.gu.set("Offline"),r||(r=function(){return Lk(t.localStore)}),t.asyncQueue.enqueueRetryable(D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zp("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,kx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function Bx(e,t){return t().catch((function(n){return Ux(e,n,t)}))}function zx(e){return qx.apply(this,arguments)}function qx(){return qx=D(O().mark((function e(t){var n,r,i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=av(t),r=s_(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!Hx(n)){e.next=19;break}return e.prev=3,e.next=6,Fk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,Wx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Ux(n,e.t0);case 17:e.next=2;break;case 19:Gx(n)&&Kx(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),qx.apply(this,arguments)}function Hx(e){return Ax(e)&&e.fu.length<10}function Wx(e,t){e.fu.push(t);var n=s_(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Gx(e){return Ax(e)&&!s_(e).No()&&e.fu.length>0}function Kx(e){s_(e).start()}function Yx(e){return Qx.apply(this,arguments)}function Qx(){return Qx=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s_(t).eu();case 1:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}function $x(e){return Xx.apply(this,arguments)}function Xx(){return Xx=D(O().mark((function e(t){var n,r,i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s_(t),r=Tt(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Xx.apply(this,arguments)}function Jx(e,t,n){return Zx.apply(this,arguments)}function Zx(){return Zx=D(O().mark((function e(t,n,r){var i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Kw.from(i,n,r),e.next=3,Bx(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,zx(t);case 5:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}function e_(e,t){return t_.apply(this,arguments)}function t_(){return t_=D(O().mark((function e(t,n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&s_(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=D(O().mark((function e(t,n){var r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pg(i=n.code)||i===ov.ABORTED){e.next=7;break}return r=t.fu.shift(),s_(t).Oo(),e.next=5,Bx(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,zx(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Gx(t)&&Kx(t);case 5:case"end":return e.stop()}}),e)}))),t_.apply(this,arguments)}function n_(e,t){return r_.apply(this,arguments)}function r_(){return r_=D(O().mark((function e(t,n){var r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=av(t)).asyncQueue.verifyOperationInProgress(),Zp("RemoteStore","RemoteStore received new credentials"),i=Ax(r),r._u.add(3),e.next=6,_x(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,kx(r);case 12:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e,t){return a_.apply(this,arguments)}function a_(){return a_=D(O().mark((function e(t,n){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=av(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,kx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,_x(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(e){return e.pu||(e.pu=function(e,t,n){var r=av(e);return r.su(),new mx(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Px.bind(null,e),Zr:Lx.bind(null,e),Wo:jx.bind(null,e)}),e.wu.push(function(){var t=D(O().mark((function t(n){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),Ox(e)?Nx(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Dx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function s_(e){return e.Iu||(e.Iu=function(e,t,n){var r=av(e);return r.su(),new yx(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Yx.bind(null,e),Zr:e_.bind(null,e),tu:$x.bind(null,e),Zo:Jx.bind(null,e)}),e.wu.push(function(){var t=D(O().mark((function t(n){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,zx(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Zp("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var u_=function(){function e(t,n,r,i,a){V(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new uv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return z(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sv(ov.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function c_(e,t){if(ev("AsyncQueue","".concat(t,": ").concat(e)),Kv(e))return new sv(ov.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var l_=function(){function e(t){V(this,e),this.comparator=t?function(e,n){return t(e,n)||Cv.comparator(e.key,n.key)}:function(e,t){return Cv.comparator(e.key,t.key)},this.keyedMap=bg(),this.sortedSet=new im(this.comparator)}return z(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),f_=function(){function e(){V(this,e),this.Tu=new im(Cv.comparator)}return z(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):rv():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),d_=function(){function e(t,n,r,i,a,o,s,u){V(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return z(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Iy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,l_.emptySet(n),a,r,i,!0,!1)}}]),e}(),h_=z((function e(){V(this,e),this.Au=void 0,this.listeners=[]})),p_=z((function e(){V(this,e),this.queries=new mg((function(e){return Ty(e)}),Iy),this.onlineState="Unknown",this.Ru=new Set}));function v_(e,t){return m_.apply(this,arguments)}function m_(){return m_=D(O().mark((function e(t,n){var r,i,a,o,s;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=av(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new h_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=c_(e.t0,"Initialization of query '".concat(Cy(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&k_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),m_.apply(this,arguments)}function y_(e,t){return g_.apply(this,arguments)}function g_(){return g_=D(O().mark((function e(t,n){var r,i,a,o,s;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=av(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function w_(e,t){var n,r=av(e),i=!1,a=Tt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Tt(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&k_(r)}function b_(e,t,n){var r=av(e),i=r.queries.get(t);if(i){var a,o=Tt(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function k_(e){e.Ru.forEach((function(e){e.next()}))}var x_=function(){function e(t,n,r){V(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return z(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Tt(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new d_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=d_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}(),__=function(){function e(t,n){V(this,e),this.payload=t,this.byteLength=n}return z(e,[{key:"ku",value:function(){return"metadata"in this.payload}}]),e}(),S_=function(){function e(t){V(this,e),this.It=t}return z(e,[{key:"Ji",value:function(e){return Qg(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?tw(this.It,e.document,!1):Km.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Wg(e)}}]),e}(),E_=function(){function e(t,n,r){V(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=I_(t)}return z(e,[{key:"Ou",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Ev.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Fu",value:function(e){var t,n=new Map,r=new S_(this.It),i=Tt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ji(a.metadata.name),u=Tt(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Tg()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=D(O().mark((function e(){var t,n,r,i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gk(this.localStore,new S_(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.Fu(this.documents),r=Tt(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Yk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function I_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var T_=z((function e(t){V(this,e),this.key=t})),C_=z((function e(t){V(this,e),this.key=t})),N_=function(){function e(t,n){V(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=Tg(),this.mutatedKeys=Tg(),this.Ku=Ay(t),this.Gu=new l_(this.Ku)}return z(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new f_,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ny(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ku(f,u)>0||c&&n.Ku(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,Wu:r,$i:s,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rv()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],s=0===this.qu.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new d_(this.query,e.Gu,i,a,e.mutatedKeys,0===s,u,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new f_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=Tg(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new C_(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new T_(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=Tg();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return d_.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),O_=z((function e(t,n,r){V(this,e),this.query=t,this.targetId=n,this.view=r})),A_=z((function e(t){V(this,e),this.key=t,this.ec=!1})),D_=function(){function e(t,n,r,i,a,o){V(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new mg((function(e){return Ty(e)}),Iy),this.ic=new Map,this.rc=new Set,this.oc=new im(Cv.comparator),this.uc=new Map,this.cc=new dk,this.ac={},this.hc=new Map,this.lc=zb.vn(),this.onlineState="Unknown",this.fc=void 0}return z(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function P_(e,t){return R_.apply(this,arguments)}function R_(){return R_=D(O().mark((function e(t,n){var r,i,a,o,s,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=IS(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,Uk(r.localStore,Sy(n));case 8:return s=e.sent,r.isPrimaryClient&&Ex(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,L_(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}function L_(e,t,n,r){return M_.apply(this,arguments)}function M_(){return M_=D(O().mark((function e(t,n,r,i){var a,o,s,u,c,l;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=D(O().mark((function e(t,n,r,i){var a,o,s;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,zk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(nS(t,n.targetId,s.Yu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,zk(t.localStore,n,!0);case 3:return a=e.sent,o=new N_(n,a.Hi),s=o.ju(a.documents),u=Ag.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),nS(t,r,c.Yu),l=new O_(n,r,o),e.abrupt("return",(t.sc.set(n,l),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}function j_(e,t){return F_.apply(this,arguments)}function F_(){return F_=D(O().mark((function e(t,n){var r,i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=av(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Iy(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Vk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ix(r.remoteStore,i.targetId),eS(r,i.targetId)})).catch(Vv);case 9:e.next=14;break;case 11:return eS(r,i.targetId),e.next=14,Vk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),F_.apply(this,arguments)}function U_(e,t,n){return V_.apply(this,arguments)}function V_(){return V_=D(O().mark((function e(t,n,r){var i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=TS(t),e.prev=1,e.next=4,function(e,t){var n,r,i=av(e),a=xv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Tg());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=gg(),u=Tg();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Tt(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=ng(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new ag(c.key,l,Gm(l.value.mapValue),$y.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:kg(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new im(wv)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,aS(i,a.changes);case 9:return e.next=11,zx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=c_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),V_.apply(this,arguments)}function B_(e,t){return z_.apply(this,arguments)}function z_(){return z_=D(O().mark((function e(t,n){var r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),e.prev=1,e.next=4,Mk(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(iv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?iv(n.ec):e.removedDocuments.size>0&&(iv(n.ec),n.ec=!1))})),e.next=8,aS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Vv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),z_.apply(this,arguments)}function q_(e,t,n){var r=av(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=av(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Tt(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&k_(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function H_(e,t,n){return W_.apply(this,arguments)}function W_(){return W_=D(O().mark((function e(t,n,r){var i,a,o,s,u,c;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=av(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new im(Cv.comparator)).insert(o,Km.newNoDocument(o,_v.min())),u=Tg().add(o),c=new Og(_v.min(),new Map,new sm(wv),s,u),e.next=9,B_(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),iS(i),e.next=16;break;case 14:return e.next=16,Vk(i.localStore,n,!1).then((function(){return eS(i,n,r)})).catch(Vv);case 16:case"end":return e.stop()}}),e)}))),W_.apply(this,arguments)}function G_(e,t){return K_.apply(this,arguments)}function K_(){return K_=D(O().mark((function e(t,n){var r,i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),i=n.batch.batchId,e.prev=1,e.next=4,Rk(r.localStore,n);case 4:return a=e.sent,Z_(r,i,null),J_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,aS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Vv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),K_.apply(this,arguments)}function Y_(e,t,n){return Q_.apply(this,arguments)}function Q_(){return Q_=D(O().mark((function e(t,n,r){var i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=av(t),e.prev=1,e.next=4,function(e,t){var n=av(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return iv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Z_(i,n,r),J_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,aS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Vv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Q_.apply(this,arguments)}function $_(e,t){return X_.apply(this,arguments)}function X_(){return X_=D(O().mark((function e(t,n){var r,i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ax((r=av(t)).remoteStore)||Zp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=av(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=c_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),X_.apply(this,arguments)}function J_(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function Z_(e,t,n){var r=av(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function eS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Tt(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||tS(e,t)}))}function tS(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(Ix(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),iS(e))}function nS(e,t,n){var r,i=Tt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof T_?(e.cc.addReference(a.key,t),rS(e,a)):a instanceof C_?(Zp("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||tS(e,a.key)):rv()}}catch(o){i.e(o)}finally{i.f()}}function rS(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Zp("SyncEngine","New document in limbo: "+n),e.rc.add(r),iS(e))}function iS(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Cv(Ev.fromString(t)),r=e.lc.next();e.uc.set(r,new A_(n)),e.oc=e.oc.insert(n,r),Ex(e.remoteStore,new Qw(Sy(gy(n.path)),r,2,em.at))}}function aS(e,t,n){return oS.apply(this,arguments)}function oS(){return oS=D(O().mark((function e(t,n,r){var i,a,o,s;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=av(t),a=[],o=[],s=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){s.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Ck.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.nc.Wo(a),e.next=9,function(){var e=D(O().mark((function e(t,n){var r,i,a,o,s,u,c,l;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return zv.forEach(n,(function(t){return zv.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return zv.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Kv(e.t0)){e.next=10;break}throw e.t0;case 10:Zp("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Tt(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ui.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function sS(e,t){return uS.apply(this,arguments)}function uS(){return uS=D(O().mark((function e(t,n){var r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=av(t)).currentUser.isEqual(n)){e.next=11;break}return Zp("SyncEngine","User change. New user:",n.toKey()),e.next=5,Dk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new sv(ov.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,aS(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}function cS(e,t){var n=av(e),r=n.uc.get(t);if(r&&r.ec)return Tg().add(r.key);var i=Tg(),a=n.ic.get(t);if(!a)return i;var o,s=Tt(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.sc.get(u);i=i.unionWith(c.view.Qu)}}catch(l){s.e(l)}finally{s.f()}return i}function lS(e,t){return fS.apply(this,arguments)}function fS(){return fS=D(O().mark((function e(t,n){var r,i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),e.next=3,zk(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Zu(i),e.abrupt("return",(r.isPrimaryClient&&nS(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),fS.apply(this,arguments)}function dS(e,t){return hS.apply(this,arguments)}function hS(){return hS=D(O().mark((function e(t,n){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),e.abrupt("return",Hk(r.localStore,n).then((function(e){return aS(r,e)})));case 2:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function pS(e,t,n,r){return vS.apply(this,arguments)}function vS(){return vS=D(O().mark((function e(t,n,r,i){var a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=av(t),e.next=3,function(e,t){var n=av(e),r=av(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):zv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,zx(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Z_(a,n,i||null),J_(a,n),function(e,t){av(av(e).mutationQueue).An(t)}(a.localStore,n)):rv();case 11:return e.next=13,aS(a,o);case 13:e.next=16;break;case 15:Zp("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}function mS(e,t){return yS.apply(this,arguments)}function yS(){return yS=D(O().mark((function e(t,n){var r,i,a,o,s,u,c,l;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(IS(r=av(t)),TS(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,gS(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,i_(r.remoteStore,!0);case 9:o=Tt(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Ex(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return eS(r,t),Vk(r.localStore,t,!0)})),Ix(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,gS(r,c);case 21:return function(e){var t=av(e);t.uc.forEach((function(e,n){Ix(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new im(Cv.comparator)}(r),r.fc=!1,e.next=25,i_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),yS.apply(this,arguments)}function gS(e,t,n){return wS.apply(this,arguments)}function wS(){return wS=D(O().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,h,p,v,m,y;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=av(t),a=[],o=[],s=Tt(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,Uk(i.localStore,Sy(f[0]));case 11:l=e.sent,d=Tt(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.sc.get(p),e.next=20,lS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,qk(i.localStore,c);case 36:return y=e.sent,e.next=39,Uk(i.localStore,y);case 39:return l=e.sent,e.next=42,L_(i,bS(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),wS.apply(this,arguments)}function bS(e){return yy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function kS(e){var t=av(e);return av(av(t.localStore).persistence).vi()}function xS(e,t,n,r){return _S.apply(this,arguments)}function _S(){return _S=D(O().mark((function e(t,n,r,i){var a,o,s,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=av(t)).fc){e.next=3;break}return e.abrupt("return",void Zp("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Hk(a.localStore,Oy(o[0]));case 10:return s=e.sent,u=Og.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,aS(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,Vk(a.localStore,n,!0);case 17:return eS(a,n,i),e.abrupt("break",20);case 19:rv();case 20:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function SS(e,t,n){return ES.apply(this,arguments)}function ES(){return ES=D(O().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=IS(t)).fc){e.next=45;break}a=Tt(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ic.has(s)){e.next=10;break}return Zp("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,qk(i.localStore,s);case 12:return u=e.sent,e.next=15,Uk(i.localStore,u);case 15:return c=e.sent,e.next=18,L_(i,bS(u),c.targetId,!1);case 18:Ex(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Tt(r),e.prev=30,d=O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,Vk(i.localStore,t,!1).then((function(){Ix(i.remoteStore,t),eS(i,t)})).catch(Vv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),ES.apply(this,arguments)}function IS(e){var t=av(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=B_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=H_.bind(null,t),t.nc.Wo=w_.bind(null,t.eventManager),t.nc._c=b_.bind(null,t.eventManager),t}function TS(e){var t=av(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=G_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Y_.bind(null,t),t}function CS(e,t,n){var r=av(e);(function(){var e=D(O().mark((function e(t,n,r){var i,a,o,s,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=av(e),r=Wg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(I_(i)),a=new E_(i,t.localStore,n.It),e.next=15,n.wc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Ou(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.wc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,aS(t,u.Bu,void 0);case 31:return e.next=33,function(e,t){var n=av(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.$u));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(tv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var NS=function(){function e(){V(this,e),this.synchronizeTabs=!1}return z(e,[{key:"initialize",value:function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=hx(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return Ak(this.persistence,new Nk,e.initialUser,this.It)}},{key:"gc",value:function(e){return new gk(bk.Bs,this.It)}},{key:"mc",value:function(e){return new ax}},{key:"terminate",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),OS=function(e){H(n,e);var t=Q(n);function n(e,r,i){var a;return V(this,n),(a=t.call(this)).Ec=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return z(n,[{key:"initialize",value:function(){var e=D(O().mark((function e(t){var r=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nr(W(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ec.initialize(this,t);case 4:return e.next=6,TS(this.Ec.syncEngine);case 6:return e.next=8,zx(this.Ec.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"yc",value:function(e){return Ak(this.persistence,new Nk,e.initialUser,this.It)}},{key:"Ic",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Qb(n,e.asyncQueue,t)}},{key:"Tc",value:function(e,t){var n=new Zv(t,this.persistence);return new Jv(e.asyncQueue,n)}},{key:"gc",value:function(e){var t=Tk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Rb.withCacheSize(this.cacheSizeBytes):Rb.DEFAULT;return new Sk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,fx(),dx(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"mc",value:function(e){return new ax}}]),n}(NS),AS=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this,e,r,!1)).Ec=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return z(n,[{key:"initialize",value:function(){var e=D(O().mark((function e(t){var r,i=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nr(W(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ec.syncEngine,e.t0=this.sharedClientState instanceof ix,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:pS.bind(null,r),$r:xS.bind(null,r),Br:SS.bind(null,r),vi:kS.bind(null,r),Or:dS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mS(i.Ec.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e){var t=fx();if(!ix.C(t))throw new sv(ov.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Tk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ix(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(OS),DS=function(){function e(){V(this,e)}return z(e,[{key:"initialize",value:function(){var e=D(O().mark((function e(t,n){var r=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return q_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=sS.bind(null,this.syncEngine),e.next=12,i_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new p_}},{key:"createDatastore",value:function(e){var t,n=hx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new lx(t));return function(e,t,n,r){return new gx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return q_(o.syncEngine,e,0)},a=sx.C()?new sx:new ox,new bx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new D_(e,t,n,r,i,a);return o&&(s.fc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=av(t),Zp("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,_x(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function PS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return D(O().mark((function r(){var i;return O().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var RS=function(){function e(t){V(this,e),this.observer=t,this.muted=!1}return z(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):ev("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),LS=function(){function e(t,n){var r=this;V(this,e),this.bc=t,this.It=n,this.metadata=new uv,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((function(e){e&&e.ku()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return z(e,[{key:"close",value:function(){return this.bc.cancel()}},{key:"getMetadata",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wc",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=D(O().mark((function e(){var t,n,r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Pc.decode(t),r=Number(n),isNaN(r)&&this.Sc("length string (".concat(n,") is not valid number")),e.next=9,this.Dc(r);case 9:return i=e.sent,e.abrupt("return",new __(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Vc",value:function(){var e=D(O().mark((function e(){var t,n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Cc()<0)){e.next=7;break}return e.next=3,this.xc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Cc())<0&&this.Sc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.xc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Sc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Pc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Sc",value:function(e){throw this.bc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"xc",value:function(){var e=D(O().mark((function e(){var t,n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),MS=function(){function e(t){V(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return z(e,[{key:"lookup",value:function(){var e=D(O().mark((function e(t){var n,r=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new sv(ov.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=D(O().mark((function e(t,n){var r,i,a,o,s,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),i=Jg(r.It)+"/documents",a={documents:n.map((function(e){return Yg(r.It,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=nw(r.It,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());iv(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new fg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=D(O().mark((function e(){var t,n=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Cv.fromPath(t);n.mutations.push(new dg(r,n.precondition(r)))})),e.next=7,function(){var e=D(O().mark((function e(t,n){var r,i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=av(t),i=Jg(r.It)+"/documents",a={writes:n.map((function(e){return rw(r.It,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rv();t=_v.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new sv(ov.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_v.min())?$y.exists(!1):$y.updateTime(t):$y.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_v.min()))throw new sv(ov.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $y.updateTime(t)}return $y.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),jS=function(){function e(t,n,r,i,a){V(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new px(this.asyncQueue,"transaction_retry")}return z(e,[{key:"run",value:function(){this.Nc-=1,this.kc()}},{key:"kc",value:function(){var e=this;this.xo.Ao(D(O().mark((function t(){var n,r;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new MS(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Oc(t)}))}))})).catch((function(t){e.Oc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!km(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Oc",value:function(e){var t=this;this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((function(){return t.kc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Fc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!pg(t)}return!1}}]),e}(),FS=function(){function e(t,n,r,i){var a=this;V(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qp.UNAUTHENTICATED,this.clientId=gv.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zp("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Zp("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return z(e,[{key:"getConfiguration",value:function(){var e=D(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new sv(ov.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new uv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(D(O().mark((function n(){var r;return O().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=c_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function US(e,t){return VS.apply(this,arguments)}function VS(){return VS=D(O().mark((function e(t,n){var r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Zp("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Dk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}function BS(e,t){return zS.apply(this,arguments)}function zS(){return zS=D(O().mark((function e(t,n){var r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,qS(t);case 3:return r=e.sent,Zp("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return n_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return n_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function qS(e){return HS.apply(this,arguments)}function HS(){return HS=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Zp("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,US(t,new NS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function WS(e){return GS.apply(this,arguments)}function GS(){return GS=D(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Zp("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,BS(t,new DS);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function KS(e){return qS(e).then((function(e){return e.persistence}))}function YS(e){return qS(e).then((function(e){return e.localStore}))}function QS(e){return WS(e).then((function(e){return e.remoteStore}))}function $S(e){return WS(e).then((function(e){return e.syncEngine}))}function XS(e){return JS.apply(this,arguments)}function JS(){return JS=D(O().mark((function e(t){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WS(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=P_.bind(null,n.syncEngine),r.onUnlisten=j_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function ZS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new uv;return e.asyncQueue.enqueueAndForget(D(O().mark((function i(){return O().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new RS({next:function(a){t.enqueueAndForget((function(){return y_(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new sv(ov.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new sv(ov.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new x_(gy(n.path),a,{includeMetadataChanges:!0,Nu:!0});return v_(e,o)},i.next=3,XS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function eE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new uv;return e.asyncQueue.enqueueAndForget(D(O().mark((function i(){return O().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new RS({next:function(n){t.enqueueAndForget((function(){return y_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new sv(ov.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new x_(n,a,{includeMetadataChanges:!0,Nu:!0});return v_(e,o)},i.next=3,XS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var tE=new Map;function nE(e,t,n){if(!n)throw new sv(ov.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function rE(e,t,n,r){if(!0===t&&!0===r)throw new sv(ov.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function iE(e){if(!Cv.isDocumentKey(e))throw new sv(ov.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function aE(e){if(Cv.isDocumentKey(e))throw new sv(ov.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function oE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":rv()}function sE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sv(ov.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=oE(e);throw new sv(ov.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function uE(e,t){if(t<=0)throw new sv(ov.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var cE=function(){function e(t){var n;if(V(this,e),void 0===t.host){if(void 0!==t.ssl)throw new sv(ov.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new sv(ov.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,rE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return z(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),lE=function(){function e(t,n,r,i){V(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cE({}),this._settingsFrozen=!1}return z(e,[{key:"app",get:function(){if(!this._app)throw new sv(ov.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new sv(ov.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new lv;switch(e.type){case"gapi":var t=e.client;return new pv(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sv(ov.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=tE.get(e);t&&(Zp("ComponentProvider","Removing Datastore"),tE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function fE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=sE(e,lE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&tv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Qp.MOCK_USER;else{o=Rt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new sv(ov.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Qp(u)}e._authCredentials=new fv(new cv(o,s))}}var dE=function(){function e(t,n,r){V(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return z(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new pE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),hE=function(){function e(t,n,r){V(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return z(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),pE=function(e){H(n,e);var t=Q(n);function n(e,r,i){var a;return V(this,n),(a=t.call(this,e,r,gy(i)))._path=i,a.type="collection",a}return z(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new dE(this.firestore,null,new Cv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(hE);function vE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=en(e),nE("collection","path",t),e instanceof lE){var a=Ev.fromString.apply(Ev,[t].concat(r));return aE(a),new pE(e,null,a)}if(!(e instanceof dE||e instanceof pE))throw new sv(ov.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ev.fromString.apply(Ev,[t].concat(r)));return aE(o),new pE(e.firestore,null,o)}function mE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=en(e),1===arguments.length&&(t=gv.R()),nE("doc","path",t),e instanceof lE){var a=Ev.fromString.apply(Ev,[t].concat(r));return iE(a),new dE(e,null,new Cv(a))}if(!(e instanceof dE||e instanceof pE))throw new sv(ov.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ev.fromString.apply(Ev,[t].concat(r)));return iE(o),new dE(e.firestore,e instanceof pE?e.converter:null,new Cv(o))}function yE(e,t){return e=en(e),t=en(t),(e instanceof dE||e instanceof pE)&&(t instanceof dE||t instanceof pE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function gE(e,t){return e=en(e),t=en(t),e instanceof hE&&t instanceof hE&&e.firestore===t.firestore&&Iy(e._query,t._query)&&e.converter===t.converter}var wE=function(){function e(){var t=this;V(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new px(this,"async_queue_retry"),this.jc=function(){var e=dx();e&&Zp("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=dx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return z(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=dx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new uv;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=D(O().mark((function e(){var t=this;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Kv(e.t0)){e.next=12;break}throw e.t0;case 12:Zp("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ev("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=u_.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&rv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=D(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=Tt(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Tt(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function bE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Tt(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var kE=function(){function e(){V(this,e),this._progressObserver={},this._taskCompletionResolver=new uv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return z(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),xE=function(e){H(n,e);var t=Q(n);function n(e,r,i,a){var o;return V(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new wE,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return z(n,[{key:"_terminate",value:function(){return this._firestoreClient||SE(this),this._firestoreClient.terminate()}}]),n}(lE);function _E(e){return e._firestoreClient||SE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function SE(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new wm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new FS(e._authCredentials,e._appCheckCredentials,e._queue,r)}function EE(e,t,n){var r=new uv;return e.asyncQueue.enqueue(D(O().mark((function i(){var a;return O().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,US(e,n);case 3:return i.next=5,BS(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===ov.FAILED_PRECONDITION||e.code===ov.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:tv("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function IE(e){return function(e){return e.asyncQueue.enqueue(D(O().mark((function t(){var n,r;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,KS(e);case 2:return n=t.sent,t.next=5,QS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=av(e);return t._u.delete(0),kx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(_E(e=sE(e,xE)))}function TE(e){return function(e){return e.asyncQueue.enqueue(D(O().mark((function t(){var n,r;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,KS(e);case 2:return n=t.sent,t.next=5,QS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=av(t))._u.add(0),e.next=4,_x(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(_E(e=sE(e,xE)))}function CE(e,t){var n=_E(e=sE(e,xE)),r=new kE;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new LS(e,t)}(function(e,t){if(e instanceof Uint8Array)return PS(e,t);if(e instanceof ArrayBuffer)return PS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,hx(t));e.asyncQueue.enqueueAndForget(D(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=CS,t.next=3,$S(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function NE(e,t){return function(e,t){return e.asyncQueue.enqueue(D(O().mark((function n(){return O().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=av(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,YS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(_E(e=sE(e,xE)),t).then((function(t){return t?new hE(e,null,t.query):null}))}function OE(e){if(e._initialized||e._terminated)throw new sv(ov.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var AE=function(){function e(){V(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new sv(ov.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tv(n)}return z(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var DE=function(){function e(t){V(this,e),this._byteString=t}return z(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(fm.fromBase64String(t))}catch(t){throw new sv(ov.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(fm.fromUint8Array(t))}}]),e}(),PE=z((function e(t){V(this,e),this._methodName=t})),RE=function(){function e(t,n){if(V(this,e),!isFinite(t)||t<-90||t>90)throw new sv(ov.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new sv(ov.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return z(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return wv(this._lat,e._lat)||wv(this._long,e._long)}}]),e}(),LE=/^__.*__$/,ME=function(){function e(t,n,r){V(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return z(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ag(e,this.data,this.fieldMask,t,this.fieldTransforms):new ig(e,this.data,t,this.fieldTransforms)}}]),e}(),jE=function(){function e(t,n,r){V(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return z(e,[{key:"toMutation",value:function(e,t){return new ag(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function FE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rv()}}var UE=function(){function e(t,n,r,i,a,o){V(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return z(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return aI(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(FE(this.na)&&LE.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),VE=function(){function e(t,n,r){V(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||hx(t)}return z(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new UE({na:e,methodName:t,la:n,path:Tv.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function BE(e){var t=e._freezeSettings(),n=hx(e._databaseId);return new VE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);tI("Data must be an object, but it was:",o,r);var s,u,c=ZE(r,o);if(a.merge)s=new lm(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=Tt(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=nI(t,h,n);if(!o.contains(p))throw new sv(ov.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));oI(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}s=new lm(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new ME(new Wm(c),s,u)}var qE=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.apply(this,arguments)}return z(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(PE);function HE(e,t,n){return new UE({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var WE=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.apply(this,arguments)}return z(n,[{key:"_toFieldTransform",value:function(e){return new Yy(e.path,new Vy)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(PE),GE=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this,e)).da=r,i}return z(n,[{key:"_toFieldTransform",value:function(e){var t=HE(this,e,!0),n=this.da.map((function(e){return JE(e,t)})),r=new By(n);return new Yy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(PE),KE=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this,e)).da=r,i}return z(n,[{key:"_toFieldTransform",value:function(e){var t=HE(this,e,!0),n=this.da.map((function(e){return JE(e,t)})),r=new qy(n);return new Yy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(PE),YE=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this,e))._a=r,i}return z(n,[{key:"_toFieldTransform",value:function(e){var t=new Wy(e.It,Ly(e.It,this._a));return new Yy(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(PE);function QE(e,t,n,r){var i=e.fa(1,t,n);tI("Data must be an object, but it was:",i,r);var a=[],o=Wm.empty();nm(r,(function(e,r){var s=iI(t,e,n);r=en(r);var u=i.ua(s);if(r instanceof qE)a.push(s);else{var c=JE(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new lm(a);return new jE(o,s,i.fieldTransforms)}function $E(e,t,n,r,i,a){var o=e.fa(1,t,n),s=[nI(t,r,n)],u=[i];if(a.length%2!=0)throw new sv(ov.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(nI(t,a[c])),u.push(a[c+1]);for(var l=[],f=Wm.empty(),d=s.length-1;d>=0;--d)if(!oI(l,s[d])){var h=s[d],p=u[d];p=en(p);var v=o.ua(h);if(p instanceof qE)l.push(h);else{var m=JE(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new lm(l);return new jE(f,y,o.fieldTransforms)}function XE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return JE(n,e.fa(r?4:3,t))}function JE(e,t){if(eI(e=en(e)))return tI("Unsupported field value:",t,e),ZE(e,t);if(e instanceof PE)return function(e,t){if(!FE(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Tt(e);try{for(a.s();!(n=a.n()).done;){var o=JE(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=en(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ly(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=xv.fromDate(e);return{timestampValue:zg(t.It,n)}}if(e instanceof xv){var r=new xv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:zg(t.It,r)}}if(e instanceof RE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof DE)return{bytesValue:qg(t.It,e._byteString)};if(e instanceof dE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Gg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(oE(e)))}(e,t)}function ZE(e,t){var n={};return rm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nm(e,(function(e,r){var i=JE(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function eI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof xv||e instanceof RE||e instanceof DE||e instanceof dE||e instanceof PE)}function tI(e,t,n){if(!eI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=oE(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function nI(e,t,n){if((t=en(t))instanceof AE)return t._internalPath;if("string"==typeof t)return iI(e,t);throw aI("Field path arguments must be of type string or ",e,!1,void 0,n)}var rI=new RegExp("[~\\*/\\[\\]]");function iI(e,t,n){if(t.search(rI)>=0)throw aI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return $(AE,U(t.split(".")))._internalPath}catch(pU){throw aI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function aI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new sv(ov.INVALID_ARGUMENT,s+e+u)}function oI(e,t){return e.some((function(e){return e.isEqual(t)}))}var sI=function(){function e(t,n,r,i,a){V(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return z(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new dE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new uI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(cI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),uI=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.apply(this,arguments)}return z(n,[{key:"data",value:function(){return Nr(W(n.prototype),"data",this).call(this)}}]),n}(sI);function cI(e,t){return"string"==typeof t?iI(e,t):t instanceof AE?t._internalPath:t._delegate._internalPath}var lI=function(){function e(t,n){V(this,e),this.hasPendingWrites=t,this.fromCache=n}return z(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),fI=function(e){H(n,e);var t=Q(n);function n(e,r,i,a,o,s){var u;return V(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return z(n,[{key:"exists",value:function(){return Nr(W(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new dI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(cI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(sI),dI=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.apply(this,arguments)}return z(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Nr(W(n.prototype),"data",this).call(this,e)}}]),n}(fI),hI=function(){function e(t,n,r,i){V(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new lI(i.hasPendingWrites,i.fromCache),this.query=r}return z(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new dI(n._firestore,n._userDataWriter,r.key,r,new lI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new sv(ov.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new dI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new dI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:pI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function pI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rv()}}function vI(e,t){return e instanceof fI&&t instanceof fI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof hI&&t instanceof hI&&e._firestore===t._firestore&&gE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function mI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new sv(ov.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var yI=z((function e(){V(this,e)}));function gI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var wI=function(e){H(n,e);var t=Q(n);function n(e,r,i){var a;return V(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return z(n,[{key:"_apply",value:function(e){var t=BE(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new sv(ov.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){OI(o,a);var u,c=[],l=Tt(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(NI(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=NI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||OI(o,a),s=XE(n,"where",o,"in"===a||"not-in"===a);var d=ny.create(i,a,s);return function(e,t){if(t.dt()){var n=ky(e);if(null!==n&&!n.isEqual(t.field))throw new sv(ov.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=by(e);null!==r&&AI(e,t.field,r)}var i=function(e,t){var n,r=Tt(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new sv(ov.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new sv(ov.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new hE(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new my(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(yI);var bI=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return z(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new sv(ov.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new sv(ov.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new dy(t,n);return function(e,t){if(null===by(e)){var n=ky(e);null!==n&&AI(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new hE(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new my(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(yI);var kI=function(e){H(n,e);var t=Q(n);function n(e,r,i){var a;return V(this,n),(a=t.call(this)).type=e,a.pa=r,a.Ia=i,a}return z(n,[{key:"_apply",value:function(e){return new hE(e.firestore,e.converter,Ey(e._query,this.pa,this.Ia))}}]),n}(yI);var xI=function(e){H(n,e);var t=Q(n);function n(e,r,i){var a;return V(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return z(n,[{key:"_apply",value:function(e){var t=CI(e,this.type,this.Ta,this.Ea);return new hE(e.firestore,e.converter,function(e,t){return new my(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(yI);function _I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xI("startAt",t,!0)}function SI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xI("startAfter",t,!1)}var EI=function(e){H(n,e);var t=Q(n);function n(e,r,i){var a;return V(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return z(n,[{key:"_apply",value:function(e){var t=CI(e,this.type,this.Ta,this.Ea);return new hE(e.firestore,e.converter,function(e,t){return new my(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(yI);function II(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new EI("endBefore",t,!1)}function TI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new EI("endAt",t,!0)}function CI(e,t,n,r){if(n[0]=en(n[0]),n[0]instanceof sI)return function(e,t,n,r,i){if(!r)throw new sv(ov.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Tt(_y(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Pm(t,r.key));else{var c=r.data.field(u.field);if(mm(c))throw new sv(ov.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new sv(ov.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new fy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=BE(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new sv(ov.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new sv(ov.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!xy(e)&&-1!==c.indexOf("/"))throw new sv(ov.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ev.fromString(c));if(!Cv.isDocumentKey(l))throw new sv(ov.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Cv(l);s.push(Pm(t,f))}else{var d=XE(n,r,c);s.push(d)}}return new fy(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function NI(e,t,n){if("string"==typeof(n=en(n))){if(""===n)throw new sv(ov.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xy(t)&&-1!==n.indexOf("/"))throw new sv(ov.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ev.fromString(n));if(!Cv.isDocumentKey(r))throw new sv(ov.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Pm(e,new Cv(r))}if(n instanceof dE)return Pm(e,n._key);throw new sv(ov.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(oE(n),"."))}function OI(e,t){if(!Array.isArray(e)||0===e.length)throw new sv(ov.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new sv(ov.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function AI(e,t,n){if(!n.isEqual(t))throw new sv(ov.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var DI={maxAttempts:5},PI=function(){function e(){V(this,e)}return z(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Im(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return nm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new RE(pm(e.latitude),pm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ym(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gm(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=hm(e);return new xv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ev.fromString(e);iv(mw(n));var r=new bm(n.get(1),n.get(3)),i=new Cv(n.popFirst(5));return r.isEqual(t)||ev("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function RI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var LI=function(e){H(n,e);var t=Q(n);function n(e){var r;return V(this,n),(r=t.call(this)).firestore=e,r}return z(n,[{key:"convertBytes",value:function(e){return new DE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dE(this.firestore,null,t)}}]),n}(PI),MI=function(){function e(t,n){V(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=BE(t)}return z(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=jI(e,this._firestore),i=RI(r.converter,t,n),a=zE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,$y.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=jI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=en(t))||t instanceof AE?$E(this._dataReader,"WriteBatch.update",i._key,t,n,o):QE(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,$y.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=jI(e,this._firestore);return this._mutations=this._mutations.concat(new fg(t._key,$y.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new sv(ov.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function jI(e,t){if((e=en(e)).firestore!==t)throw new sv(ov.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var FI=function(e){H(n,e);var t=Q(n);function n(e){var r;return V(this,n),(r=t.call(this)).firestore=e,r}return z(n,[{key:"convertBytes",value:function(e){return new DE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dE(this.firestore,null,t)}}]),n}(PI);function UI(e){e=sE(e,dE);var t=sE(e.firestore,xE),n=_E(t),r=new FI(t);return function(e,t){var n=new uv;return e.asyncQueue.enqueueAndForget(D(O().mark((function r(){return O().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=D(O().mark((function e(t,n,r){var i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=av(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new sv(ov.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=c_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,YS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new fI(t,r,e._key,n,new lI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function VI(e){e=sE(e,hE);var t=sE(e.firestore,xE),n=_E(t),r=new FI(t);return function(e,t){var n=new uv;return e.asyncQueue.enqueueAndForget(D(O().mark((function r(){return O().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=D(O().mark((function e(t,n,r){var i,a,o,s,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zk(t,n,!0);case 3:i=e.sent,a=new N_(n,i.Hi),o=a.ju(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=c_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,YS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new hI(t,r,e,n)}))}function BI(e,t,n){e=sE(e,dE);var r=sE(e.firestore,xE),i=RI(e.converter,t,n);return WI(r,[zE(BE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,$y.none())])}function zI(e,t,n){e=sE(e,dE);for(var r=sE(e.firestore,xE),i=BE(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return WI(r,[("string"==typeof(t=en(t))||t instanceof AE?$E(i,"updateDoc",e._key,t,n,o):QE(i,"updateDoc",e._key,t)).toMutation(e._key,$y.exists(!0))])}function qI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=en(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||bE(n[u])||(s=n[u],u++);var c,l,f,d={includeMetadataChanges:s.includeMetadataChanges};if(bE(n[u])){var h=n[u];n[u]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[u+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[u+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof dE)l=sE(e.firestore,xE),f=gy(e._key.path),c={next:function(t){n[u]&&n[u](GI(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=sE(e,hE);l=sE(p.firestore,xE),f=p._query;var v=new FI(l);c={next:function(e){n[u]&&n[u](new hI(l,v,p,e))},error:n[u+1],complete:n[u+2]},mI(e._query)}return function(e,t,n,r){var i=new RS(r),a=new x_(t,i,n);return e.asyncQueue.enqueueAndForget(D(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=v_,t.next=3,XS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(D(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=y_,t.next=3,XS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(_E(l),f,d,c)}function HI(e,t){return function(e,t){var n=new RS(t);return e.asyncQueue.enqueueAndForget(D(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){av(e).Ru.add(t),t.next()},t.next=3,XS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Rc(),e.asyncQueue.enqueueAndForget(D(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){av(e).Ru.delete(t)},t.next=3,XS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(_E(e=sE(e,xE)),bE(t)?t:{next:t})}function WI(e,t){return function(e,t){var n=new uv;return e.asyncQueue.enqueueAndForget(D(O().mark((function r(){return O().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=U_,r.next=3,$S(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(_E(e),t)}function GI(e,t,n){var r=n.docs.get(t._key),i=new FI(e);return new fI(e,i,t._key,r,new lI(n.hasPendingWrites,n.fromCache),t.converter)}var KI=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this,e,r))._firestore=e,i}return z(n,[{key:"get",value:function(e){var t=this,r=jI(e,this._firestore),i=new FI(this._firestore);return Nr(W(n.prototype),"get",this).call(this,e).then((function(e){return new fI(t._firestore,i,r._key,e._document,new lI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){V(this,e),this._firestore=t,this._transaction=n,this._dataReader=BE(t)}return z(e,[{key:"get",value:function(e){var t=this,n=jI(e,this._firestore),r=new LI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return rv();var i=e[0];if(i.isFoundDocument())return new sI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new sI(t._firestore,r,n._key,null,n.converter);throw rv()}))}},{key:"set",value:function(e,t,n){var r=jI(e,this._firestore),i=RI(r.converter,t,n),a=zE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=jI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=en(t))||t instanceof AE?$E(this._dataReader,"Transaction.update",i._key,t,n,o):QE(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=jI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function YI(e,t,n){e=sE(e,xE);var r=Object.assign(Object.assign({},DI),n);return function(e){if(e.maxAttempts<1)throw new sv(ov.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new uv;return e.asyncQueue.enqueueAndForget(D(O().mark((function i(){var a;return O().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return WS(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new jS(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(_E(e),(function(n){return t(new KI(e,n))}),r)}function QI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GE("arrayUnion",t)}function $I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KE("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){$p=e}(Xn),Hn(new tn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new xE(new dv(e.getProvider("auth-internal")),new mv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sv(ov.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bm(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),rr(Yp,"3.5.0",e),rr(Yp,"3.5.0","esm2017")}();function XI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new sv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function JI(){if("undefined"===typeof Uint8Array)throw new sv("unimplemented","Uint8Arrays are not available in this environment.")}function ZI(){if("undefined"==typeof atob)throw new sv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var eT=function(){function e(t){V(this,e),this._delegate=t}return z(e,[{key:"toBase64",value:function(){return ZI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return JI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return ZI(),new e(DE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return JI(),new e(DE.fromUint8Array(t))}}]),e}();function tT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Tt(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var nT=function(){function e(){V(this,e)}return z(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){OE(e=sE(e,xE));var n=_E(e),r=e._freezeSettings(),i=new DS;return EE(n,i,new OS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){OE(e=sE(e,xE));var t=_E(e),n=e._freezeSettings(),r=new DS;return EE(t,r,new AS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new sv(ov.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new uv;return e._queue.enqueueAndForgetEvenWhileRestricted(D(O().mark((function n(){return O().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=D(O().mark((function e(t){var n;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hv.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Hv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Tk(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),rT=function(){function e(t,n,r){var i=this;V(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof bm||(this._appCompat=t)}return z(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||tv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fE(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return IE(this._delegate)}},{key:"disableNetwork",value:function(){return TE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&rE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new uv;return e.asyncQueue.enqueueAndForget(D(O().mark((function n(){return O().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=$_,n.next=3,$S(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(_E(e=sE(e,xE)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return HI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new sv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new yT(this,vE(this._delegate,e))}catch(t){throw cT(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new uT(this,mE(this._delegate,e))}catch(t){throw cT(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new pT(this,function(e,t){if(e=sE(e,lE),nE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new sv(ov.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new hE(e,null,function(e){return new my(Ev.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw cT(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return YI(this._delegate,(function(n){return e(new aT(t,n))}))}},{key:"batch",value:function(){var e=this;return _E(this._delegate),new oT(new MI(this._delegate,(function(t){return WI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return CE(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return NE(this._delegate,e).then((function(e){return e?new pT(t,e):null}))}}]),e}(),iT=function(e){H(n,e);var t=Q(n);function n(e){var r;return V(this,n),(r=t.call(this)).firestore=e,r}return z(n,[{key:"convertBytes",value:function(e){return new eT(new DE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return uT.forKey(t,this.firestore,null)}}]),n}(PI);var aT=function(){function e(t,n){V(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new iT(t)}return z(e,[{key:"get",value:function(e){var t=this,n=gT(e);return this._delegate.get(n).then((function(e){return new dT(t._firestore,new fI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=gT(e);return n?(XI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=gT(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=gT(e);return this._delegate.delete(t),this}}]),e}(),oT=function(){function e(t){V(this,e),this._delegate=t}return z(e,[{key:"set",value:function(e,t,n){var r=gT(e);return n?(XI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=gT(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=gT(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),sT=function(){function e(t,n,r){V(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return z(e,[{key:"fromFirestore",value:function(e,t){var n=new dI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hT(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new iT(t),n),i.set(n,a)),a}}]),e}();sT.INSTANCES=new WeakMap;var uT=function(){function e(t,n){V(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new iT(t)}return z(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new yT(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new yT(this.firestore,vE(this._delegate,e))}catch(t){throw cT(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=en(e))instanceof dE&&yE(this._delegate,e)}},{key:"set",value:function(e,t){t=XI("DocumentReference.set",t);try{return t?BI(this._delegate,e,t):BI(this._delegate,e)}catch(n){throw cT(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?zI(this._delegate,e):zI.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw cT(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return WI(sE(e.firestore,xE),[new fg(e._key,$y.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=lT(n),a=fT(n,(function(t){return new dT(e.firestore,new fI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return qI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?UI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=sE(e,dE);var t=sE(e.firestore,xE);return ZS(_E(t),e._key,{source:"server"}).then((function(n){return GI(t,e,n)}))}(this._delegate):function(e){e=sE(e,dE);var t=sE(e.firestore,xE);return ZS(_E(t),e._key).then((function(n){return GI(t,e,n)}))}(this._delegate),t.then((function(e){return new dT(n.firestore,new fI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(sT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new sv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new dE(n._delegate,r,new Cv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new dE(n._delegate,r,t))}}]),e}();function cT(e,t,n){return e.message=e.message.replace(t,n),e}function lT(e){var t,n=Tt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!tT(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function fT(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=tT(e[0])?e[0]:tT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var dT=function(){function e(t,n){V(this,e),this._firestore=t,this._delegate=n}return z(e,[{key:"ref",get:function(){return new uT(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return vI(this._delegate,e._delegate)}}]),e}(),hT=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.apply(this,arguments)}return z(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||rv()}(void 0!==t),t}}]),n}(dT),pT=function(){function e(t,n){V(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new iT(t)}return z(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,gI(this._delegate,function(e,t,n){var r=t,i=cI("where",e);return new wI(i,r,n)}(t,n,r)))}catch(i){throw cT(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,gI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=cI("orderBy",e);return new bI(n,t)}(t,n)))}catch(r){throw cT(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,gI(this._delegate,function(e){return uE("limit",e),new kI("limit",e,"F")}(t)))}catch(n){throw cT(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,gI(this._delegate,function(e){return uE("limitToLast",e),new kI("limitToLast",e,"L")}(t)))}catch(n){throw cT(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,gI(this._delegate,_I.apply(void 0,arguments)))}catch(t){throw cT(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,gI(this._delegate,SI.apply(void 0,arguments)))}catch(t){throw cT(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,gI(this._delegate,II.apply(void 0,arguments)))}catch(t){throw cT(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,gI(this._delegate,TI.apply(void 0,arguments)))}catch(t){throw cT(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return gE(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?VI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=sE(e,hE);var t=sE(e.firestore,xE),n=_E(t),r=new FI(t);return eE(n,e._query,{source:"server"}).then((function(n){return new hI(t,r,e,n)}))}(this._delegate):function(e){e=sE(e,hE);var t=sE(e.firestore,xE),n=_E(t),r=new FI(t);return mI(e._query),eE(n,e._query).then((function(n){return new hI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new mT(n.firestore,new hI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=lT(n),a=fT(n,(function(t){return new mT(e.firestore,new hI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return qI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(sT.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),vT=function(){function e(t,n){V(this,e),this._firestore=t,this._delegate=n}return z(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new hT(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),mT=function(){function e(t,n){V(this,e),this._firestore=t,this._delegate=n}return z(e,[{key:"query",get:function(){return new pT(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new hT(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new vT(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new hT(n._firestore,r))}))}},{key:"isEqual",value:function(e){return vI(this._delegate,e._delegate)}}]),e}(),yT=function(e){H(n,e);var t=Q(n);function n(e,r){var i;return V(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return z(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new uT(this.firestore,e):null}},{key:"doc",value:function(e){try{return new uT(this.firestore,void 0===e?mE(this._delegate):mE(this._delegate,e))}catch(t){throw cT(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=sE(e.firestore,xE),r=mE(e),i=RI(e.converter,t);return WI(n,[zE(BE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,$y.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new uT(t.firestore,e)}))}},{key:"isEqual",value:function(e){return yE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(sT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(pT);function gT(e){return sE(e,dE)}var wT=function(){function e(){V(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=$(AE,n)}return z(e,[{key:"isEqual",value:function(e){return(e=en(e))instanceof AE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Tv.keyField().canonicalString())}}]),e}(),bT=function(){function e(t){V(this,e),this._delegate=t}return z(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new WE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new qE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=QI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=$I.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new YE("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),kT={Firestore:rT,GeoPoint:RE,Timestamp:xv,Blob:eT,Transaction:aT,WriteBatch:oT,DocumentReference:uT,DocumentSnapshot:dT,Query:pT,QueryDocumentSnapshot:hT,QuerySnapshot:mT,CollectionReference:yT,FieldPath:wT,FieldValue:bT,setLogLevel:function(e){!function(e){Xp.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new tn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},kT)))}(e,(function(e,t){return new rT(e,t,new nT)})),e.registerVersion("@firebase/firestore-compat","0.1.25")}(Tr);Tr.initializeApp({apiKey:"AIzaSyDTZL8aPL7OemIKs_774v2mSEF56RSxPrg",authDomain:"giftlist-8cac5.firebaseapp.com",projectId:"giftlist-8cac5",storageBucket:"giftlist-8cac5.appspot.com",messagingSenderId:"845798622571",appId:"1:845798622571:web:bd62b5c9d5069e2496f82e"});var xT=Tr.firestore(),_T=new Tr.auth.GoogleAuthProvider,ST=function(e){return{type:ft,payload:e}},ET=function(){return{type:dt}},IT=n(1830),TT=n.n(IT),CT=function(e,t){return function(n){n({type:ht}),Tr.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;n(NT(t.uid,t.displayName,t.email))})).catch((function(e){n(ST(e.code))})).finally((function(){n({type:pt})}))}},NT=function(e,t,n){return{type:ct,payload:{uid:e,displayName:t,email:n}}},OT=function(){return{type:lt}},AT=function(){var e=D(O().mark((function e(t){var n,r,i,a,o,s;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(t,"/favorites/lists"),e.next=3,xT.collection(n).get();case 3:r=e.sent,i=[],a=Tt(r.docs);try{for(a.s();!(o=a.n()).done;)s=o.value,i.push(vn({id:s.id},s.data()))}catch(u){a.e(u)}finally{a.f()}return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),DT=function(){var e=D(O().mark((function e(t){var n,r,i,a,o,s;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(t,"/giftLists/lists"),e.next=3,xT.collection(n).get();case 3:r=e.sent,i=[],a=Tt(r.docs),e.prev=6,s=O().mark((function e(){var t,r,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.value,e.next=3,xT.collection("".concat(n,"/").concat(t.id,"/gifts")).get();case 3:r=e.sent,a=[],r.forEach((function(e){a.push(vn({id:e.id},e.data()))})),i.push(vn(vn({id:t.id},t.data()),{},{gifts:[].concat(a)}));case 7:case"end":return e.stop()}}),e)})),a.s();case 9:if((o=a.n()).done){e.next=13;break}return e.delegateYield(s(),"t0",11);case 11:e.next=9;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(6),a.e(e.t1);case 18:return e.prev=18,a.f(),e.finish(18);case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,null,[[6,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),PT=function(){var e=D(O().mark((function e(t,n){var r,i,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(n,"/giftLists/lists/").concat(t),e.next=3,xT.doc(r).get();case 3:return i=e.sent,e.next=6,xT.collection("".concat(r,"/gifts")).get();case 6:return a=e.sent,o=[],a.forEach((function(e){o.push(vn({id:e.id},e.data()))})),e.abrupt("return",vn(vn({id:i.id},i.data()),{},{gifts:[].concat(o)}));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),RT=function(e,t){return{type:_t,payload:vn({id:e},t)}},LT=function(e){return{type:xt,payload:e}},MT=function(e){return function(){var t=D(O().mark((function t(n,r){var i,a,o;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=r().auth.uid,a=r().giftLists.active,delete(o=vn({},e)).id,a.gifts.forEach((function(t){void 0===e.gifts.find((function(e){return e.id===t.id}))&&xT.collection("".concat(i,"/giftLists/lists/").concat(e.id,"/gifts")).doc(t.id).delete()})),e.gifts.forEach(function(){var t=D(O().mark((function t(n){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!n.id){t.next=5;break}xT.collection("".concat(i,"/giftLists/lists/").concat(e.id,"/gifts")).doc(n.id).set(n),t.next=8;break;case 5:return t.next=7,xT.doc("".concat(i,"/giftLists/lists/").concat(e.id)).collection("gifts").add(n);case 7:t.sent;case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),TT().fire("Error",t.t0.message,"error");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()),delete o.gifts,xT.doc("".concat(i,"/giftLists/lists/").concat(e.id)).update(o).then(D(O().mark((function t(){var r,a;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xT.collection("".concat(i,"/giftLists/lists/").concat(e.id,"/gifts")).get();case 2:r=t.sent,a=[],r.forEach((function(e){a.push(vn({id:e.id},e.data()))})),n(jT(e.id,e)),n(RT(e.id,vn(vn({},e),{},{gifts:a}))),TT().fire("Lista de regalos guardada","","success");case 8:case"end":return t.stop()}}),t)})))).catch((function(e){TT().fire("Error",e.message,"error")}));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},jT=function(e,t){return{type:kt,payload:{id:e,giftList:t}}},FT=function(e){return{type:bt,payload:{id:e}}},UT=function(e){return{type:St,payload:e}};function VT(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function BT(e,t){if(null==e)return{};var n,r,i=VT(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var zT=n(1694),qT=n.n(zT),HT=n(2007),WT=n.n(HT),GT=n(184),KT=["as","className","type","tooltip"],YT={type:WT().string,tooltip:WT().bool,as:WT().elementType},QT=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,s=e.tooltip,u=void 0!==s&&s,c=BT(e,KT);return(0,GT.jsx)(r,vn(vn({},c),{},{ref:t,className:qT()(i,"".concat(o,"-").concat(u?"tooltip":"feedback"))}))}));QT.displayName="Feedback",QT.propTypes=YT;var $T=QT,XT=t.createContext({}),JT=["xxl","xl","lg","md","sm","xs"],ZT=t.createContext({prefixes:{},breakpoints:JT,minBreakpoint:"xs"});ZT.Consumer,ZT.Provider;function eC(e,n){var r=(0,t.useContext)(ZT).prefixes;return e||r[n]||n}function tC(){return"rtl"===(0,t.useContext)(ZT).dir}var nC=["id","bsPrefix","className","type","isValid","isInvalid","as"],rC=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,o=e.type,s=void 0===o?"checkbox":o,u=e.isValid,c=void 0!==u&&u,l=e.isInvalid,f=void 0!==l&&l,d=e.as,h=void 0===d?"input":d,p=BT(e,nC),v=(0,t.useContext)(XT).controlId;return i=eC(i,"form-check-input"),(0,GT.jsx)(h,vn(vn({},p),{},{ref:n,type:s,id:r||v,className:qT()(a,i,c&&"is-valid",f&&"is-invalid")}))}));rC.displayName="FormCheckInput";var iC=rC,aC=["bsPrefix","className","htmlFor"],oC=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,o=BT(e,aC),s=(0,t.useContext)(XT).controlId;return r=eC(r,"form-check-label"),(0,GT.jsx)("label",vn(vn({},o),{},{ref:n,htmlFor:a||s,className:qT()(i,r)}))}));oC.displayName="FormCheckLabel";var sC=oC;var uC=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],cC=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,s=void 0!==o&&o,u=e.reverse,c=void 0!==u&&u,l=e.disabled,f=void 0!==l&&l,d=e.isValid,h=void 0!==d&&d,p=e.isInvalid,v=void 0!==p&&p,m=e.feedbackTooltip,y=void 0!==m&&m,g=e.feedback,w=e.feedbackType,b=e.className,k=e.style,x=e.title,_=void 0===x?"":x,S=e.type,E=void 0===S?"checkbox":S,I=e.label,T=e.children,C=e.as,N=void 0===C?"input":C,O=BT(e,uC);i=eC(i,"form-check"),a=eC(a,"form-switch");var A=(0,t.useContext)(XT).controlId,D=(0,t.useMemo)((function(){return{controlId:r||A}}),[A,r]),P=!T&&null!=I&&!1!==I||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(T,sC),R=(0,GT.jsx)(iC,vn(vn({},O),{},{type:"switch"===E?"checkbox":E,ref:n,isValid:h,isInvalid:v,disabled:f,as:N}));return(0,GT.jsx)(XT.Provider,{value:D,children:(0,GT.jsx)("div",{style:k,className:qT()(b,P&&i,s&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===E&&a),children:T||(0,GT.jsxs)(GT.Fragment,{children:[R,P&&(0,GT.jsx)(sC,{title:_,children:I}),g&&(0,GT.jsx)($T,{type:w,tooltip:y,children:g})]})})})}));cC.displayName="FormCheck";var lC=Object.assign(cC,{Input:iC,Label:sC}),fC=n(2391),dC=n.n(fC),hC=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],pC=t.forwardRef((function(e,n){var r,i,a=e.bsPrefix,o=e.type,s=e.size,u=e.htmlSize,c=e.id,l=e.className,f=e.isValid,d=void 0!==f&&f,h=e.isInvalid,p=void 0!==h&&h,v=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,w=BT(e,hC),b=(0,t.useContext)(XT).controlId;(a=eC(a,"form-control"),v)?r=It({},"".concat(a,"-plaintext"),!0):(It(i={},a,!0),It(i,"".concat(a,"-").concat(s),s),r=i);return(0,GT.jsx)(g,vn(vn({},w),{},{type:o,size:u,ref:n,readOnly:m,id:c||b,className:qT()(l,r,d&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));pC.displayName="FormControl";var vC=Object.assign(pC,{Feedback:$T}),mC=/-(.)/g;var yC=["className","bsPrefix","as"],gC=function(e){return e[0].toUpperCase()+(t=e,t.replace(mC,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function wC(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?gC(e):r,a=n.Component,o=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,s=void 0===o?a||"div":o,u=BT(t,yC),c=eC(i,e);return(0,GT.jsx)(s,vn({ref:n,className:qT()(r,c)},u))}));return s.defaultProps=o,s.displayName=i,s}var bC=wC("form-floating"),kC=["controlId","as"],xC=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,o=BT(e,kC),s=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,GT.jsx)(XT.Provider,{value:s,children:(0,GT.jsx)(a,vn(vn({},o),{},{ref:n}))})}));xC.displayName="FormGroup";var _C=xC,SC=["as","bsPrefix","className"],EC=["className"];function IC(e){var n=e.as,r=e.bsPrefix,i=e.className,a=BT(e,SC);r=eC(r,"col");var o=(0,t.useContext)(ZT).breakpoints,s=(0,t.useContext)(ZT).minBreakpoint,u=[],c=[];return o.forEach((function(e){var t,n,i,o=a[e];delete a[e],"object"===typeof o&&null!=o?(t=o.span,n=o.offset,i=o.order):t=o;var l=e!==s?"-".concat(e):"";t&&u.push(!0===t?"".concat(r).concat(l):"".concat(r).concat(l,"-").concat(t)),null!=i&&c.push("order".concat(l,"-").concat(i)),null!=n&&c.push("offset".concat(l,"-").concat(n))})),[vn(vn({},a),{},{className:qT().apply(void 0,[i].concat(u,c))}),{as:n,bsPrefix:r,spans:u}]}var TC=t.forwardRef((function(e,t){var n=j(IC(e),2),r=n[0],i=r.className,a=BT(r,EC),o=n[1],s=o.as,u=void 0===s?"div":s,c=o.bsPrefix,l=o.spans;return(0,GT.jsx)(u,vn(vn({},a),{},{ref:t,className:qT()(i,!l.length&&c)}))}));TC.displayName="Col";var CC=TC,NC=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],OC=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,o=e.column,s=e.visuallyHidden,u=e.className,c=e.htmlFor,l=BT(e,NC),f=(0,t.useContext)(XT).controlId;a=eC(a,"form-label");var d="col-form-label";"string"===typeof o&&(d="".concat(d," ").concat(d,"-").concat(o));var h=qT()(u,a,s&&"visually-hidden",o&&d);return c=c||f,o?(0,GT.jsx)(CC,vn({ref:n,as:"label",className:h,htmlFor:c},l)):(0,GT.jsx)(i,vn({ref:n,className:h,htmlFor:c},l))}));OC.displayName="FormLabel",OC.defaultProps={column:!1,visuallyHidden:!1};var AC=OC,DC=["bsPrefix","className","id"],PC=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,o=BT(e,DC),s=(0,t.useContext)(XT).controlId;return r=eC(r,"form-range"),(0,GT.jsx)("input",vn(vn({},o),{},{type:"range",ref:n,className:qT()(i,r),id:a||s}))}));PC.displayName="FormRange";var RC=PC,LC=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],MC=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,s=e.isValid,u=void 0!==s&&s,c=e.isInvalid,l=void 0!==c&&c,f=e.id,d=BT(e,LC),h=(0,t.useContext)(XT).controlId;return r=eC(r,"form-select"),(0,GT.jsx)("select",vn(vn({},d),{},{size:a,ref:n,className:qT()(o,r,i&&"".concat(r,"-").concat(i),u&&"is-valid",l&&"is-invalid"),id:f||h}))}));MC.displayName="FormSelect";var jC=MC,FC=["bsPrefix","className","as","muted"],UC=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,s=BT(e,FC);return n=eC(n,"form-text"),(0,GT.jsx)(a,vn(vn({},s),{},{ref:t,className:qT()(r,n,o&&"text-muted")}))}));UC.displayName="FormText";var VC=UC,BC=t.forwardRef((function(e,t){return(0,GT.jsx)(lC,vn(vn({},e),{},{ref:t,type:"switch"}))}));BC.displayName="Switch";var zC=Object.assign(BC,{Input:lC.Input,Label:lC.Label}),qC=["bsPrefix","className","children","controlId","label"],HC=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,s=BT(e,qC);return n=eC(n,"form-floating"),(0,GT.jsxs)(_C,vn(vn({ref:t,className:qT()(r,n),controlId:a},s),{},{children:[i,(0,GT.jsx)("label",{htmlFor:a,children:o})]}))}));HC.displayName="FloatingLabel";var WC=HC,GC=["className","validated","as"],KC={_ref:WT().any,validated:WT().bool,as:WT().elementType},YC=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=BT(e,GC);return(0,GT.jsx)(a,vn(vn({},o),{},{ref:t,className:qT()(n,r&&"was-validated")}))}));YC.displayName="Form",YC.propTypes=KC;var QC=Object.assign(YC,{Group:_C,Control:vC,Floating:bC,Check:lC,Switch:zC,Label:AC,Text:VC,Range:RC,Select:jC,FloatingLabel:WC}),$C=["as","disabled"];function XC(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var d=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:d,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),d(e))}},f]}var JC=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,$C),a=j(XC(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,GT.jsx)(s,Object.assign({},i,o,{ref:t}))}));JC.displayName="Button";var ZC=JC,eN=["as","bsPrefix","variant","size","active","className"],tN=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,s=e.className,u=BT(e,eN),c=eC(r,"btn"),l=j(XC(vn({tagName:n},u)),2),f=l[0],d=l[1].tagName;return(0,GT.jsx)(d,vn(vn(vn({},f),u),{},{ref:t,className:qT()(s,c,o&&"active",i&&"".concat(c,"-").concat(i),a&&"".concat(c,"-").concat(a),u.href&&u.disabled&&"disabled")}))}));tN.displayName="Button",tN.defaultProps={variant:"primary",active:!1,disabled:!1};var nN=tN,rN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,t.useState)(e),r=j(n,2),i=r[0],a=r[1],o=function(e){var t=e.target;a(vn(vn({},i),{},It({},t.name,t.value)))},s=function(e){a(vn(vn({},i),e))},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;a(t)};return[i,o,u,s]},iN=function(){var e=C(),n=m((function(e){return e.ui})),r=n.isLoading,i=n.error,a=j(rN({email:"brahian97@outlook.com",password:"wasd2020"}),2),o=a[0],s=o.email,u=o.password,c=a[1];return(0,t.useEffect)((function(){e(ET())}),[e]),(0,GT.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,GT.jsxs)("div",{className:"mw-75 p-5 border",style:{minWidth:"50vw"},children:[(0,GT.jsx)("h2",{className:"text-center",children:"Iniciar sesi\xf3n"}),(0,GT.jsxs)(QC,{onSubmit:function(t){t.preventDefault(),e(CT(s,u))},children:[i&&(0,GT.jsx)("div",{className:"auth__alert-error",children:i}),(0,GT.jsxs)(QC.Group,{className:"mb-3",controlId:"formEmail",children:[(0,GT.jsx)(QC.Label,{children:"Correo"}),(0,GT.jsx)(QC.Control,{name:"email",type:"email",placeholder:"Ingresa tu correo",value:s,onChange:c})]}),(0,GT.jsxs)(QC.Group,{className:"mb-3",controlId:"formPassword",children:[(0,GT.jsx)(QC.Label,{children:"Contrase\xf1a"}),(0,GT.jsx)(QC.Control,{name:"password",type:"password",placeholder:"Ingresa tu contrase\xf1a",value:u,onChange:c})]}),(0,GT.jsx)("div",{className:"d-flex justify-content-center",children:(0,GT.jsx)(nN,{variant:"primary",type:"submit",style:{color:"white"},disabled:r,className:"btn btn-primary btn-block mt-1",children:"Iniciar sesi\xf3n"})}),(0,GT.jsx)("div",{className:"auth__no-account mt-4 mb-3",children:(0,GT.jsxs)("p",{children:["\xbfOlvidaste tu contrase\xf1a? ",(0,GT.jsx)(ut,{to:"/resetPassword",className:"link",children:"Resetear contrase\xf1a"})," "]})}),(0,GT.jsx)("hr",{}),(0,GT.jsxs)("div",{className:"auth__social-networks",children:[(0,GT.jsx)("p",{style:{fontWeight:"700"},children:"Iniciar sesi\xf3n de otras formas"}),(0,GT.jsxs)("div",{className:"google-btn",onClick:function(){e((function(e){Tr.auth().signInWithPopup(_T).then((function(t){var n=t.user;e(NT(n.uid,n.displayName,n.email))}))}))},children:[(0,GT.jsx)("div",{className:"google-icon-wrapper",children:(0,GT.jsx)("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google button"})}),(0,GT.jsx)("p",{className:"btn-text",children:(0,GT.jsx)("b",{children:"Iniciar con google"})})]})]}),(0,GT.jsx)("div",{className:"auth__no-account",children:(0,GT.jsxs)("p",{children:["\xbfNo tienes cuenta? ",(0,GT.jsx)(ut,{to:"/register",className:"link",children:"Registrarse"})," "]})})]})]})})},aN=function(){var e=$e();return(0,GT.jsx)("div",{children:e.message})},oN=function(){return(0,GT.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column vh-100",children:[(0,GT.jsx)("h1",{className:"",children:"404"}),(0,GT.jsx)("h4",{children:"P\xe1gina no encontrada"}),(0,GT.jsx)("p",{children:"No se encontr\xf3 lo que buscabas"}),(0,GT.jsx)(ut,{to:"/",className:"btn btn-primary",children:"Ir al inicio"})]})},sN=n(6046),uN=n.n(sN),cN=function(){var e=C(),n=m((function(e){return e.ui})),r=n.isLoading,i=n.error,a=j(rN({name:"brahian",email:"brahian97@outlook.com",password:"wasd2020",password2:"wasd2020"}),2),o=a[0],s=o.name,u=o.email,c=o.password,l=o.password2,f=a[1],d=function(){return 0===s.trim().lenght?(e(ST("register/name-empty")),!1):uN()(u)?c!==l?(e(ST("register/password-wrong")),!1):c.length<5?(e(ST("register/password-short")),!1):(e(ET()),!0):(e(ST("register/email-invalid")),!1)};return(0,t.useEffect)((function(){e(ET())}),[e]),(0,GT.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:(0,GT.jsxs)("div",{className:"mw-75 p-5 border",style:{minWidth:"50vw"},children:[(0,GT.jsx)("h2",{className:"text-center",children:"Registrarse"}),(0,GT.jsxs)(QC,{onSubmit:function(t){t.preventDefault(),d()&&e(function(e,t,n){return function(r){Tr.auth().createUserWithEmailAndPassword(e,t).then(function(){var t=D(O().mark((function t(i){var a;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.user,t.next=3,a.updateProfile({displayName:n});case 3:return TT().fire({title:"Registro exitoso",text:"Bienvenido a Gift List App",icon:"success",showCancelButton:!1,showConfirmButton:!1}),t.next=6,xT.doc("".concat(a.uid,"/profile/")).update({name:n,email:e});case 6:r(NT(a.uid,a.displayName,a.email));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.error(e.code),r(ST(e.code))}))}}(u,c,s))},children:[i&&(0,GT.jsx)("div",{className:"auth__alert-error",children:i}),(0,GT.jsxs)(QC.Group,{className:"mb-3",controlId:"formEmail",children:[(0,GT.jsx)(QC.Label,{children:"Nombre"}),(0,GT.jsx)(QC.Control,{name:"name",type:"text",placeholder:"Ingresa tu nombre",value:s,onChange:f})]}),(0,GT.jsxs)(QC.Group,{className:"mb-3",controlId:"formEmail",children:[(0,GT.jsx)(QC.Label,{children:"Correo"}),(0,GT.jsx)(QC.Control,{name:"email",type:"email",placeholder:"Ingresa tu correo",value:u,onChange:f})]}),(0,GT.jsxs)(QC.Group,{className:"mb-3",controlId:"formPassword",children:[(0,GT.jsx)(QC.Label,{children:"Contrase\xf1a"}),(0,GT.jsx)(QC.Control,{name:"password",type:"password",placeholder:"Ingresa tu contrase\xf1a",value:c,onChange:f})]}),(0,GT.jsxs)(QC.Group,{className:"mb-3",controlId:"formPassword2",children:[(0,GT.jsx)(QC.Label,{children:"Repetir contrase\xf1a"}),(0,GT.jsx)(QC.Control,{name:"password2",type:"password",placeholder:"Repite tu contrase\xf1a",value:l,onChange:f})]}),(0,GT.jsx)("div",{className:"d-flex justify-content-center",children:(0,GT.jsx)(nN,{variant:"primary",type:"submit",style:{color:"white"},disabled:r,className:"btn btn-primary btn-block mt-1",children:"Registrarse"})}),(0,GT.jsx)("div",{className:"auth__no-account pt-2",children:(0,GT.jsxs)("p",{children:["\xbfYa tienes cuenta? ",(0,GT.jsx)(ut,{to:"/login",className:"link",children:"Iniciar sesi\xf3n"})," "]})})]})]})})},lN=function(){return(0,GT.jsx)("div",{})},fN=function(e){var t=e.message,n=void 0===t?"Cargando":t;return(0,GT.jsxs)("div",{className:"loading__content my-5",children:[(0,GT.jsx)("div",{className:"loading__spineer"}),(0,GT.jsx)("p",{children:n})]})};function dN(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function hN(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}function pN(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}var vN=Math.pow(2,31)-1;function mN(e,t,n){var r=n-Date.now();e.current=r<=vN?setTimeout(t,r):setTimeout((function(){return mN(e,t,n)}),vN)}function yN(){var e=hN(),n=(0,t.useRef)();return pN((function(){return clearTimeout(n.current)})),(0,t.useMemo)((function(){var t=function(){return clearTimeout(n.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(t(),i<=vN?n.current=setTimeout(r,i):mN(n,r,Date.now()+i))},clear:t}}),[])}function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gN.apply(this,arguments)}n(2176);function wN(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function bN(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function kN(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}function xN(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,o=a[wN(r)],s=a[r],u=VT(a,[wN(r),r].map(bN)),c=t[r],l=kN(s,o,e[c]),f=l[0],d=l[1];return gN({},u,((i={})[r]=f,i[c]=d,i))}),e)}function _N(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function SN(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function EN(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}_N.__suppressDeprecationWarning=!0,SN.__suppressDeprecationWarning=!0,EN.__suppressDeprecationWarning=!0;var IN=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var TN=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=IN(e),r=IN(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};function CN(){return(0,t.useState)(null)}var NN=Object.prototype.hasOwnProperty;function ON(e,t,n){var r,i=Tt(e.keys());try{for(i.s();!(r=i.n()).done;)if(AN(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function AN(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&AN(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=Tt(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=ON(t,i)))return!1;if(!t.has(i))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var s,u=Tt(e);try{for(u.s();!(s=u.n()).done;){if((i=(r=s.value)[0])&&"object"===typeof i&&!(i=ON(t,i)))return!1;if(!AN(r[1],t.get(i)))return!1}}catch(c){u.e(c)}finally{u.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(NN.call(e,n)&&++r&&!NN.call(t,n))return!1;if(!(n in t)||!AN(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var DN=function(e){var n=hN();return[e[0],(0,t.useCallback)((function(t){if(n())return e[1](t)}),[n,e[1]])]};function PN(e){return e.split("-")[0]}function RN(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function LN(e){return e instanceof RN(e).Element||e instanceof Element}function MN(e){return e instanceof RN(e).HTMLElement||e instanceof HTMLElement}function jN(e){return"undefined"!==typeof ShadowRoot&&(e instanceof RN(e).ShadowRoot||e instanceof ShadowRoot)}var FN=Math.max,UN=Math.min,VN=Math.round;function BN(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function zN(){return!/^((?!chrome|android).)*safari/i.test(BN())}function qN(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&MN(e)&&(i=e.offsetWidth>0&&VN(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&VN(r.height)/e.offsetHeight||1);var o=(LN(e)?RN(e):window).visualViewport,s=!zN()&&n,u=(r.left+(s&&o?o.offsetLeft:0))/i,c=(r.top+(s&&o?o.offsetTop:0))/a,l=r.width/i,f=r.height/a;return{width:l,height:f,top:c,right:u+l,bottom:c+f,left:u,x:u,y:c}}function HN(e){var t=qN(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function WN(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&jN(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function GN(e){return e?(e.nodeName||"").toLowerCase():null}function KN(e){return RN(e).getComputedStyle(e)}function YN(e){return["table","td","th"].indexOf(GN(e))>=0}function QN(e){return((LN(e)?e.ownerDocument:e.document)||window.document).documentElement}function $N(e){return"html"===GN(e)?e:e.assignedSlot||e.parentNode||(jN(e)?e.host:null)||QN(e)}function XN(e){return MN(e)&&"fixed"!==KN(e).position?e.offsetParent:null}function JN(e){for(var t=RN(e),n=XN(e);n&&YN(n)&&"static"===KN(n).position;)n=XN(n);return n&&("html"===GN(n)||"body"===GN(n)&&"static"===KN(n).position)?t:n||function(e){var t=/firefox/i.test(BN());if(/Trident/i.test(BN())&&MN(e)&&"fixed"===KN(e).position)return null;var n=$N(e);for(jN(n)&&(n=n.host);MN(n)&&["html","body"].indexOf(GN(n))<0;){var r=KN(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function ZN(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function eO(e,t,n){return FN(e,UN(t,n))}function tO(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function nO(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var rO="top",iO="bottom",aO="right",oO="left",sO="auto",uO=[rO,iO,aO,oO],cO="start",lO="end",fO="viewport",dO="popper",hO=uO.reduce((function(e,t){return e.concat([t+"-"+cO,t+"-"+lO])}),[]),pO=[].concat(uO,[sO]).reduce((function(e,t){return e.concat([t,t+"-"+cO,t+"-"+lO])}),[]),vO=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var mO={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=PN(n.placement),u=ZN(s),c=[oO,aO].indexOf(s)>=0?"height":"width";if(a&&o){var l=function(e,t){return tO("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:nO(e,uO))}(i.padding,n),f=HN(a),d="y"===u?rO:oO,h="y"===u?iO:aO,p=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],v=o[u]-n.rects.reference[u],m=JN(a),y=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,w=l[d],b=y-f[c]-l[h],k=y/2-f[c]/2+g,x=eO(w,k,b),_=u;n.modifiersData[r]=((t={})[_]=x,t.centerOffset=x-k,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&WN(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yO(e){return e.split("-")[1]}var gO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wO(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,d=o.x,h=void 0===d?0:d,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:h,y:v}):{x:h,y:v};h=m.x,v=m.y;var y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),w=oO,b=rO,k=window;if(c){var x=JN(n),_="clientHeight",S="clientWidth";if(x===RN(n)&&"static"!==KN(x=QN(n)).position&&"absolute"===s&&(_="scrollHeight",S="scrollWidth"),i===rO||(i===oO||i===aO)&&a===lO)b=iO,v-=(f&&x===k&&k.visualViewport?k.visualViewport.height:x[_])-r.height,v*=u?1:-1;if(i===oO||(i===rO||i===iO)&&a===lO)w=aO,h-=(f&&x===k&&k.visualViewport?k.visualViewport.width:x[S])-r.width,h*=u?1:-1}var E,I=Object.assign({position:s},c&&gO),T=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:VN(t*r)/r||0,y:VN(n*r)/r||0}}({x:h,y:v}):{x:h,y:v};return h=T.x,v=T.y,u?Object.assign({},I,((E={})[b]=g?"0":"",E[w]=y?"0":"",E.transform=(k.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",E)):Object.assign({},I,((t={})[b]=g?v+"px":"",t[w]=y?h+"px":"",t.transform="",t))}var bO={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,c={placement:PN(t.placement),variation:yO(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,wO(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,wO(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},kO={passive:!0};var xO={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=RN(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,kO)})),s&&u.addEventListener("resize",n.update,kO),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,kO)})),s&&u.removeEventListener("resize",n.update,kO)}},data:{}},_O={left:"right",right:"left",bottom:"top",top:"bottom"};function SO(e){return e.replace(/left|right|bottom|top/g,(function(e){return _O[e]}))}var EO={start:"end",end:"start"};function IO(e){return e.replace(/start|end/g,(function(e){return EO[e]}))}function TO(e){var t=RN(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function CO(e){return qN(QN(e)).left+TO(e).scrollLeft}function NO(e){var t=KN(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function OO(e){return["html","body","#document"].indexOf(GN(e))>=0?e.ownerDocument.body:MN(e)&&NO(e)?e:OO($N(e))}function AO(e,t){var n;void 0===t&&(t=[]);var r=OO(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=RN(r),o=i?[a].concat(a.visualViewport||[],NO(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(AO($N(o)))}function DO(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function PO(e,t,n){return t===fO?DO(function(e,t){var n=RN(e),r=QN(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,u=0;if(i){a=i.width,o=i.height;var c=zN();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:s+CO(e),y:u}}(e,n)):LN(t)?function(e,t){var n=qN(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):DO(function(e){var t,n=QN(e),r=TO(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=FN(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=FN(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+CO(e),u=-r.scrollTop;return"rtl"===KN(i||n).direction&&(s+=FN(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(QN(e)))}function RO(e,t,n,r){var i="clippingParents"===t?function(e){var t=AO($N(e)),n=["absolute","fixed"].indexOf(KN(e).position)>=0&&MN(e)?JN(e):e;return LN(n)?t.filter((function(e){return LN(e)&&WN(e,n)&&"body"!==GN(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(t,n){var i=PO(e,n,r);return t.top=FN(i.top,t.top),t.right=UN(i.right,t.right),t.bottom=UN(i.bottom,t.bottom),t.left=FN(i.left,t.left),t}),PO(e,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function LO(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?PN(i):null,o=i?yO(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case rO:t={x:s,y:n.y-r.height};break;case iO:t={x:s,y:n.y+n.height};break;case aO:t={x:n.x+n.width,y:u};break;case oO:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=a?ZN(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case cO:t[c]=t[c]-(n[l]/2-r[l]/2);break;case lO:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function MO(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,s=n.boundary,u=void 0===s?"clippingParents":s,c=n.rootBoundary,l=void 0===c?fO:c,f=n.elementContext,d=void 0===f?dO:f,h=n.altBoundary,p=void 0!==h&&h,v=n.padding,m=void 0===v?0:v,y=tO("number"!==typeof m?m:nO(m,uO)),g=d===dO?"reference":dO,w=e.rects.popper,b=e.elements[p?g:d],k=RO(LN(b)?b:b.contextElement||QN(e.elements.popper),u,l,o),x=qN(e.elements.reference),_=LO({reference:x,element:w,strategy:"absolute",placement:i}),S=DO(Object.assign({},w,_)),E=d===dO?S:x,I={top:k.top-E.top+y.top,bottom:E.bottom-k.bottom+y.bottom,left:k.left-E.left+y.left,right:E.right-k.right+y.right},T=e.modifiersData.offset;if(d===dO&&T){var C=T[i];Object.keys(I).forEach((function(e){var t=[aO,iO].indexOf(e)>=0?1:-1,n=[rO,iO].indexOf(e)>=0?"y":"x";I[e]+=C[n]*t}))}return I}var jO={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,m=t.options.placement,y=PN(m),g=u||(y===m||!p?[SO(m)]:function(e){if(PN(e)===sO)return[];var t=SO(e);return[IO(e),t,IO(t)]}(m)),w=[m].concat(g).reduce((function(e,n){return e.concat(PN(n)===sO?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?pO:u,l=yO(r),f=l?s?hO:hO.filter((function(e){return yO(e)===l})):uO,d=f.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=f);var h=d.reduce((function(t,n){return t[n]=MO(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[PN(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,k=t.rects.popper,x=new Map,_=!0,S=w[0],E=0;E<w.length;E++){var I=w[E],T=PN(I),C=yO(I)===cO,N=[rO,iO].indexOf(T)>=0,O=N?"width":"height",A=MO(t,{placement:I,boundary:l,rootBoundary:f,altBoundary:d,padding:c}),D=N?C?aO:oO:C?iO:rO;b[O]>k[O]&&(D=SO(D));var P=SO(D),R=[];if(a&&R.push(A[T]<=0),s&&R.push(A[D]<=0,A[P]<=0),R.every((function(e){return e}))){S=I,_=!1;break}x.set(I,R)}if(_)for(var L=function(e){var t=w.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function FO(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function UO(e){return[rO,aO,iO,oO].some((function(t){return e[t]>=0}))}var VO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=pO.reduce((function(e,n){return e[n]=function(e,t,n){var r=PN(e),i=[oO,rO].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[oO,aO].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var BO={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,h=void 0===d||d,p=n.tetherOffset,v=void 0===p?0:p,m=MO(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),y=PN(t.placement),g=yO(t.placement),w=!g,b=ZN(y),k="x"===b?"y":"x",x=t.modifiersData.popperOffsets,_=t.rects.reference,S=t.rects.popper,E="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,I="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(x){if(a){var N,O="y"===b?rO:oO,A="y"===b?iO:aO,D="y"===b?"height":"width",P=x[b],R=P+m[O],L=P-m[A],M=h?-S[D]/2:0,j=g===cO?_[D]:S[D],F=g===cO?-S[D]:-_[D],U=t.elements.arrow,V=h&&U?HN(U):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=B[O],q=B[A],H=eO(0,_[D],V[D]),W=w?_[D]/2-M-H-z-I.mainAxis:j-H-z-I.mainAxis,G=w?-_[D]/2+M+H+q+I.mainAxis:F+H+q+I.mainAxis,K=t.elements.arrow&&JN(t.elements.arrow),Y=K?"y"===b?K.clientTop||0:K.clientLeft||0:0,Q=null!=(N=null==T?void 0:T[b])?N:0,$=P+G-Q,X=eO(h?UN(R,P+W-Q-Y):R,P,h?FN(L,$):L);x[b]=X,C[b]=X-P}if(s){var J,Z="x"===b?rO:oO,ee="x"===b?iO:aO,te=x[k],ne="y"===k?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[rO,oO].indexOf(y),oe=null!=(J=null==T?void 0:T[k])?J:0,se=ae?re:te-_[ne]-S[ne]-oe+I.altAxis,ue=ae?te+_[ne]+S[ne]-oe-I.altAxis:ie,ce=h&&ae?function(e,t,n){var r=eO(e,t,n);return r>n?n:r}(se,te,ue):eO(h?se:re,te,h?ue:ie);x[k]=ce,C[k]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function zO(e,t,n){void 0===n&&(n=!1);var r=MN(t),i=MN(t)&&function(e){var t=e.getBoundingClientRect(),n=VN(t.width)/e.offsetWidth||1,r=VN(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=QN(t),o=qN(e,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==GN(t)||NO(a))&&(s=function(e){return e!==RN(e)&&MN(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:TO(e);var t}(t)),MN(t)?((u=qN(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=CO(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function qO(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function HO(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var WO={placement:"bottom",modifiers:[],strategy:"absolute"};function GO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function KO(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?WO:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},WO,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:LN(e)?AO(e):e.contextElement?AO(e.contextElement):[],popper:AO(t)};var l=function(e){var t=qO(e);return vO.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:u,options:r}),c=function(){};o.push(s||c)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(GO(t,n)){i.rects={reference:zO(t,JN(n),"fixed"===i.options.strategy),popper:HN(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:HO((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!GO(e,t))return u;function c(){o.forEach((function(e){return e()})),o=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var YO=KO({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=MO(t,{elementContext:"reference"}),s=MO(t,{altBoundary:!0}),u=FO(o,r),c=FO(s,i,a),l=UO(u),f=UO(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=LO({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},bO,xO,VO,jO,BO,mO]}),QO=["enabled","placement","strategy","modifiers"];function $O(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var XO={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},JO={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},ZO=[];var eA=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.enabled,a=void 0===i||i,o=r.placement,s=void 0===o?"bottom":o,u=r.strategy,c=void 0===u?"absolute":u,l=r.modifiers,f=void 0===l?ZO:l,d=$O(r,QO),h=(0,t.useRef)(f),p=(0,t.useRef)(),v=(0,t.useCallback)((function(){var e;null==(e=p.current)||e.update()}),[]),m=(0,t.useCallback)((function(){var e;null==(e=p.current)||e.forceUpdate()}),[]),y=DN((0,t.useState)({placement:s,update:v,forceUpdate:m,attributes:{},styles:{popper:{},arrow:{}}})),g=j(y,2),w=g[0],b=g[1],k=(0,t.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),b({state:t,styles:n,attributes:r,update:v,forceUpdate:m,placement:t.placement})}}}),[v,m,b]),x=(0,t.useMemo)((function(){return AN(h.current,f)||(h.current=f),h.current}),[f]);return(0,t.useEffect)((function(){p.current&&a&&p.current.setOptions({placement:s,strategy:c,modifiers:[].concat(U(x),[k,XO])})}),[c,s,k,a,x]),(0,t.useEffect)((function(){if(a&&null!=e&&null!=n)return p.current=YO(e,n,Object.assign({},d,{placement:s,strategy:c,modifiers:[].concat(U(x),[JO,k])})),function(){null!=p.current&&(p.current.destroy(),p.current=void 0,b((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,e,n]),w},tA=!("undefined"===typeof window||!window.document||!window.document.createElement),nA=!1,rA=!1;try{var iA={get passive(){return nA=!0},get once(){return rA=nA=!0}};tA&&(window.addEventListener("test",iA,iA),window.removeEventListener("test",iA,!0))}catch(MV){}var aA=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!rA){var i=r.once,a=r.capture,o=n;!rA&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,nA?r:a)}e.addEventListener(t,n,r)};var oA=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var sA=function(e,t,n,r){return aA(e,t,n,r),function(){oA(e,t,n,r)}};function uA(e){return e&&e.ownerDocument||document}var cA=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function lA(e){var n=cA(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var fA=function(){};function dA(e){return 0===e.button}function hA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var pA=function(e){return e&&("current"in e?e.current:e)},vA={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var mA=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fA,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.disabled,a=r.clickTrigger,o=void 0===a?"click":a,s=(0,t.useRef)(!1),u=(0,t.useRef)(!1),c=(0,t.useCallback)((function(t){var n=pA(e);dC()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!n||hA(t)||!dA(t)||!!dN(n,t.target)||u.current,u.current=!1}),[e]),l=lA((function(t){var n=pA(e);n&&dN(n,t.target)&&(u.current=!0)})),f=lA((function(e){s.current||n(e)}));(0,t.useEffect)((function(){if(!i&&null!=e){var t=uA(pA(e)),n=(t.defaultView||window).event,r=null;vA[o]&&(r=sA(t,vA[o],l,!0));var a=sA(t,o,c,!0),s=sA(t,o,(function(e){e!==n?f(e):n=void 0})),u=[];return"ontouchstart"in t.documentElement&&(u=[].slice.call(t.body.children).map((function(e){return sA(e,"mousemove",fA)}))),function(){null==r||r(),a(),s(),u.forEach((function(e){return e()}))}}}),[e,i,o,c,l,f])},yA=function(){};var gA=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.disabled,a=r.clickTrigger,o=n||yA;mA(e,o,{disabled:i,clickTrigger:a});var s=lA((function(e){27===e.keyCode&&o(e)}));(0,t.useEffect)((function(){if(!i&&null!=e){var t=uA(pA(e)),n=(t.defaultView||window).event,r=sA(t,"keyup",(function(e){e!==n?s(e):n=void 0}));return function(){r()}}}),[e,i,s])},wA=(0,t.createContext)(tA?window:void 0);wA.Provider;function bA(){return(0,t.useContext)(wA)}var kA=function(e,t){return tA?null==e?(t||uA()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};function xA(e,n){var r=bA(),i=j((0,t.useState)((function(){return kA(e,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var s=kA(e);s&&o(s)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=kA(e);t!==a&&o(t)}),[e,a]),a}function _A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function SA(e){var t,n,r,i,a=e.enabled,o=e.enableEvents,s=e.placement,u=e.flip,c=e.offset,l=e.fixed,f=e.containerPadding,d=e.arrowElement,h=e.popperConfig,p=void 0===h?{}:h,v=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(p.modifiers);return Object.assign({},p,{placement:s,enabled:a,strategy:l?"fixed":p.strategy,modifiers:_A(Object.assign({},v,{eventListeners:{enabled:o},preventOverflow:Object.assign({},v.preventOverflow,{options:f?Object.assign({padding:f},null==(t=v.preventOverflow)?void 0:t.options):null==(n=v.preventOverflow)?void 0:n.options}),offset:{options:Object.assign({offset:c},null==(r=v.offset)?void 0:r.options)},arrow:Object.assign({},v.arrow,{enabled:!!d,options:Object.assign({},null==(i=v.arrow)?void 0:i.options,{element:d})}),flip:Object.assign({enabled:!!u},v.flip)}))})}var EA=t.forwardRef((function(e,n){var r=e.flip,i=e.offset,a=e.placement,o=e.containerPadding,u=e.popperConfig,c=void 0===u?{}:u,l=e.transition,f=j(CN(),2),d=f[0],h=f[1],p=j(CN(),2),v=p[0],m=p[1],y=TN(h,n),g=xA(e.container),w=xA(e.target),b=j((0,t.useState)(!e.show),2),k=b[0],x=b[1],_=eA(w,d,SA({placement:a,enableEvents:!!e.show,containerPadding:o||5,flip:r,offset:i,arrowElement:v,popperConfig:c}));e.show?k&&x(!1):e.transition||k||x(!0);var S=e.show||l&&!k;if(gA(d,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!S)return null;var E=e.children(Object.assign({},_.attributes.popper,{style:_.styles.popper,ref:y}),{popper:_,placement:a,show:!!e.show,arrowProps:Object.assign({},_.attributes.arrow,{style:_.styles.arrow,ref:m})});if(l){var I=e.onExit,T=e.onExiting,C=e.onEnter,N=e.onEntering,O=e.onEntered;E=(0,GT.jsx)(l,{in:e.show,appear:!0,onExit:I,onExiting:T,onExited:function(){x(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:C,onEntering:N,onEntered:O,children:E})}return g?s.createPortal(E,g):null}));EA.displayName="Overlay";var IA=EA,TA="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,CA="undefined"!==typeof document||TA?t.useLayoutEffect:t.useEffect;function NA(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}var OA=wC("popover-header"),AA=wC("popover-body");t.Component;function DA(e,t){var n=e;return"left"===e?n=t?"end":"start":"right"===e&&(n=t?"start":"end"),n}var PA=["bsPrefix","placement","className","style","children","body","arrowProps","popper","show"],RA=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.placement,i=e.className,a=e.style,o=e.children,s=e.body,u=e.arrowProps,c=(e.popper,e.show,BT(e,PA)),l=eC(n,"popover"),f=tC(),d=j((null==r?void 0:r.split("-"))||[],1)[0],h=DA(d,f);return(0,GT.jsxs)("div",vn(vn({ref:t,role:"tooltip",style:a,"x-placement":d,className:qT()(i,l,d&&"bs-popover-".concat(h))},c),{},{children:[(0,GT.jsx)("div",vn({className:"popover-arrow"},u)),s?(0,GT.jsx)(AA,{children:o}):o]}))}));RA.defaultProps={placement:"right"};var LA=Object.assign(RA,{Header:OA,Body:AA,POPPER_OFFSET:[0,8]});var MA=!1,jA=t.createContext(null),FA="unmounted",UA="exited",VA="entering",BA="entered",zA="exiting",qA=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=UA,r.appearStatus=VA):i=BA:i=t.unmountOnExit||t.mountOnEnter?FA:UA,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,q(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===FA?{status:UA}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==VA&&n!==BA&&(t=VA):n!==VA&&n!==BA||(t=zA)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===VA){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===UA&&this.setState({status:FA})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[s.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),c=r?u.appear:u.enter;!e&&!n||MA?this.safeSetState({status:BA},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:VA},(function(){t.props.onEntering(a,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:BA},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);t&&!MA?(this.props.onExit(r),this.safeSetState({status:zA},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:UA},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:UA},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===FA)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,VT(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(jA.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function HA(){}qA.contextType=jA,qA.propTypes={},qA.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:HA,onEntering:HA,onEntered:HA,onExit:HA,onExiting:HA,onExited:HA},qA.UNMOUNTED=FA,qA.EXITED=UA,qA.ENTERING=VA,qA.ENTERED=BA,qA.EXITING=zA;var WA=qA;function GA(e,t){return function(e){var t=uA(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var KA=/([A-Z])/g;var YA=/^ms-/;function QA(e){return function(e){return e.replace(KA,"-$1").toLowerCase()}(e).replace(YA,"-ms-")}var $A=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var XA=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(QA(t))||GA(e).getPropertyValue(QA(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!$A.test(e))}(i)?n+=QA(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(QA(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function JA(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=sA(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function ZA(e,t,n,r){null==n&&(n=function(e){var t=XA(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=JA(e,n,r),a=sA(e,"transitionend",t);return function(){i(),a()}}function eD(e,t){var n=XA(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function tD(e,t){var n=eD(e,"transitionDuration"),r=eD(e,"transitionDelay"),i=ZA(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}function nD(e){e.offsetHeight}function rD(e){return e&&"setState"in e?s.findDOMNode(e):null!=e?e:null}var iD,aD=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],oD=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.onExited,c=e.addEndListener,l=e.children,f=e.childRef,d=BT(e,aD),h=(0,t.useRef)(null),p=TN(h,f),v=function(e){p(rD(e))},m=function(e){return function(t){e&&h.current&&e(h.current,t)}},y=(0,t.useCallback)(m(r),[r]),g=(0,t.useCallback)(m(i),[i]),w=(0,t.useCallback)(m(a),[a]),b=(0,t.useCallback)(m(o),[o]),k=(0,t.useCallback)(m(s),[s]),x=(0,t.useCallback)(m(u),[u]),_=(0,t.useCallback)(m(c),[c]);return(0,GT.jsx)(WA,vn(vn({ref:n},d),{},{onEnter:y,onEntered:w,onEntering:g,onExit:b,onExited:x,onExiting:k,addEndListener:_,nodeRef:h,children:"function"===typeof l?function(e,t){return l(e,vn(vn({},t),{},{ref:v}))}:t.cloneElement(l,{ref:v})}))})),sD=oD,uD=["className","children","transitionClasses"],cD=(It(iD={},VA,"show"),It(iD,BA,"show"),iD),lD=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=BT(e,uD),u=(0,t.useCallback)((function(e,t){nD(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,GT.jsx)(sD,vn(vn({ref:n,addEndListener:tD},s),{},{onEnter:u,childRef:i.ref,children:function(e,n){return t.cloneElement(i,vn(vn({},n),{},{className:qT()("fade",r,i.props.className,cD[e],o[e])}))}}))}));lD.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},lD.displayName="Fade";var fD=lD,dD=["children","transition","popperConfig"],hD={transition:fD,rootClose:!1,show:!1,placement:"top"};var pD=t.forwardRef((function(e,n){var r=e.children,i=e.transition,a=e.popperConfig,o=void 0===a?{}:a,s=BT(e,dD),u=(0,t.useRef)({}),c=j(CN(),2),l=c[0],f=c[1],d=function(e){var n=(0,t.useRef)(null),r=eC(void 0,"popover"),i=(0,t.useMemo)((function(){return{name:"offset",options:{offset:function(){return n.current&&NA(n.current,r)?e||LA.POPPER_OFFSET:e||[0,0]}}}}),[e,r]);return[n,[i]]}(s.offset),h=j(d,2),p=h[0],v=h[1],m=TN(n,p),y=!0===i?fD:i||void 0,g=lA((function(e){f(e),null==o||null==o.onFirstUpdate||o.onFirstUpdate(e)}));return CA((function(){l&&(null==u.current.scheduleUpdate||u.current.scheduleUpdate())}),[l]),(0,GT.jsx)(IA,vn(vn({},s),{},{ref:m,popperConfig:vn(vn({},o),{},{modifiers:v.concat(o.modifiers||[]),onFirstUpdate:g}),transition:y,children:function(e,n){var a,o,s=n.arrowProps,c=n.popper,l=n.show;!function(e,t){var n=e.ref,r=t.ref;e.ref=n.__wrapped||(n.__wrapped=function(e){return n(rD(e))}),t.ref=r.__wrapped||(r.__wrapped=function(e){return r(rD(e))})}(e,s);var f=null==c?void 0:c.placement,d=Object.assign(u.current,{state:null==c?void 0:c.state,scheduleUpdate:null==c?void 0:c.update,placement:f,outOfBoundaries:(null==c||null==(a=c.state)||null==(o=a.modifiersData.hide)?void 0:o.isReferenceHidden)||!1});return"function"===typeof r?r(vn(vn(vn({},e),{},{placement:f,show:l},!i&&l&&{className:"show"}),{},{popper:d,arrowProps:s})):t.cloneElement(r,vn(vn({},e),{},{placement:f,arrowProps:s,popper:d,className:qT()(r.props.className,!i&&l&&"show"),style:vn(vn({},r.props.style),e.style)}))}}))}));pD.displayName="Overlay",pD.defaultProps=hD;var vD=pD,mD=["trigger","overlay","children","popperConfig","show","defaultShow","onToggle","delay","placement","flip"];function yD(e,t,n){var r=j(t,1)[0],i=r.currentTarget,a=r.relatedTarget||r.nativeEvent[n];a&&a===i||dN(i,a)||e.apply(void 0,U(t))}function gD(e){var n=e.trigger,r=e.overlay,i=e.children,a=e.popperConfig,o=void 0===a?{}:a,s=e.show,u=e.defaultShow,c=void 0!==u&&u,l=e.onToggle,f=e.delay,d=e.placement,h=e.flip,p=void 0===h?d&&-1!==d.indexOf("auto"):h,v=BT(e,mD),m=(0,t.useRef)(null),y=TN(m,i.ref),g=yN(),w=(0,t.useRef)(""),b=j(kN(s,c,l),2),k=b[0],x=b[1],_=function(e){return e&&"object"===typeof e?e:{show:e,hide:e}}(f),S="function"!==typeof i?t.Children.only(i).props:{},E=S.onFocus,I=S.onBlur,T=S.onClick,C=(0,t.useCallback)((function(){g.clear(),w.current="show",_.show?g.set((function(){"show"===w.current&&x(!0)}),_.show):x(!0)}),[_.show,x,g]),N=(0,t.useCallback)((function(){g.clear(),w.current="hide",_.hide?g.set((function(){"hide"===w.current&&x(!1)}),_.hide):x(!1)}),[_.hide,x,g]),O=(0,t.useCallback)((function(){C(),null==E||E.apply(void 0,arguments)}),[C,E]),A=(0,t.useCallback)((function(){N(),null==I||I.apply(void 0,arguments)}),[N,I]),D=(0,t.useCallback)((function(){x(!k),null==T||T.apply(void 0,arguments)}),[T,x,k]),P=(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];yD(C,t,"fromElement")}),[C]),R=(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];yD(N,t,"toElement")}),[N]),L=null==n?[]:[].concat(n),M={ref:function(e){y(rD(e))}};return-1!==L.indexOf("click")&&(M.onClick=D),-1!==L.indexOf("focus")&&(M.onFocus=O,M.onBlur=A),-1!==L.indexOf("hover")&&(M.onMouseOver=P,M.onMouseOut=R),(0,GT.jsxs)(GT.Fragment,{children:["function"===typeof i?i(M):(0,t.cloneElement)(i,M),(0,GT.jsx)(vD,vn(vn({},v),{},{show:k,onHide:N,flip:p,placement:d,popperConfig:o,target:m.current,children:r}))]})}gD.defaultProps={defaultShow:!1,trigger:["hover","focus"]};var wD=gD,bD=["bsPrefix","placement","className","style","children","arrowProps","popper","show"],kD=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.placement,i=e.className,a=e.style,o=e.children,s=e.arrowProps,u=(e.popper,e.show,BT(e,bD));n=eC(n,"tooltip");var c=tC(),l=j((null==r?void 0:r.split("-"))||[],1)[0],f=DA(l,c);return(0,GT.jsxs)("div",vn(vn({ref:t,style:a,role:"tooltip","x-placement":l,className:qT()(i,n,"bs-tooltip-".concat(f))},u),{},{children:[(0,GT.jsx)("div",vn({className:"tooltip-arrow"},s)),(0,GT.jsx)("div",{className:"".concat(n,"-inner"),children:o})]}))}));kD.defaultProps={placement:"right"},kD.displayName="Tooltip";var xD=kD,_D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},SD=t.createContext(null),ED=["bsPrefix","className","as"],ID=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=BT(e,ED);n=eC(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,GT.jsx)(o,vn(vn({},a),{},{ref:t,className:qT()(r,n)}))}));ID.displayName="NavbarBrand";var TD=ID;var CD,ND=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},OD=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],AD={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function DD(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=AD[e];return n+parseInt(XA(t,r[0]),10)+parseInt(XA(t,r[1]),10)}var PD=(It(CD={},UA,"collapse"),It(CD,zA,"collapsing"),It(CD,VA,"collapsing"),It(CD,BA,"collapse show"),CD),RD={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:DD},LD=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,d=e.getDimensionValue,h=void 0===d?DD:d,p=BT(e,OD),v="function"===typeof f?f():f,m=(0,t.useMemo)((function(){return ND((function(e){e.style[v]="0"}),r)}),[v,r]),y=(0,t.useMemo)((function(){return ND((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),g=(0,t.useMemo)((function(){return ND((function(e){e.style[v]=null}),a)}),[v,a]),w=(0,t.useMemo)((function(){return ND((function(e){e.style[v]="".concat(h(v,e),"px"),nD(e)}),o)}),[o,h,v]),b=(0,t.useMemo)((function(){return ND((function(e){e.style[v]=null}),s)}),[v,s]);return(0,GT.jsx)(sD,vn(vn({ref:n,addEndListener:tD},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:y,onEntered:g,onExit:w,onExiting:b,childRef:c.ref,children:function(e,n){return t.cloneElement(c,vn(vn({},n),{},{className:qT()(u,c.props.className,PD[e],"width"===v&&"collapse-horizontal")}))}}))}));LD.defaultProps=RD;var MD=LD,jD=t.createContext(null);jD.displayName="NavbarContext";var FD=jD,UD=["children","bsPrefix"],VD=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=BT(e,UD);i=eC(i,"navbar-collapse");var o=(0,t.useContext)(FD);return(0,GT.jsx)(MD,vn(vn({in:!(!o||!o.expanded)},a),{},{children:(0,GT.jsx)("div",{ref:n,className:i,children:r})}))}));VD.displayName="NavbarCollapse";var BD=VD,zD=["bsPrefix","className","children","label","as","onClick"],qD=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,s=e.as,u=void 0===s?"button":s,c=e.onClick,l=BT(e,zD);r=eC(r,"navbar-toggler");var f=(0,t.useContext)(FD)||{},d=f.onToggle,h=f.expanded,p=lA((function(e){c&&c(e),d&&d()}));return"button"===u&&(l.type="button"),(0,GT.jsx)(u,vn(vn({},l),{},{ref:n,onClick:p,"aria-label":o,className:qT()(i,r,!h&&"collapsed"),children:a||(0,GT.jsx)("span",{className:"".concat(r,"-icon")})}))}));qD.displayName="NavbarToggle",qD.defaultProps={label:"Toggle navigation"};var HD=qD,WD=new WeakMap,GD=function(e,t){if(e&&t){var n=WD.get(t)||new Map;WD.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function KD(e,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var r=GD(e,n),i=(0,t.useState)((function(){return!!r&&r.matches})),a=i[0],o=i[1];return CA((function(){var t=GD(e,n);if(!t)return o(!1);var r=WD.get(n),i=function(){o(t.matches)};return t.refCount++,t.addListener(i),i(),function(){t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),a}var YD=function(e){var n=Object.keys(e);function r(e,t){return e===t?t:e?e+" and "+t:t}function i(t){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(n,a,o){var s,u;"object"===typeof n?(s=n,o=a,a=!0):((u={})[n]=a=a||!0,s=u);var c=(0,t.useMemo)((function(){return Object.entries(s).reduce((function(t,n){var a=n[0],o=n[1];return"up"!==o&&!0!==o||(t=r(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(t=r(t,i(a))),t}),"")}),[JSON.stringify(s)]);return KD(c,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function QD(e){void 0===e&&(e=uA());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(MV){return e.body}}function $D(e){return"".concat("data-rr-ui-").concat(e)}var XD,JD=$D("modal-open"),ZD=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;V(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return z(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=It({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(XA(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(JD,""),XA(r,t)}},{key:"reset",value:function(){var e=this;U(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(JD),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),eP=ZD,tP=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function nP(e){var n=bA(),r=e||function(e){return XD||(XD=new eP({ownerDocument:null==e?void 0:e.document})),XD}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var rP=(0,t.forwardRef)((function(e,n){var r=e.show,i=void 0!==r&&r,a=e.role,o=void 0===a?"dialog":a,u=e.className,c=e.style,l=e.children,f=e.backdrop,d=void 0===f||f,h=e.keyboard,p=void 0===h||h,v=e.onBackdropClick,m=e.onEscapeKeyDown,y=e.transition,g=e.backdropTransition,w=e.autoFocus,b=void 0===w||w,k=e.enforceFocus,x=void 0===k||k,_=e.restoreFocus,S=void 0===_||_,E=e.restoreFocusOptions,I=e.renderDialog,T=e.renderBackdrop,C=void 0===T?function(e){return(0,GT.jsx)("div",Object.assign({},e))}:T,N=e.manager,O=e.container,A=e.onShow,D=e.onHide,P=void 0===D?function(){}:D,R=e.onExit,L=e.onExited,M=e.onExiting,F=e.onEnter,U=e.onEntering,V=e.onEntered,B=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,tP),z=xA(O),q=nP(N),H=hN(),W=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(i),G=j((0,t.useState)(!i),2),K=G[0],Y=G[1],Q=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return q}),[q]),tA&&!W&&i&&(Q.current=QD()),y||i||K?i&&K&&Y(!1):Y(!0);var $=lA((function(){if(q.add(),ne.current=sA(document,"keydown",ee),te.current=sA(document,"focus",(function(){return setTimeout(J)}),!0),A&&A(),b){var e=QD(document);q.dialog&&e&&!dN(q.dialog,e)&&(Q.current=e,q.dialog.focus())}})),X=lA((function(){var e;(q.remove(),null==ne.current||ne.current(),null==te.current||te.current(),S)&&(null==(e=Q.current)||null==e.focus||e.focus(E),Q.current=null)}));(0,t.useEffect)((function(){i&&z&&$()}),[i,z,$]),(0,t.useEffect)((function(){K&&X()}),[K,X]),pN((function(){X()}));var J=lA((function(){if(x&&H()&&q.isTopModal()){var e=QD();q.dialog&&e&&!dN(q.dialog,e)&&q.dialog.focus()}})),Z=lA((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===d&&P())})),ee=lA((function(e){p&&27===e.keyCode&&q.isTopModal()&&(null==m||m(e),e.defaultPrevented||P())})),te=(0,t.useRef)(),ne=(0,t.useRef)(),re=y;if(!z||!(i||re&&!K))return null;var ie=Object.assign({role:o,ref:q.setDialogRef,"aria-modal":"dialog"===o||void 0},B,{style:c,className:u,tabIndex:-1}),ae=I?I(ie):(0,GT.jsx)("div",Object.assign({},ie,{children:t.cloneElement(l,{role:"document"})}));re&&(ae=(0,GT.jsx)(re,{appear:!0,unmountOnExit:!0,in:!!i,onExit:R,onExiting:M,onExited:function(){Y(!0),null==L||L.apply(void 0,arguments)},onEnter:F,onEntering:U,onEntered:V,children:ae}));var oe=null;if(d){var se=g;oe=C({ref:q.setBackdropRef,onClick:Z}),se&&(oe=(0,GT.jsx)(se,{appear:!0,in:!!i,children:oe}))}return(0,GT.jsx)(GT.Fragment,{children:s.createPortal((0,GT.jsxs)(GT.Fragment,{children:[oe,ae]}),z)})}));rP.displayName="Modal";var iP,aP=Object.assign(rP,{Manager:eP}),oP=wC("offcanvas-body"),sP=["bsPrefix","className","children"],uP=(It(iP={},VA,"show"),It(iP,BA,"show"),iP),cP=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=BT(e,sP);return r=eC(r,"offcanvas"),(0,GT.jsx)(sD,vn(vn({ref:n,addEndListener:tD},o),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,vn(vn({},n),{},{className:qT()(i,a.props.className,(e===VA||e===zA)&&"".concat(r,"-toggling"),uP[e])}))}}))}));cP.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},cP.displayName="OffcanvasToggling";var lP=cP,fP=t.createContext({onHide:function(){}}),dP=["className","variant"],hP={"aria-label":WT().string,onClick:WT().func,variant:WT().oneOf(["white"])},pP=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=BT(e,dP);return(0,GT.jsx)("button",vn({ref:t,type:"button",className:qT()("btn-close",r&&"btn-close-".concat(r),n)},i))}));pP.displayName="CloseButton",pP.propTypes=hP,pP.defaultProps={"aria-label":"Close"};var vP=pP,mP=["closeLabel","closeVariant","closeButton","onHide","children"],yP=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,s=e.children,u=BT(e,mP),c=(0,t.useContext)(fP),l=lA((function(){null==c||c.onHide(),null==o||o()}));return(0,GT.jsxs)("div",vn(vn({ref:n},u),{},{children:[s,a&&(0,GT.jsx)(vP,{"aria-label":r,variant:i,onClick:l})]}))}));yP.defaultProps={closeLabel:"Close",closeButton:!1};var gP=yP,wP=["bsPrefix","className"],bP=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=BT(e,wP);return n=eC(n,"offcanvas-header"),(0,GT.jsx)(gP,vn(vn({ref:t},i),{},{className:qT()(r,n)}))}));bP.displayName="OffcanvasHeader",bP.defaultProps={closeLabel:"Close",closeButton:!1};var kP,xP=bP,_P=(kP="h5",t.forwardRef((function(e,t){return(0,GT.jsx)("div",vn(vn({},e),{},{ref:t,className:qT()(e.className,kP)}))}))),SP=wC("offcanvas-title",{Component:_P});var EP=Function.prototype.bind.call(Function.prototype.call,[].slice);function IP(e,t){return EP(e.querySelectorAll(t))}function TP(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var CP,NP=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",OP=".sticky-top",AP=".navbar-toggler",DP=function(e){H(n,e);var t=Q(n);function n(){return V(this,n),t.apply(this,arguments)}return z(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,XA(t,It({},e,"".concat(parseFloat(XA(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],XA(t,It({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Nr(W(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):NA(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";IP(r,NP).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)})),IP(r,OP).forEach((function(n){return t.adjustAndStore(a,n,-e.scrollBarWidth)})),IP(r,AP).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Nr(W(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=TP(e.className,t):e.setAttribute("class",TP(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";IP(r,NP).forEach((function(e){return t.restore(i,e)})),IP(r,OP).forEach((function(e){return t.restore(a,e)})),IP(r,AP).forEach((function(e){return t.restore(a,e)}))}}]),n}(eP);var PP=DP,RP=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function LP(e){return(0,GT.jsx)(lP,vn({},e))}function MP(e){return(0,GT.jsx)(fD,vn({},e))}var jP=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],s=e.placement,u=e.responsive,c=e.show,l=e.backdrop,f=e.keyboard,d=e.scroll,h=e.onEscapeKeyDown,p=e.onShow,v=e.onHide,m=e.container,y=e.autoFocus,g=e.enforceFocus,w=e.restoreFocus,b=e.restoreFocusOptions,k=e.onEntered,x=e.onExit,_=e.onExiting,S=e.onEnter,E=e.onEntering,I=e.onExited,T=e.backdropClassName,C=e.manager,N=e.renderStaticNode,O=BT(e,RP),A=(0,t.useRef)();r=eC(r,"offcanvas");var D=((0,t.useContext)(FD)||{}).onToggle,P=j((0,t.useState)(!1),2),R=P[0],L=P[1],M=YD(u||"xs","up");(0,t.useEffect)((function(){L(u?c&&!M:c)}),[c,u,M]);var F=lA((function(){null==D||D(),null==v||v()})),U=(0,t.useMemo)((function(){return{onHide:F}}),[F]);var V=(0,t.useCallback)((function(e){return(0,GT.jsx)("div",vn(vn({},e),{},{className:qT()("".concat(r,"-backdrop"),T)}))}),[T,r]),B=function(e){return(0,GT.jsx)("div",vn(vn(vn({},e),O),{},{className:qT()(i,u?"".concat(r,"-").concat(u):r,"".concat(r,"-").concat(s)),"aria-labelledby":o,children:a}))};return(0,GT.jsxs)(GT.Fragment,{children:[!R&&(u||N)&&B({}),(0,GT.jsx)(fP.Provider,{value:U,children:(0,GT.jsx)(aP,{show:R,ref:n,backdrop:l,container:m,keyboard:f,autoFocus:y,enforceFocus:g&&!d,restoreFocus:w,restoreFocusOptions:b,onEscapeKeyDown:h,onShow:p,onHide:F,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==S||S.apply(void 0,[e].concat(n))},onEntering:E,onEntered:k,onExit:x,onExiting:_,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==I||I.apply(void 0,n)},manager:C||(d?(A.current||(A.current=new PP({handleContainerOverflow:!1})),A.current):function(e){return CP||(CP=new DP(e)),CP}()),transition:LP,backdropTransition:MP,renderBackdrop:V,renderDialog:B})})]})}));jP.displayName="Offcanvas",jP.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};var FP=Object.assign(jP,{Body:oP,Header:xP,Title:SP}),UP=t.forwardRef((function(e,n){var r=(0,t.useContext)(FD);return(0,GT.jsx)(FP,vn(vn({ref:n,show:!(null==r||!r.expanded)},e),{},{renderStaticNode:!0}))}));UP.displayName="NavbarOffcanvas";var VP=UP,BP=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],zP=wC("navbar-text",{Component:"span"}),qP=t.forwardRef((function(e,n){var r=xN(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=r.variant,s=r.bg,u=r.fixed,c=r.sticky,l=r.className,f=r.as,d=void 0===f?"nav":f,h=r.expanded,p=r.onToggle,v=r.onSelect,m=r.collapseOnSelect,y=BT(r,BP),g=eC(i,"navbar"),w=(0,t.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&h&&(null==p||p(!1))}),[v,m,h,p]);void 0===y.role&&"nav"!==d&&(y.role="navigation");var b="".concat(g,"-expand");"string"===typeof a&&(b="".concat(b,"-").concat(a));var k=(0,t.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!h)},bsPrefix:g,expanded:!!h,expand:a}}),[g,h,a,p]);return(0,GT.jsx)(FD.Provider,{value:k,children:(0,GT.jsx)(SD.Provider,{value:w,children:(0,GT.jsx)(d,vn(vn({ref:n},y),{},{className:qT()(l,g,a&&b,o&&"".concat(g,"-").concat(o),s&&"bg-".concat(s),c&&"sticky-".concat(c),u&&"fixed-".concat(u))}))})})}));qP.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},qP.displayName="Navbar";var HP=Object.assign(qP,{Brand:TD,Collapse:BD,Offcanvas:VP,Text:zP,Toggle:HD});n(3573);var WP=t.createContext(null);WP.displayName="NavContext";var GP=WP,KP=t.createContext(null),YP=["as","active","eventKey"];function QP(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,s=e.disabled,u=(0,t.useContext)(SD),c=(0,t.useContext)(GP),l=(0,t.useContext)(KP),f=i,d={role:o};if(c){o||"tablist"!==c.role||(d.role="tab");var h=c.getControllerId(null!=n?n:null),p=c.getControlledId(null!=n?n:null);d[$D("event-key")]=n,d.id=h||a,!(f=null==i&&null!=n?c.activeKey===n:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(d["aria-controls"]=p)}return"tab"===d.role&&(d["aria-selected"]=f,f||(d.tabIndex=-1),s&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=lA((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[d,{isActive:f}]}var $P=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?ZC:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,YP),s=j(QP(Object.assign({key:_D(a,o.href),active:i},o)),2),u=s[0],c=s[1];return u[$D("active")]=c.isActive,(0,GT.jsx)(r,Object.assign({},o,u,{ref:t}))}));$P.displayName="NavItem";var XP=$P,JP=["as","onSelect","activeKey","role","onKeyDown"];var ZP=function(){},eR=$D("event-key"),tR=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,s=e.onSelect,u=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,JP),d=(0,t.useReducer)((function(e){return!e}),!1)[1],h=(0,t.useRef)(!1),p=(0,t.useContext)(SD),v=(0,t.useContext)(KP);v&&(c=c||"tablist",u=v.activeKey,r=v.getControlledId,i=v.getControllerId);var m=(0,t.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n=IP(t,"[".concat(eR,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,t.useEffect)((function(){if(m.current&&h.current){var e=m.current.querySelector("[".concat(eR,"][aria-selected=true]"));null==e||e.focus()}h.current=!1}));var w=TN(n,m);return(0,GT.jsx)(SD.Provider,{value:g,children:(0,GT.jsx)(GP.Provider,{value:{role:c,activeKey:_D(u),getControlledId:r||ZP,getControllerId:i||ZP},children:(0,GT.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),h.current=!0,d()}},ref:w,role:c}))})})}));tR.displayName="Nav";var nR=Object.assign(tR,{Item:XP}),rR=t.createContext(null);rR.displayName="CardHeaderContext";var iR=rR,aR=wC("nav-item");new WeakMap;var oR=["onKeyDown"];var sR=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,oR),a=j(XC(Object.assign({tagName:"a"},i)),1)[0],o=lA((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,GT.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,GT.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));sR.displayName="Anchor";var uR=sR,cR=["bsPrefix","className","as","active","eventKey"],lR=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?uR:i,o=e.active,s=e.eventKey,u=BT(e,cR);n=eC(n,"nav-link");var c=j(QP(vn({key:_D(s,u.href),active:o},u)),2),l=c[0],f=c[1];return(0,GT.jsx)(a,vn(vn(vn({},u),l),{},{ref:t,className:qT()(r,n,u.disabled&&"disabled",f.isActive&&"active")}))}));lR.displayName="NavLink",lR.defaultProps={disabled:!1};var fR=lR,dR=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],hR=t.forwardRef((function(e,n){var r,i,a,o=xN(e,{activeKey:"onSelect"}),s=o.as,u=void 0===s?"div":s,c=o.bsPrefix,l=o.variant,f=o.fill,d=o.justify,h=o.navbar,p=o.navbarScroll,v=o.className,m=o.activeKey,y=BT(o,dR),g=eC(c,"nav"),w=!1,b=(0,t.useContext)(FD),k=(0,t.useContext)(iR);return b?(i=b.bsPrefix,w=null==h||h):k&&(a=k.cardHeaderBsPrefix),(0,GT.jsx)(nR,vn({as:u,ref:n,activeKey:m,className:qT()(v,(r={},It(r,g,!w),It(r,"".concat(i,"-nav"),w),It(r,"".concat(i,"-nav-scroll"),w&&p),It(r,"".concat(a,"-").concat(l),!!a),It(r,"".concat(g,"-").concat(l),!!l),It(r,"".concat(g,"-fill"),f),It(r,"".concat(g,"-justified"),d),r))},y))}));hR.displayName="Nav",hR.defaultProps={justify:!1,fill:!1};var pR=Object.assign(hR,{Item:aR,Link:fR}),vR=function(){var e=C();return(0,GT.jsxs)(HP,{bg:"primary",expand:"lg",className:"px-5",children:[(0,GT.jsxs)(HP.Brand,{href:"/giftListApp",className:"d-flex justify-content-center align-items-center text-secondary",children:[(0,GT.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2rem",height:"2rem",fill:"currentColor",className:"bi bi-box2-heart",viewBox:"0 0 16 16",children:[(0,GT.jsx)("path",{d:"M8 7.982C9.664 6.309 13.825 9.236 8 13 2.175 9.236 6.336 6.31 8 7.982Z"}),(0,GT.jsx)("path",{d:"M3.75 0a1 1 0 0 0-.8.4L.1 4.2a.5.5 0 0 0-.1.3V15a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V4.5a.5.5 0 0 0-.1-.3L13.05.4a1 1 0 0 0-.8-.4h-8.5Zm0 1H7.5v3h-6l2.25-3ZM8.5 4V1h3.75l2.25 3h-6ZM15 5v10H1V5h14Z"})]}),(0,GT.jsx)("h1",{className:"text-secondary ps-2",style:{fontSize:"2rem"},children:"Gift List"})]}),(0,GT.jsx)(HP.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,GT.jsx)(HP.Collapse,{id:"basic-navbar-nav",children:(0,GT.jsxs)(pR,{className:"ms-auto d-flex justify-content-center align-items-center",children:[(0,GT.jsx)(pR.Link,{href:"/giftListApp/",className:"text-secondary",children:"Mis listas"}),(0,GT.jsx)(pR.Link,{href:"/giftListApp/favorites",className:"text-secondary",children:"Favoritos"}),(0,GT.jsx)(wD,{placement:"bottom",delay:{show:250,hide:400},overlay:(0,GT.jsx)(xD,{children:"Cerrar sesi\xf3n"}),children:(0,GT.jsx)(HP.Brand,{href:"/giftListApp/login",className:"text-secondary",onClick:function(){e((function(e){Tr.auth().signOut().then((function(){e(OT())})).catch((function(e){TT().fire("Error",e.message,"error")}))}))},children:(0,GT.jsx)("i",{className:"fa-solid fa-arrow-right-from-bracket"})})})]})})]})},mR=function(){var e=C(),n=m((function(e){return e.giftLists})).favorites,r=m((function(e){return e.ui})).isLoadingFavoritesGiftLists;(0,t.useEffect)((function(){e(function(){var e=D(O().mark((function e(t,n){var r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:yt}),r=n().auth.uid,e.next=4,AT(r);case 4:i=e.sent,t(UT(i)),t({type:gt});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[]);var i=function(){};return r?(0,GT.jsx)(fN,{message:"Cargando tus favoritos"}):(0,GT.jsxs)(GT.Fragment,{children:[(0,GT.jsx)(vR,{}),(0,GT.jsxs)("div",{className:"container my-5 rounded border border-dark py-4 px-5",children:[(0,GT.jsx)("h3",{className:"text-center mb-3",children:"Mis favoritos"}),0===n.length?(0,GT.jsx)("p",{className:"text-center my-0",children:"No tienes ning\xfan favorito"}):n.map((function(e){return(0,GT.jsxs)("div",{className:"container my-5 rounded border border-dark py-4 px-4 shadow favorite d-flex justify-content-between",onClick:function(){!function(e){var t=window.location,n=t.protocol,r=t.host;window.location.href="".concat(n,"//").concat(r,"/giftListApp/share/").concat(e.user,"/").concat(e.giftList)}(e)},role:"button",children:[(0,GT.jsxs)("div",{children:[(0,GT.jsxs)("p",{className:"my-0 fw-bold d-inline",children:[e.title," "]}),(0,GT.jsx)("span",{children:"por"}),(0,GT.jsxs)("p",{className:"my-0 fw-bold d-inline",children:[" ",e.userName]})]}),(0,GT.jsx)(wD,{placement:"bottom",delay:{show:50,hide:300},overlay:(0,GT.jsx)(xD,{children:"Eliminar"}),children:(0,GT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 320 512",role:"button",onClick:i,children:(0,GT.jsx)("path",{d:"M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"})})})]},e.id)}))]})]})},yR=n(77),gR=n.n(yR),wR=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===bR}(e)}(e)};var bR="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function kR(e,t){return!1!==t.clone&&t.isMergeableObject(e)?_R((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function xR(e,t,n){return e.concat(t).map((function(e){return kR(e,n)}))}function _R(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||xR,n.isMergeableObject=n.isMergeableObject||wR;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=kR(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=_R(e[i],t[i],n):r[i]=kR(t[i],n)})),r}(e,t,n):kR(t,n)}_R.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return _R(e,n,t)}),{})};var SR=_R,ER="object"==typeof global&&global&&global.Object===Object&&global,IR="object"==typeof self&&self&&self.Object===Object&&self,TR=ER||IR||Function("return this")(),CR=TR.Symbol,NR=Object.prototype,OR=NR.hasOwnProperty,AR=NR.toString,DR=CR?CR.toStringTag:void 0;var PR=function(e){var t=OR.call(e,DR),n=e[DR];try{e[DR]=void 0;var r=!0}catch(MV){}var i=AR.call(e);return r&&(t?e[DR]=n:delete e[DR]),i},RR=Object.prototype.toString;var LR=function(e){return RR.call(e)},MR=CR?CR.toStringTag:void 0;var jR=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":MR&&MR in Object(e)?PR(e):LR(e)};var FR=function(e,t){return function(n){return e(t(n))}},UR=FR(Object.getPrototypeOf,Object);var VR=function(e){return null!=e&&"object"==typeof e},BR=Function.prototype,zR=Object.prototype,qR=BR.toString,HR=zR.hasOwnProperty,WR=qR.call(Object);var GR=function(e){if(!VR(e)||"[object Object]"!=jR(e))return!1;var t=UR(e);if(null===t)return!0;var n=HR.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&qR.call(n)==WR};var KR=function(){this.__data__=[],this.size=0};var YR=function(e,t){return e===t||e!==e&&t!==t};var QR=function(e,t){for(var n=e.length;n--;)if(YR(e[n][0],t))return n;return-1},$R=Array.prototype.splice;var XR=function(e){var t=this.__data__,n=QR(t,e);return!(n<0)&&(n==t.length-1?t.pop():$R.call(t,n,1),--this.size,!0)};var JR=function(e){var t=this.__data__,n=QR(t,e);return n<0?void 0:t[n][1]};var ZR=function(e){return QR(this.__data__,e)>-1};var eL=function(e,t){var n=this.__data__,r=QR(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function tL(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tL.prototype.clear=KR,tL.prototype.delete=XR,tL.prototype.get=JR,tL.prototype.has=ZR,tL.prototype.set=eL;var nL=tL;var rL=function(){this.__data__=new nL,this.size=0};var iL=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var aL=function(e){return this.__data__.get(e)};var oL=function(e){return this.__data__.has(e)};var sL=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var uL=function(e){if(!sL(e))return!1;var t=jR(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},cL=TR["__core-js_shared__"],lL=function(){var e=/[^.]+$/.exec(cL&&cL.keys&&cL.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var fL=function(e){return!!lL&&lL in e},dL=Function.prototype.toString;var hL=function(e){if(null!=e){try{return dL.call(e)}catch(MV){}try{return e+""}catch(MV){}}return""},pL=/^\[object .+?Constructor\]$/,vL=Function.prototype,mL=Object.prototype,yL=vL.toString,gL=mL.hasOwnProperty,wL=RegExp("^"+yL.call(gL).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var bL=function(e){return!(!sL(e)||fL(e))&&(uL(e)?wL:pL).test(hL(e))};var kL=function(e,t){return null==e?void 0:e[t]};var xL=function(e,t){var n=kL(e,t);return bL(n)?n:void 0},_L=xL(TR,"Map"),SL=xL(Object,"create");var EL=function(){this.__data__=SL?SL(null):{},this.size=0};var IL=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},TL=Object.prototype.hasOwnProperty;var CL=function(e){var t=this.__data__;if(SL){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return TL.call(t,e)?t[e]:void 0},NL=Object.prototype.hasOwnProperty;var OL=function(e){var t=this.__data__;return SL?void 0!==t[e]:NL.call(t,e)};var AL=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=SL&&void 0===t?"__lodash_hash_undefined__":t,this};function DL(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}DL.prototype.clear=EL,DL.prototype.delete=IL,DL.prototype.get=CL,DL.prototype.has=OL,DL.prototype.set=AL;var PL=DL;var RL=function(){this.size=0,this.__data__={hash:new PL,map:new(_L||nL),string:new PL}};var LL=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ML=function(e,t){var n=e.__data__;return LL(t)?n["string"==typeof t?"string":"hash"]:n.map};var jL=function(e){var t=ML(this,e).delete(e);return this.size-=t?1:0,t};var FL=function(e){return ML(this,e).get(e)};var UL=function(e){return ML(this,e).has(e)};var VL=function(e,t){var n=ML(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function BL(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}BL.prototype.clear=RL,BL.prototype.delete=jL,BL.prototype.get=FL,BL.prototype.has=UL,BL.prototype.set=VL;var zL=BL;var qL=function(e,t){var n=this.__data__;if(n instanceof nL){var r=n.__data__;if(!_L||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zL(r)}return n.set(e,t),this.size=n.size,this};function HL(e){var t=this.__data__=new nL(e);this.size=t.size}HL.prototype.clear=rL,HL.prototype.delete=iL,HL.prototype.get=aL,HL.prototype.has=oL,HL.prototype.set=qL;var WL=HL;var GL=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},KL=function(){try{var e=xL(Object,"defineProperty");return e({},"",{}),e}catch(MV){}}();var YL=function(e,t,n){"__proto__"==t&&KL?KL(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},QL=Object.prototype.hasOwnProperty;var $L=function(e,t,n){var r=e[t];QL.call(e,t)&&YR(r,n)&&(void 0!==n||t in e)||YL(e,t,n)};var XL=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?YL(n,s,u):$L(n,s,u)}return n};var JL=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var ZL=function(e){return VR(e)&&"[object Arguments]"==jR(e)},eM=Object.prototype,tM=eM.hasOwnProperty,nM=eM.propertyIsEnumerable,rM=ZL(function(){return arguments}())?ZL:function(e){return VR(e)&&tM.call(e,"callee")&&!nM.call(e,"callee")},iM=rM,aM=Array.isArray;var oM=function(){return!1},sM="object"==typeof exports&&exports&&!exports.nodeType&&exports,uM=sM&&"object"==typeof module&&module&&!module.nodeType&&module,cM=uM&&uM.exports===sM?TR.Buffer:void 0,lM=(cM?cM.isBuffer:void 0)||oM,fM=/^(?:0|[1-9]\d*)$/;var dM=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&fM.test(e))&&e>-1&&e%1==0&&e<t};var hM=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},pM={};pM["[object Float32Array]"]=pM["[object Float64Array]"]=pM["[object Int8Array]"]=pM["[object Int16Array]"]=pM["[object Int32Array]"]=pM["[object Uint8Array]"]=pM["[object Uint8ClampedArray]"]=pM["[object Uint16Array]"]=pM["[object Uint32Array]"]=!0,pM["[object Arguments]"]=pM["[object Array]"]=pM["[object ArrayBuffer]"]=pM["[object Boolean]"]=pM["[object DataView]"]=pM["[object Date]"]=pM["[object Error]"]=pM["[object Function]"]=pM["[object Map]"]=pM["[object Number]"]=pM["[object Object]"]=pM["[object RegExp]"]=pM["[object Set]"]=pM["[object String]"]=pM["[object WeakMap]"]=!1;var vM=function(e){return VR(e)&&hM(e.length)&&!!pM[jR(e)]};var mM=function(e){return function(t){return e(t)}},yM="object"==typeof exports&&exports&&!exports.nodeType&&exports,gM=yM&&"object"==typeof module&&module&&!module.nodeType&&module,wM=gM&&gM.exports===yM&&ER.process,bM=function(){try{var e=gM&&gM.require&&gM.require("util").types;return e||wM&&wM.binding&&wM.binding("util")}catch(MV){}}(),kM=bM,xM=kM&&kM.isTypedArray,_M=xM?mM(xM):vM,SM=Object.prototype.hasOwnProperty;var EM=function(e,t){var n=aM(e),r=!n&&iM(e),i=!n&&!r&&lM(e),a=!n&&!r&&!i&&_M(e),o=n||r||i||a,s=o?JL(e.length,String):[],u=s.length;for(var c in e)!t&&!SM.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||dM(c,u))||s.push(c);return s},IM=Object.prototype;var TM=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||IM)},CM=FR(Object.keys,Object),NM=Object.prototype.hasOwnProperty;var OM=function(e){if(!TM(e))return CM(e);var t=[];for(var n in Object(e))NM.call(e,n)&&"constructor"!=n&&t.push(n);return t};var AM=function(e){return null!=e&&hM(e.length)&&!uL(e)};var DM=function(e){return AM(e)?EM(e):OM(e)};var PM=function(e,t){return e&&XL(t,DM(t),e)};var RM=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},LM=Object.prototype.hasOwnProperty;var MM=function(e){if(!sL(e))return RM(e);var t=TM(e),n=[];for(var r in e)("constructor"!=r||!t&&LM.call(e,r))&&n.push(r);return n};var jM=function(e){return AM(e)?EM(e,!0):MM(e)};var FM=function(e,t){return e&&XL(t,jM(t),e)},UM="object"==typeof exports&&exports&&!exports.nodeType&&exports,VM=UM&&"object"==typeof module&&module&&!module.nodeType&&module,BM=VM&&VM.exports===UM?TR.Buffer:void 0,zM=BM?BM.allocUnsafe:void 0;var qM=function(e,t){if(t)return e.slice();var n=e.length,r=zM?zM(n):new e.constructor(n);return e.copy(r),r};var HM=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var WM=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var GM=function(){return[]},KM=Object.prototype.propertyIsEnumerable,YM=Object.getOwnPropertySymbols,QM=YM?function(e){return null==e?[]:(e=Object(e),WM(YM(e),(function(t){return KM.call(e,t)})))}:GM;var $M=function(e,t){return XL(e,QM(e),t)};var XM=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},JM=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)XM(t,QM(e)),e=UR(e);return t}:GM;var ZM=function(e,t){return XL(e,JM(e),t)};var ej=function(e,t,n){var r=t(e);return aM(e)?r:XM(r,n(e))};var tj=function(e){return ej(e,DM,QM)};var nj=function(e){return ej(e,jM,JM)},rj=xL(TR,"DataView"),ij=xL(TR,"Promise"),aj=xL(TR,"Set"),oj=xL(TR,"WeakMap"),sj="[object Map]",uj="[object Promise]",cj="[object Set]",lj="[object WeakMap]",fj="[object DataView]",dj=hL(rj),hj=hL(_L),pj=hL(ij),vj=hL(aj),mj=hL(oj),yj=jR;(rj&&yj(new rj(new ArrayBuffer(1)))!=fj||_L&&yj(new _L)!=sj||ij&&yj(ij.resolve())!=uj||aj&&yj(new aj)!=cj||oj&&yj(new oj)!=lj)&&(yj=function(e){var t=jR(e),n="[object Object]"==t?e.constructor:void 0,r=n?hL(n):"";if(r)switch(r){case dj:return fj;case hj:return sj;case pj:return uj;case vj:return cj;case mj:return lj}return t});var gj=yj,wj=Object.prototype.hasOwnProperty;var bj=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&wj.call(e,"index")&&(n.index=e.index,n.input=e.input),n},kj=TR.Uint8Array;var xj=function(e){var t=new e.constructor(e.byteLength);return new kj(t).set(new kj(e)),t};var _j=function(e,t){var n=t?xj(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Sj=/\w*$/;var Ej=function(e){var t=new e.constructor(e.source,Sj.exec(e));return t.lastIndex=e.lastIndex,t},Ij=CR?CR.prototype:void 0,Tj=Ij?Ij.valueOf:void 0;var Cj=function(e){return Tj?Object(Tj.call(e)):{}};var Nj=function(e,t){var n=t?xj(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Oj=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return xj(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return _j(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Nj(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Ej(e);case"[object Symbol]":return Cj(e)}},Aj=Object.create,Dj=function(){function e(){}return function(t){if(!sL(t))return{};if(Aj)return Aj(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Pj=function(e){return"function"!=typeof e.constructor||TM(e)?{}:Dj(UR(e))};var Rj=function(e){return VR(e)&&"[object Map]"==gj(e)},Lj=kM&&kM.isMap,Mj=Lj?mM(Lj):Rj;var jj=function(e){return VR(e)&&"[object Set]"==gj(e)},Fj=kM&&kM.isSet,Uj=Fj?mM(Fj):jj,Vj="[object Arguments]",Bj="[object Function]",zj="[object Object]",qj={};qj[Vj]=qj["[object Array]"]=qj["[object ArrayBuffer]"]=qj["[object DataView]"]=qj["[object Boolean]"]=qj["[object Date]"]=qj["[object Float32Array]"]=qj["[object Float64Array]"]=qj["[object Int8Array]"]=qj["[object Int16Array]"]=qj["[object Int32Array]"]=qj["[object Map]"]=qj["[object Number]"]=qj["[object Object]"]=qj["[object RegExp]"]=qj["[object Set]"]=qj["[object String]"]=qj["[object Symbol]"]=qj["[object Uint8Array]"]=qj["[object Uint8ClampedArray]"]=qj["[object Uint16Array]"]=qj["[object Uint32Array]"]=!0,qj["[object Error]"]=qj[Bj]=qj["[object WeakMap]"]=!1;var Hj=function e(t,n,r,i,a,o){var s,u=1&n,c=2&n,l=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!sL(t))return t;var f=aM(t);if(f){if(s=bj(t),!u)return HM(t,s)}else{var d=gj(t),h=d==Bj||"[object GeneratorFunction]"==d;if(lM(t))return qM(t,u);if(d==zj||d==Vj||h&&!a){if(s=c||h?{}:Pj(t),!u)return c?ZM(t,FM(s,t)):$M(t,PM(s,t))}else{if(!qj[d])return a?t:{};s=Oj(t,d,u)}}o||(o=new WL);var p=o.get(t);if(p)return p;o.set(t,s),Uj(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):Mj(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var v=f?void 0:(l?c?nj:tj:c?jM:DM)(t);return GL(v||t,(function(i,a){v&&(i=t[a=i]),$L(s,a,e(i,n,r,a,t,o))})),s};var Wj=function(e){return Hj(e,4)};var Gj=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Kj=function(e){return"symbol"==typeof e||VR(e)&&"[object Symbol]"==jR(e)};function Yj(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Yj.Cache||zL),n}Yj.Cache=zL;var Qj=Yj;var $j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xj=/\\(\\)?/g,Jj=function(e){var t=Qj(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($j,(function(e,n,r,i){t.push(r?i.replace(Xj,"$1"):n||e)})),t}));var Zj=function(e){if("string"==typeof e||Kj(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},eF=CR?CR.prototype:void 0,tF=eF?eF.toString:void 0;var nF=function e(t){if("string"==typeof t)return t;if(aM(t))return Gj(t,e)+"";if(Kj(t))return tF?tF.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var rF=function(e){return null==e?"":nF(e)};var iF=function(e){return aM(e)?Gj(e,Zj):Kj(e)?[e]:HM(Jj(rF(e)))};var aF=function(e,t){};var oF=function(e){return Hj(e,5)};function sF(){return sF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sF.apply(this,arguments)}function uF(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function cF(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function lF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var fF=function(e){return Array.isArray(e)&&0===e.length},dF=function(e){return"function"===typeof e},hF=function(e){return null!==e&&"object"===typeof e},pF=function(e){return String(Math.floor(Number(e)))===e},vF=function(e){return"[object String]"===Object.prototype.toString.call(e)},mF=function(e){return 0===t.Children.count(e)},yF=function(e){return hF(e)&&dF(e.then)};function gF(e,t,n,r){void 0===r&&(r=0);for(var i=iF(t);e&&r<i.length;)e=e[i[r++]];return void 0===e?n:e}function wF(e,t,n){for(var r=Wj(e),i=r,a=0,o=iF(t);a<o.length-1;a++){var s=o[a],u=gF(e,o.slice(0,a+1));if(u&&(hF(u)||Array.isArray(u)))i=i[s]=Wj(u);else{var c=o[a+1];i=i[s]=pF(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function bF(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],s=e[o];hF(s)?n.get(s)||(n.set(s,!0),r[o]=Array.isArray(s)?[]:{},bF(s,t,n,r[o])):r[o]=t}return r}var kF=(0,t.createContext)(void 0);kF.displayName="FormikContext";var xF=kF.Provider,_F=kF.Consumer;function SF(){var e=(0,t.useContext)(kF);return e||aF(!1),e}function EF(e,t){switch(t.type){case"SET_VALUES":return sF({},e,{values:t.payload});case"SET_TOUCHED":return sF({},e,{touched:t.payload});case"SET_ERRORS":return gR()(e.errors,t.payload)?e:sF({},e,{errors:t.payload});case"SET_STATUS":return sF({},e,{status:t.payload});case"SET_ISSUBMITTING":return sF({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return sF({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return sF({},e,{values:wF(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return sF({},e,{touched:wF(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return sF({},e,{errors:wF(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return sF({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return sF({},e,{touched:bF(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return sF({},e,{isSubmitting:!1});default:return e}}var IF={},TF={};function CF(e){var n=e.validateOnChange,r=void 0===n||n,i=e.validateOnBlur,a=void 0===i||i,o=e.validateOnMount,s=void 0!==o&&o,u=e.isInitialValid,c=e.enableReinitialize,l=void 0!==c&&c,f=e.onSubmit,d=cF(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=sF({validateOnChange:r,validateOnBlur:a,validateOnMount:s,onSubmit:f},d),p=(0,t.useRef)(h.initialValues),v=(0,t.useRef)(h.initialErrors||IF),m=(0,t.useRef)(h.initialTouched||TF),y=(0,t.useRef)(h.initialStatus),g=(0,t.useRef)(!1),w=(0,t.useRef)({});(0,t.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]);var b=(0,t.useReducer)(EF,{values:h.initialValues,errors:h.initialErrors||IF,touched:h.initialTouched||TF,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),k=b[0],x=b[1],_=(0,t.useCallback)((function(e,t){return new Promise((function(n,r){var i=h.validate(e,t);null==i?n(IF):yF(i)?i.then((function(e){n(e||IF)}),(function(e){r(e)})):n(i)}))}),[h.validate]),S=(0,t.useCallback)((function(e,t){var n=h.validationSchema,r=dF(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var i=OF(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){i.then((function(){e(IF)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return wF(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;gF(t,o.path)||(t=wF(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[h.validationSchema]),E=(0,t.useCallback)((function(e,t){return new Promise((function(n){return n(w.current[e].validate(t))}))}),[]),I=(0,t.useCallback)((function(e){var t=Object.keys(w.current).filter((function(e){return dF(w.current[e].validate)})),n=t.length>0?t.map((function(t){return E(t,gF(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=wF(e,t[r],n)),e}),{})}))}),[E]),T=(0,t.useCallback)((function(e){return Promise.all([I(e),h.validationSchema?S(e):{},h.validate?_(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return SR.all([t,n,r],{arrayMerge:AF})}))}),[h.validate,h.validationSchema,I,_,S]),C=PF((function(e){return void 0===e&&(e=k.values),x({type:"SET_ISVALIDATING",payload:!0}),T(e).then((function(e){return g.current&&(x({type:"SET_ISVALIDATING",payload:!1}),x({type:"SET_ERRORS",payload:e})),e}))}));(0,t.useEffect)((function(){s&&!0===g.current&&gR()(p.current,h.initialValues)&&C(p.current)}),[s,C]);var N=(0,t.useCallback)((function(e){var t=e&&e.values?e.values:p.current,n=e&&e.errors?e.errors:v.current?v.current:h.initialErrors||{},r=e&&e.touched?e.touched:m.current?m.current:h.initialTouched||{},i=e&&e.status?e.status:y.current?y.current:h.initialStatus;p.current=t,v.current=n,m.current=r,y.current=i;var a=function(){x({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(h.onReset){var o=h.onReset(k.values,Y);yF(o)?o.then(a):a()}else a()}),[h.initialErrors,h.initialStatus,h.initialTouched]);(0,t.useEffect)((function(){!0!==g.current||gR()(p.current,h.initialValues)||(l&&(p.current=h.initialValues,N()),s&&C(p.current))}),[l,h.initialValues,N,s,C]),(0,t.useEffect)((function(){l&&!0===g.current&&!gR()(v.current,h.initialErrors)&&(v.current=h.initialErrors||IF,x({type:"SET_ERRORS",payload:h.initialErrors||IF}))}),[l,h.initialErrors]),(0,t.useEffect)((function(){l&&!0===g.current&&!gR()(m.current,h.initialTouched)&&(m.current=h.initialTouched||TF,x({type:"SET_TOUCHED",payload:h.initialTouched||TF}))}),[l,h.initialTouched]),(0,t.useEffect)((function(){l&&!0===g.current&&!gR()(y.current,h.initialStatus)&&(y.current=h.initialStatus,x({type:"SET_STATUS",payload:h.initialStatus}))}),[l,h.initialStatus,h.initialTouched]);var O=PF((function(e){if(w.current[e]&&dF(w.current[e].validate)){var t=gF(k.values,e),n=w.current[e].validate(t);return yF(n)?(x({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),x({type:"SET_ISVALIDATING",payload:!1})}))):(x({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return h.validationSchema?(x({type:"SET_ISVALIDATING",payload:!0}),S(k.values,e).then((function(e){return e})).then((function(t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),x({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),A=(0,t.useCallback)((function(e,t){var n=t.validate;w.current[e]={validate:n}}),[]),D=(0,t.useCallback)((function(e){delete w.current[e]}),[]),P=PF((function(e,t){return x({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?C(k.values):Promise.resolve()})),R=(0,t.useCallback)((function(e){x({type:"SET_ERRORS",payload:e})}),[]),L=PF((function(e,t){var n=dF(e)?e(k.values):e;return x({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?C(n):Promise.resolve()})),M=(0,t.useCallback)((function(e,t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),j=PF((function(e,t,n){return x({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?C(wF(k.values,e,t)):Promise.resolve()})),F=(0,t.useCallback)((function(e,t){var n,r=t,i=e;if(!vF(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,s=a.name,u=a.id,c=a.value,l=a.checked,f=(a.outerHTML,a.options),d=a.multiple;r=t||(s||u),i=/number|range/.test(o)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,i=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(gF(k.values,r),l,c):f&&d?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):c}r&&j(r,i)}),[j,k.values]),U=PF((function(e){if(vF(e))return function(t){return F(t,e)};F(e)})),V=PF((function(e,t,n){return void 0===t&&(t=!0),x({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?a:n)?C(k.values):Promise.resolve()})),B=(0,t.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));V(a,!0)}),[V]),z=PF((function(e){if(vF(e))return function(t){return B(t,e)};B(e)})),q=(0,t.useCallback)((function(e){dF(e)?x({type:"SET_FORMIK_STATE",payload:e}):x({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),H=(0,t.useCallback)((function(e){x({type:"SET_STATUS",payload:e})}),[]),W=(0,t.useCallback)((function(e){x({type:"SET_ISSUBMITTING",payload:e})}),[]),G=PF((function(){return x({type:"SUBMIT_ATTEMPT"}),C().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=Q()))return}catch(r){throw r}return Promise.resolve(n).then((function(e){return g.current&&x({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(g.current)throw x({type:"SUBMIT_FAILURE"}),e}))}if(g.current&&(x({type:"SUBMIT_FAILURE"}),t))throw e}))})),K=PF((function(e){e&&e.preventDefault&&dF(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&dF(e.stopPropagation)&&e.stopPropagation(),G().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),Y={resetForm:N,validateForm:C,validateField:O,setErrors:R,setFieldError:M,setFieldTouched:V,setFieldValue:j,setStatus:H,setSubmitting:W,setTouched:P,setValues:L,setFormikState:q,submitForm:G},Q=PF((function(){return f(k.values,Y)})),$=PF((function(e){e&&e.preventDefault&&dF(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&dF(e.stopPropagation)&&e.stopPropagation(),N()})),X=(0,t.useCallback)((function(e){return{value:gF(k.values,e),error:gF(k.errors,e),touched:!!gF(k.touched,e),initialValue:gF(p.current,e),initialTouched:!!gF(m.current,e),initialError:gF(v.current,e)}}),[k.errors,k.touched,k.values]),J=(0,t.useCallback)((function(e){return{setValue:function(t,n){return j(e,t,n)},setTouched:function(t,n){return V(e,t,n)},setError:function(t){return M(e,t)}}}),[j,V,M]),Z=(0,t.useCallback)((function(e){var t=hF(e),n=t?e.name:e,r=gF(k.values,n),i={name:n,value:r,onChange:U,onBlur:z};if(t){var a=e.type,o=e.value,s=e.as,u=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===s&&u&&(i.value=i.value||[],i.multiple=!0)}return i}),[z,U,k.values]),ee=(0,t.useMemo)((function(){return!gR()(p.current,k.values)}),[p.current,k.values]),te=(0,t.useMemo)((function(){return"undefined"!==typeof u?ee?k.errors&&0===Object.keys(k.errors).length:!1!==u&&dF(u)?u(h):u:k.errors&&0===Object.keys(k.errors).length}),[u,ee,k.errors,h]);return sF({},k,{initialValues:p.current,initialErrors:v.current,initialTouched:m.current,initialStatus:y.current,handleBlur:z,handleChange:U,handleReset:$,handleSubmit:K,resetForm:N,setErrors:R,setFormikState:q,setFieldTouched:V,setFieldValue:j,setFieldError:M,setStatus:H,setSubmitting:W,setTouched:P,setValues:L,submitForm:G,validateForm:C,validateField:O,isValid:te,dirty:ee,unregisterField:D,registerField:A,getFieldProps:Z,getFieldMeta:X,getFieldHelpers:J,validateOnBlur:a,validateOnChange:r,validateOnMount:s})}function NF(e){var n=CF(e),r=e.component,i=e.children,a=e.render,o=e.innerRef;return(0,t.useImperativeHandle)(o,(function(){return n})),(0,t.createElement)(xF,{value:n},r?(0,t.createElement)(r,n):a?a(n):i?dF(i)?i(n):mF(i)?null:t.Children.only(i):null)}function OF(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||GR(e)?OF(e):""!==e?e:void 0})):GR(e[r])?t[r]=OF(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function AF(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?SR(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=SR(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var DF="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;function PF(e){var n=(0,t.useRef)(e);return DF((function(){n.current=e})),(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(void 0,t)}),[])}function RF(e){var n=e.validate,r=e.name,i=e.render,a=e.children,o=e.as,s=e.component,u=cF(e,["validate","name","render","children","as","component"]),c=cF(SF(),["validate","validationSchema"]);var l=c.registerField,f=c.unregisterField;(0,t.useEffect)((function(){return l(r,{validate:n}),function(){f(r)}}),[l,f,r,n]);var d=c.getFieldProps(sF({name:r},u)),h=c.getFieldMeta(r),p={field:d,form:c};if(i)return i(sF({},p,{meta:h}));if(dF(a))return a(sF({},p,{meta:h}));if(s){if("string"===typeof s){var v=u.innerRef,m=cF(u,["innerRef"]);return(0,t.createElement)(s,sF({ref:v},d,m),a)}return(0,t.createElement)(s,sF({field:d,form:c},u),a)}var y=o||"input";if("string"===typeof y){var g=u.innerRef,w=cF(u,["innerRef"]);return(0,t.createElement)(y,sF({ref:g},d,w),a)}return(0,t.createElement)(y,sF({},d,u),a)}var LF=(0,t.forwardRef)((function(e,n){var r=e.action,i=cF(e,["action"]),a=null!=r?r:"#",o=SF(),s=o.handleReset,u=o.handleSubmit;return(0,t.createElement)("form",Object.assign({onSubmit:u,ref:n,onReset:s,action:a},i))}));function MF(e){var n=function(n){return(0,t.createElement)(_F,null,(function(r){return r||aF(!1),(0,t.createElement)(e,Object.assign({},n,{formik:r}))}))},r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return n.WrappedComponent=e,n.displayName="FormikConnect("+r+")",g()(n,e)}LF.displayName="Form";var jF=function(e,t,n){var r=FF(e);return r.splice(t,0,n),r},FF=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(sF({},e,{length:t+1}))}return[]},UF=function(e){function n(t){var n;return(n=e.call(this,t)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i="function"===typeof r?r:e,o="function"===typeof t?t:e,s=wF(n.values,a,e(gF(n.values,a))),u=r?i(gF(n.errors,a)):void 0,c=t?o(gF(n.touched,a)):void 0;return fF(u)&&(u=void 0),fF(c)&&(c=void 0),sF({},n,{values:s,errors:r?wF(n.errors,a,u):n.errors,touched:t?wF(n.touched,a,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(FF(t),[oF(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=FF(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=FF(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return jF(n,e,t)}),(function(t){return jF(t,e,null)}),(function(t){return jF(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=FF(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(lF(n)),n.pop=n.pop.bind(lF(n)),n}uF(n,e);var r=n.prototype;return r.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!gR()(gF(e.formik.values,e.name),gF(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?FF(n):[];return t||(t=r[e]),dF(r.splice)&&r.splice(e,1),r}),!0,!0),t},r.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},r.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},n=this.props,r=n.component,i=n.render,a=n.children,o=n.name,s=sF({},e,{form:cF(n.formik,["validate","validationSchema"]),name:o});return r?(0,t.createElement)(r,s):i?i(s):a?"function"===typeof a?a(s):mF(a)?null:t.Children.only(a):null},n}(t.Component);UF.defaultProps={validateOnChange:!0};var VF=MF(UF),BF=(t.Component,t.Component,{NEW_GIFT:{name:"",description:"",images:[],url:"",price:"",createdAt:(new Date).getTime(),updatedAt:(new Date).getTime()}}),zF=n.p+"static/media/gift.d5409f1f04bac26cf7bc.jpg",qF=n(2426),HF=n.n(qF),WF=function(e){var t=new Date(e),n=new Date,r=Math.floor((n-t)/1e3);return r<=1?"justo ahora":r<20?"hace "+r+" segundos":r<40?"hace medio minuto":r<60?"hace menos de un minuto":r<=90?"hace un minuto":r<=3540?"hace "+Math.round(r/60)+" minutos":r<=5400?"hace 1 hora":r<=86400?"hace "+Math.round(r/3600)+" horas":r<=129600?"hace un d\xeda":r<604800?"hace "+Math.round(r/86400)+" d\xedas":r<=777600?"hace 1 semana":HF()(t.toString()).format("DD-MM-YYYY")},GF=n(8086),KF=n.n(GF),YF=function(e){var t=e.gift,n=e.handleDelete,r=e.handleUpdate,i=t.name,a=(t.url,t.price),o=(t.images,t.createdAt),s=(t.updatedAt,KF()(TT())),u=Intl.NumberFormat("es-ES");return(0,GT.jsx)("div",{className:"col",children:(0,GT.jsxs)("div",{className:"card h-100 shadow",children:[n&&(0,GT.jsx)("div",{className:"card-header d-flex justify-content-end",children:(0,GT.jsx)(wD,{placement:"bottom",delay:{show:50,hide:300},overlay:(0,GT.jsx)(xD,{children:"Eliminar"}),children:(0,GT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 320 512",role:"button",onClick:n,children:(0,GT.jsx)("path",{d:"M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"})})})}),(0,GT.jsx)("img",{src:zF,className:"card-img-top",alt:"gift"}),(0,GT.jsxs)("div",{className:"card-body w-100 py-0 pt-1",onClick:function(){s.fire({showConfirmButton:!1,html:(0,GT.jsx)(NF,{initialValues:t,onSubmit:function(e){r(e),TT().fire({timer:1e3,timerProgressBar:!0,title:"Regalo guardado",icon:"success"})},children:function(e){var t=e.values;return(0,GT.jsxs)(LF,{className:"container my-3 rounded border border-dark py-4 px-5",children:[(0,GT.jsx)("div",{className:"row",style:{height:"50px"},children:(0,GT.jsx)(RF,{type:"text",name:"name",className:"text-center input-title",placeholder:"Regalo",maxLength:50,required:!0})}),(0,GT.jsx)("div",{className:"row",style:{marginTop:"10px"},children:(0,GT.jsx)(RF,{component:"textarea",className:"w-100 input py-1",name:"description",placeholder:"Descripci\xf3n max. 200 caracteres",maxLength:200})}),(0,GT.jsx)("div",{className:"row",children:(0,GT.jsx)("div",{className:"d-flex justify-content-end",children:(0,GT.jsxs)("span",{style:{fontSize:"10px"},children:[t.description.length,"/200"]})})}),(0,GT.jsx)("div",{className:"row",children:(0,GT.jsx)(RF,{type:"url",className:"w-100 input py-1",name:"url",placeholder:"URL",maxLength:1024})}),(0,GT.jsx)("div",{className:"row",style:{marginTop:"10px"},children:(0,GT.jsxs)("div",{className:"d-flex px-0",children:[(0,GT.jsx)("span",{className:"input-span px-2",children:"$"}),(0,GT.jsx)(RF,{className:"input w-100",name:"price",placeholder:"Precio",type:"number",pattern:"^\\d+(\\.|\\,)\\d{2}$"})]})}),(0,GT.jsx)("div",{className:"row mt-3",children:(0,GT.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Guardar"})})]})}})})},role:"button",children:[(0,GT.jsx)("h6",{className:"card-title text-center",children:i||"-"}),(0,GT.jsxs)("p",{className:"mb-1",children:[(0,GT.jsx)("span",{children:"$"}),a?u.format(a):"0.00"]})]}),(0,GT.jsx)("div",{className:"card-footer justify-content-center text-muted p-2",children:(0,GT.jsxs)("p",{style:{marginBottom:"0"},children:["Creado, ",(0,GT.jsx)("span",{children:WF(o)})]})})]})})},QF=function(e){var t=e.giftList,n=C(),r=m((function(e){return e.auth})).uid,i=m((function(e){return e.giftLists})).active,a=function(){navigator.clipboard.writeText(function(e,t){return"".concat(window.location.host,"/giftListApp/share/").concat(e,"/").concat(t)}(r,t.id)).then((function(){TT().fire({showConfirmButton:!1,timer:800,timerProgressBar:!0,title:"Enlace copiado al portapapeles",customClass:{title:"modal-title"}})})).catch((function(e){TT().fire({showConfirmButton:!1,timer:800,timerProgressBar:!0,title:"Ha ocurrido un error al copiar el enlace. ".concat(e)})}))};return(0,GT.jsx)(NF,{enableReinitialize:!0,initialValues:vn({},i),onSubmit:function(e){n(MT(e))},children:function(e){var t=e.values;return(0,GT.jsxs)(LF,{id:"form-giftlist",className:"container my-lg-5 mt-sm-4 mt-2 rounded border border-dark py-4 px-4 px-lg-5",children:[(0,GT.jsx)("div",{className:"row",style:{height:"50px"},children:(0,GT.jsx)(RF,{type:"text",name:"title",className:"text-center input-title",maxLength:100})}),(0,GT.jsx)(VF,{name:"gifts",render:function(e){return(0,GT.jsxs)(GT.Fragment,{children:[(0,GT.jsxs)("div",{className:"row",children:[(0,GT.jsx)("div",{className:"col-auto d-flex justify-content-denter align-items-center",children:(0,GT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 512 512",onClick:a,role:"button",children:(0,GT.jsx)("path",{d:"M512 208L320 384H288V288H208c-61.9 0-112 50.1-112 112c0 48 32 80 32 80s-128-48-128-176c0-97.2 78.8-176 176-176H288V32h32L512 208z"})})}),(0,GT.jsx)("h4",{className:"col text-center my-4",children:"Regalos"}),(0,GT.jsx)("div",{className:"col-auto d-flex justify-content-denter align-items-center",children:(0,GT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 448 512",onClick:function(){return e.unshift(vn({},BF.NEW_GIFT))},role:"button",children:(0,GT.jsx)("path",{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"})})})]}),(0,GT.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4 card-deck",children:t.gifts.map((function(r,i){return(0,GT.jsx)(YF,{gift:r,handleDelete:function(){e.remove(i)},handleUpdate:function(e){t.gifts[i]=e,n(MT(t))}},i)}))}),(0,GT.jsx)("div",{className:"row mt-5",children:(0,GT.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Guardar"})})]})}})]})}})},$F=function(e){var t=e.giftList,n=t.id,r=t.title,i=t.isPrivate,a=t.createdAt,o=C();return(0,GT.jsx)("div",{className:"col",children:(0,GT.jsxs)("div",{className:"card h-100 shadow",children:[(0,GT.jsx)("div",{className:"card-header d-flex justify-content-end",children:(0,GT.jsx)(wD,{placement:"bottom",delay:{show:50,hide:300},overlay:(0,GT.jsx)(xD,{children:"Eliminar"}),children:(0,GT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 320 512",role:"button",onClick:function(){o(function(e){return function(){var t=D(O().mark((function t(n,r){var i;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r().auth.uid,t.next=3,xT.doc("".concat(i,"/giftLists/lists/").concat(e)).delete();case 3:n(FT(e));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(n))},children:(0,GT.jsx)("path",{d:"M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"})})})}),(0,GT.jsxs)("div",{className:"card-body w-100",onClick:function(){o(RT(n,t))},children:[(0,GT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",className:"bi bi-gift",viewBox:"0 0 16 16",children:(0,GT.jsx)("path",{d:"M3 2.5a2.5 2.5 0 0 1 5 0 2.5 2.5 0 0 1 5 0v.006c0 .07 0 .27-.038.494H15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 14.5V7a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h2.038A2.968 2.968 0 0 1 3 2.506V2.5zm1.068.5H7v-.5a1.5 1.5 0 1 0-3 0c0 .085.002.274.045.43a.522.522 0 0 0 .023.07zM9 3h2.932a.56.56 0 0 0 .023-.07c.043-.156.045-.345.045-.43a1.5 1.5 0 0 0-3 0V3zM1 4v2h6V4H1zm8 0v2h6V4H9zm5 3H9v8h4.5a.5.5 0 0 0 .5-.5V7zm-7 8V7H2v7.5a.5.5 0 0 0 .5.5H7z"})}),(0,GT.jsx)("h6",{className:"card-title",children:r})]}),(0,GT.jsxs)("div",{className:"card-footer text-muted",children:[(0,GT.jsxs)("p",{style:{marginBottom:"0"},children:["Creada, ",(0,GT.jsx)("span",{children:WF(a).toString()})]}),i?(0,GT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"16",height:"16",className:"card-icon",children:(0,GT.jsx)("path",{d:"M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z"})}):(0,GT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"16",height:"16",className:"card-icon",children:(0,GT.jsx)("path",{d:"M266.3 48.3L232.5 73.6c-5.4 4-8.5 10.4-8.5 17.1v9.1c0 6.8 5.5 12.3 12.3 12s.3c2.4 0 4.8-.7 6.8-2.1l41.8-27.9c2-1.3 4.4-2.1 6.8-2.1h1c6.2 0 11.3 5.1 11.3 11.3c0 3-1.2 5.9-3.3 8l-19.9 19.9c-5.8 5.8-12.9 10.2-20.7 12.8l-26.5 8.8c-5.8 1.9-9.6 7.3-9.6 13.4c0 3.7-1.5 7.3-4.1 10l-17.9 17.9c-6.4 6.4-9.9 15-9.9 24v4.3c0 16.4 13.6 29.7 29.9 29.7c11 0 21.2-6.2 26.1-16l4-8.1c2.4-4.8 7.4-7.9 12.8-7.9c4.5 0 8.7 2.1 11.4 5.7l16.3 21.7c2.1 2.9 5.5 4.5 9.1 4.5c8.4 0 13.9-8.9 10.1-16.4l-1.1-2.3c-3.5-7 0-15.5 7.5-18l21.2-7.1c7.6-2.5 12.7-9.6 12.7-17.6c0-10.3 8.3-18.6 18.6-18.6H400c8.8 0 16 7.2 16 16s-7.2 16-16 16H379.3c-7.2 0-14.2 2.9-19.3 8l-4.7 4.7c-2.1 2.1-3.3 5-3.3 8c0 6.2 5.1 11.3 11.3 11.3h11.3c6 0 11.8 2.4 16 6.6l6.5 6.5c1.8 1.8 2.8 4.3 2.8 6.8s-1 5-2.8 6.8l-7.5 7.5C386 262 384 266.9 384 272s2 10 5.7 13.7L408 304c10.2 10.2 24.1 16 38.6 16H454c6.5-20.2 10-41.7 10-64c0-111.4-87.6-202.4-197.7-207.7zm172 307.9c-3.7-2.6-8.2-4.1-13-4.1c-6 0-11.8-2.4-16-6.6L396 332c-7.7-7.7-18-12-28.9-12c-9.7 0-19.2-3.5-26.6-9.8L314 287.4c-11.6-9.9-26.4-15.4-41.6-15.4H251.4c-12.6 0-25 3.7-35.5 10.7L188.5 301c-17.8 11.9-28.5 31.9-28.5 53.3v3.2c0 17 6.7 33.3 18.7 45.3l16 16c8.5 8.5 20 13.3 32 13.3H248c13.3 0 24 10.7 24 24c0 2.5 .4 5 1.1 7.3c71.3-5.8 132.5-47.6 165.2-107.2zM512 256c0 141.4-114.6 256-256 256S0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM187.3 100.7c-6.2-6.2-16.4-6.2-22.6 0l-32 32c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0l32-32c6.2-6.2 6.2-16.4 0-22.6z"})})]})]})})},XF=function(){var e=m((function(e){return e.giftLists})).giftLists,t=m((function(e){return e.ui})).isLoadingGiftList,n=C();return t?(0,GT.jsx)(fN,{message:"Cargando listas de regalo"}):(0,GT.jsxs)("div",{className:"row row-cols-1 row-cols-md-3 g-4 card-deck",children:[(0,GT.jsx)("div",{className:"col",children:(0,GT.jsxs)("div",{className:"card h-100 shadow",onClick:function(){n(function(){var e=D(O().mark((function e(t,n){var r,i,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().auth.uid,i={title:"Nueva lista",isPrivate:!0,createdAt:(new Date).getTime(),updatedAt:(new Date).getTime(),gifts:[]},e.next=4,xT.collection("".concat(r,"/giftLists/lists")).add(i);case 4:a=e.sent,t(RT(a.id,i));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},children:[(0,GT.jsxs)("div",{className:"card-body  w-100",children:[(0,GT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"32",height:"32",children:(0,GT.jsx)("path",{d:"M184.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L39 113c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L39 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM256 96c0-17.7 14.3-32 32-32H512c17.7 0 32 14.3 32 32s-14.3 32-32 32H288c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32H512c17.7 0 32 14.3 32 32s-14.3 32-32 32H288c-17.7 0-32-14.3-32-32zM192 416c0-17.7 14.3-32 32-32H512c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32zM80 464c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48z"})}),(0,GT.jsx)("h6",{className:"card-title",children:"Nueva lista"})]}),(0,GT.jsx)("div",{className:"card-footer text-muted",children:"Crea tu nueva lista"})]})}),e.map((function(e){return(0,GT.jsx)($F,{giftList:e},e.id)}))]})},JF=function(){var e=m((function(e){return e.giftLists})).active;return(0,GT.jsxs)(GT.Fragment,{children:[(0,GT.jsx)(vR,{}),(0,GT.jsx)("div",{children:e?(0,GT.jsx)(QF,{giftList:e}):(0,GT.jsx)(XF,{})})]})},ZF=function(e){var t=e.gift,n=t.name,r=t.description,i=t.url,a=t.price,o=(t.images,t.createdAt),s=KF()(TT()),u=Intl.NumberFormat("es-ES");return(0,GT.jsx)("div",{className:"col",children:(0,GT.jsxs)("div",{className:"card h-100 shadow",children:[(0,GT.jsx)("img",{src:zF,className:"card-img-top",alt:"gift"}),(0,GT.jsxs)("div",{className:"card-body w-100",onClick:function(){s.fire({showConfirmButton:!1,html:(0,GT.jsxs)("div",{className:"container my-3 rounded border border-dark py-4 px-5",children:[(0,GT.jsx)("div",{className:"row",style:{height:"50px"},children:i?(0,GT.jsx)("a",{href:i,children:(0,GT.jsx)("h3",{name:"name",className:"text-center",children:t.name})}):(0,GT.jsx)("h3",{name:"name",className:"text-center",children:t.name})}),r&&(0,GT.jsx)("div",{className:"row",style:{marginTop:"10px"},children:(0,GT.jsx)("p",{className:"w-100 input py-1",name:"description",children:t.description})}),(0,GT.jsx)("div",{className:"row",style:{marginTop:"10px"},children:(0,GT.jsx)("div",{className:"d-flex px-0",children:(0,GT.jsxs)("p",{className:"w-100",name:"price",children:["$",a||"-"]})})})]})})},role:"button",children:[(0,GT.jsx)("h6",{className:"card-title",children:n||"-"}),(0,GT.jsxs)("p",{children:[(0,GT.jsx)("span",{children:"$"}),a?u.format(a):"0.00"]})]}),(0,GT.jsx)("div",{className:"card-footer justify-content-center text-muted p-2",children:(0,GT.jsxs)("p",{style:{marginBottom:"0"},children:["Creado, ",(0,GT.jsx)("span",{children:WF(o)})]})})]})})},eU=function(){var e=function(){var e=t.useContext(je).matches,n=e[e.length-1];return n?n.params:{}}(),n=e.userId,r=e.giftListId,i=j((0,t.useState)(!1),2),a=i[0],o=i[1],s=j((0,t.useState)(),2),u=s[0],c=s[1],l=C();(0,t.useEffect)((function(){var e=function(){var e=D(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PT(r,n);case 2:t=e.sent,c(t),o(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();u||e()}),[]);var f=function(){l(function(e,t,n){return function(){var r=D(O().mark((function r(i,a){var o,s,u;return O().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=a().auth.uid,r.next=3,xT.doc("".concat(o,"/profile")).get();case 3:return s=r.sent,u={user:e,userName:s.data().name,giftList:t,title:n,createdAt:(new Date).getTime()},r.next=7,xT.collection("".concat(o,"/favorites/lists")).add(u);case 7:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}(n,r,u.title))};return a?(0,GT.jsxs)(GT.Fragment,{children:[(0,GT.jsx)(vR,{}),(0,GT.jsxs)("div",{className:"container my-5 rounded border border-dark py-4 px-5",children:[(0,GT.jsx)("div",{className:"row",style:{height:"50px"},children:(0,GT.jsx)("h2",{className:"text-center",children:u.title})}),(0,GT.jsxs)("div",{className:"row",children:[(0,GT.jsx)("h4",{className:"col text-center my-4",children:"Regalos"}),(0,GT.jsx)("div",{className:"col-auto d-flex justify-content-denter align-items-center",children:(0,GT.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",onClick:function(){f()},viewBox:"0 0 512 512",role:"button",children:(0,GT.jsx)("path",{d:"M244 84L255.1 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 0 232.4 0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84C243.1 84 244 84.01 244 84L244 84zM255.1 163.9L210.1 117.1C188.4 96.28 157.6 86.4 127.3 91.44C81.55 99.07 48 138.7 48 185.1V190.9C48 219.1 59.71 246.1 80.34 265.3L256 429.3L431.7 265.3C452.3 246.1 464 219.1 464 190.9V185.1C464 138.7 430.4 99.07 384.7 91.44C354.4 86.4 323.6 96.28 301.9 117.1L255.1 163.9z"})})})]}),(0,GT.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4 card-deck",children:u.gifts.map((function(e,t){return(0,GT.jsx)(ZF,{gift:e},t)}))})]})]}):(0,GT.jsx)(fN,{})},tU=function(){return(0,GT.jsx)(GT.Fragment,{children:(0,GT.jsxs)(tt,{children:[(0,GT.jsx)(Ze,{path:"/share/:userId/:giftListId/",element:(0,GT.jsx)(eU,{})}),(0,GT.jsx)(Ze,{path:"/favorites",element:(0,GT.jsx)(mR,{})}),(0,GT.jsx)(Ze,{path:"/",element:(0,GT.jsx)(JF,{})}),(0,GT.jsx)(Ze,{path:"*",element:(0,GT.jsx)(oN,{})})]})})},nU=function(e){var t=e.component;return e.isLoggedIn?(0,GT.jsx)(t,{}):(0,GT.jsx)(Je,{to:"/login",replace:!0})},rU=function(e){var t=e.component;return e.isLoggedIn?(0,GT.jsx)(Je,{to:"/",replace:!0}):(0,GT.jsx)(t,{})},iU=function(){var e=C(),n=j((0,t.useState)(!1),2),r=n[0],i=n[1],a=j((0,t.useState)(!0),2),o=a[0],s=a[1];return(0,t.useEffect)((function(){Tr.auth().onAuthStateChanged(function(){var t=D(O().mark((function t(n){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!==n&&void 0!==n&&n.uid?(e(NT(n.uid,n.displayName,n.email)),i(!0),e(function(){var e=D(O().mark((function e(t,n){var r,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:vt}),r=n().auth.uid,e.next=4,DT(r);case 4:i=e.sent,t(LT(i)),t({type:mt});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())):i(!1),s(!1);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e,s,i]),o?(0,GT.jsx)(fN,{}):(0,GT.jsx)(st,{basename:"/giftListApp",children:(0,GT.jsxs)(tt,{children:[(0,GT.jsx)(Ze,{path:"/login",element:(0,GT.jsx)(rU,{isLoggedIn:r,component:iN})}),(0,GT.jsx)(Ze,{path:"/register",element:(0,GT.jsx)(rU,{isLoggedIn:r,component:cN})}),(0,GT.jsx)(Ze,{path:"/resetPassword",element:(0,GT.jsx)(rU,{isLoggedIn:r,component:lN})}),(0,GT.jsx)(Ze,{path:"/*",isLoggedIn:r,element:(0,GT.jsx)(nU,{isLoggedIn:r,component:tU}),errorElement:(0,GT.jsx)(aN,{})}),(0,GT.jsx)(Ze,{path:"*",element:(0,GT.jsx)(oN,{}),errorElement:(0,GT.jsx)(aN,{})})]})})};function aU(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function oU(e){return!!e&&!!e[QU]}function sU(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===$U}(e)||Array.isArray(e)||!!e[YU]||!!e.constructor[YU]||pU(e)||vU(e))}function uU(e,t,n){void 0===n&&(n=!1),0===cU(e)?(n?Object.keys:XU)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function cU(e){var t=e[QU];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:pU(e)?2:vU(e)?3:0}function lU(e,t){return 2===cU(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function fU(e,t){return 2===cU(e)?e.get(t):e[t]}function dU(e,t,n){var r=cU(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function hU(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function pU(e){return HU&&e instanceof Map}function vU(e){return WU&&e instanceof Set}function mU(e){return e.o||e.t}function yU(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=JU(e);delete t[QU];for(var n=XU(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function gU(e,t){return void 0===t&&(t=!1),bU(e)||oU(e)||!sU(e)||(cU(e)>1&&(e.set=e.add=e.clear=e.delete=wU),Object.freeze(e),t&&uU(e,(function(e,t){return gU(t,!0)}),!0)),e}function wU(){aU(2)}function bU(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function kU(e){var t=ZU[e];return t||aU(18,e),t}function xU(e,t){ZU[e]||(ZU[e]=t)}function _U(){return zU}function SU(e,t){t&&(kU("Patches"),e.u=[],e.s=[],e.v=t)}function EU(e){IU(e),e.p.forEach(CU),e.p=null}function IU(e){e===zU&&(zU=e.l)}function TU(e){return zU={p:[],l:zU,h:e,m:!0,_:0}}function CU(e){var t=e[QU];0===t.i||1===t.i?t.j():t.O=!0}function NU(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||kU("ES5").S(t,e,r),r?(n[QU].P&&(EU(t),aU(4)),sU(e)&&(e=OU(t,e),t.l||DU(t,e)),t.u&&kU("Patches").M(n[QU].t,e,t.u,t.s)):e=OU(t,n,[]),EU(t),t.u&&t.v(t.u,t.s),e!==KU?e:void 0}function OU(e,t,n){if(bU(t))return t;var r=t[QU];if(!r)return uU(t,(function(i,a){return AU(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return DU(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=yU(r.k):r.o;uU(3===r.i?new Set(i):i,(function(t,a){return AU(e,r,i,t,a,n)})),DU(e,i,!1),n&&e.u&&kU("Patches").R(r,n,e.u,e.s)}return r.o}function AU(e,t,n,r,i,a){if(oU(i)){var o=OU(e,i,a&&t&&3!==t.i&&!lU(t.D,r)?a.concat(r):void 0);if(dU(n,r,o),!oU(o))return;e.m=!1}if(sU(i)&&!bU(i)){if(!e.h.F&&e._<1)return;OU(e,i),t&&t.A.l||DU(e,i)}}function DU(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&gU(t,n)}function PU(e,t){var n=e[QU];return(n?mU(n):e)[t]}function RU(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function LU(e){e.P||(e.P=!0,e.l&&LU(e.l))}function MU(e){e.o||(e.o=yU(e.t))}function jU(e,t,n){var r=pU(t)?kU("MapSet").N(t,n):vU(t)?kU("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:_U(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=eV;n&&(i=[r],a=tV);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):kU("ES5").J(t,n);return(n?n.A:_U()).p.push(r),r}function FU(e){return oU(e)||aU(22,e),function e(t){if(!sU(t))return t;var n,r=t[QU],i=cU(t);if(r){if(!r.P&&(r.i<4||!kU("ES5").K(r)))return r.t;r.I=!0,n=UU(t,i),r.I=!1}else n=UU(t,i);return uU(n,(function(t,i){r&&fU(r.t,t)===i||dU(n,t,e(i))})),3===i?new Set(n):n}(e)}function UU(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return yU(e)}function VU(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[QU];return eV.get(t,e)},set:function(t){var n=this[QU];eV.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][QU];if(!i.P)switch(i.i){case 5:r(i)&&LU(i);break;case 4:n(i)&&LU(i)}}}function n(e){for(var t=e.t,n=e.k,r=XU(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==QU){var o=t[a];if(void 0===o&&!lU(t,a))return!0;var s=n[a],u=s&&s[QU];if(u?u.t!==o:!hU(s,o))return!0}}var c=!!t[QU];return r.length!==XU(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};xU("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=JU(n);delete a[QU];for(var o=XU(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:_U(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,QU,{value:a,writable:!0}),i},S:function(e,n,i){i?oU(n)&&n[QU].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[QU];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)uU(a,(function(t){t!==QU&&(void 0!==i[t]||lU(i,t)?o[t]||e(a[t]):(o[t]=!0,LU(n)))})),uU(i,(function(e){void 0!==a[e]||lU(a,e)||(o[e]=!1,LU(n))}));else if(5===s){if(r(n)&&(LU(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var BU,zU,qU="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),HU="undefined"!=typeof Map,WU="undefined"!=typeof Set,GU="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,KU=qU?Symbol.for("immer-nothing"):((BU={})["immer-nothing"]=!0,BU),YU=qU?Symbol.for("immer-draftable"):"__$immer_draftable",QU=qU?Symbol.for("immer-state"):"__$immer_state",$U=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),XU="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,JU=Object.getOwnPropertyDescriptors||function(e){var t={};return XU(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ZU={},eV={get:function(e,t){if(t===QU)return e;var n=mU(e);if(!lU(n,t))return function(e,t,n){var r,i=RU(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!sU(r)?r:r===PU(e.t,t)?(MU(e),e.o[t]=jU(e.A.h,r,e)):r},has:function(e,t){return t in mU(e)},ownKeys:function(e){return Reflect.ownKeys(mU(e))},set:function(e,t,n){var r=RU(mU(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=PU(mU(e),t),a=null==i?void 0:i[QU];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(hU(n,i)&&(void 0!==n||lU(e.t,t)))return!0;MU(e),LU(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==PU(e.t,t)||t in e.t?(e.D[t]=!1,MU(e),LU(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=mU(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){aU(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){aU(12)}},tV={};uU(eV,(function(e,t){tV[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),tV.deleteProperty=function(e,t){return tV.set.call(this,e,t,void 0)},tV.set=function(e,t,n){return eV.set.call(this,e[0],t,n,e[0])};var nV=function(){function e(e){var t=this;this.g=GU,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&aU(6),void 0!==r&&"function"!=typeof r&&aU(7),sU(e)){var s=TU(t),u=jU(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?EU(s):IU(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return SU(s,r),NU(e,s)}),(function(e){throw EU(s),e})):(SU(s,r),NU(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===KU&&(o=void 0),t.F&&gU(o,!0),r){var l=[],f=[];kU("Patches").M(e,o,l,f),r(l,f)}return o}aU(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){sU(e)||aU(8),oU(e)&&(e=FU(e));var t=TU(this),n=jU(this,e,void 0);return n[QU].C=!0,IU(t),n},t.finishDraft=function(e,t){var n=(e&&e[QU]).A;return SU(n,t),NU(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!GU&&aU(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=kU("Patches").$;return oU(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),rV=new nV;rV.produce,rV.produceWithPatches.bind(rV),rV.setAutoFreeze.bind(rV),rV.setUseProxies.bind(rV),rV.applyPatches.bind(rV),rV.createDraft.bind(rV),rV.finishDraft.bind(rV);function iV(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var aV="function"===typeof Symbol&&Symbol.observable||"@@observable",oV=function(){return Math.random().toString(36).substring(7).split("").join(".")},sV={INIT:"@@redux/INIT"+oV(),REPLACE:"@@redux/REPLACE"+oV(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+oV()}};function uV(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function cV(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(iV(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(iV(1));return n(cV)(e,t)}if("function"!==typeof e)throw new Error(iV(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(iV(3));return a}function f(e){if("function"!==typeof e)throw new Error(iV(4));if(u)throw new Error(iV(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(iV(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function d(e){if(!uV(e))throw new Error(iV(7));if("undefined"===typeof e.type)throw new Error(iV(8));if(u)throw new Error(iV(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(iV(10));i=e,d({type:sV.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(iV(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[aV]=function(){return this},e}return d({type:sV.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:h})[aV]=p,r}function lV(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:sV.INIT}))throw new Error(iV(12));if("undefined"===typeof n(void 0,{type:sV.PROBE_UNKNOWN_ACTION()}))throw new Error(iV(13))}))}(n)}catch(MV){a=MV}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(iV(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function fV(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function dV(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(iV(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=fV.apply(void 0,a)(n.dispatch),vn(vn({},n),{},{dispatch:r})}}}function hV(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var pV=hV();pV.withExtraArgument=hV;var vV=pV,mV=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yV=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},gV=Object.defineProperty,wV=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),bV=Object.prototype.hasOwnProperty,kV=Object.prototype.propertyIsEnumerable,xV=function(e,t,n){return t in e?gV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},_V=function(e,t){for(var n in t||(t={}))bV.call(t,n)&&xV(e,n,t[n]);if(wV)for(var r=0,i=wV(t);r<i.length;r++){n=i[r];kV.call(t,n)&&xV(e,n,t[n])}return e},SV="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?fV:fV.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function EV(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var IV=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return mV(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,yV([void 0],e[0].concat(this)))):new(t.bind.apply(t,yV([void 0],e.concat(this))))},t}(Array);function TV(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new IV);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(vV.withExtraArgument(n.extraArgument)):r.push(vV));0;return r}(e)}}function CV(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return _V(_V({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}Object.assign;var NV="listenerMiddleware";CV(NV+"/add"),CV(NV+"/removeAll"),CV(NV+"/remove");VU();var OV={giftLists:[],favorites:[],active:null},AV={errors:{"auth/user-not-found":"El usuario no existe o las credenciales est\xe1n mal","auth/email-already-in-use":"El correo ya se encuentra en uso","register/name-empty":"El nombre es obligatorio","register/email-invalid":"Correo invalido","register/password-wrong":"Las contrase\xf1as no coinciden","register/password-short":"La debe tener al menos 6 caracteres"}},DV={isLoading:!1,error:null,isAuthenticated:!1,isLoadingGiftList:!1,isLoadingFavoritesGiftLists:!1},PV=lV({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:return{uid:t.payload.uid,name:t.payload.displayName,email:t.payload.email};case lt:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DV,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ft:return vn(vn({},e),{},{error:AV.errors[t.payload]?AV.errors[t.payload]:"Opps! Algo sali\xf3 mal"});case dt:return vn(vn({},e),{},{error:null});case ht:return vn(vn({},e),{},{isLoading:!0});case pt:return vn(vn({},e),{},{isLoading:!1});case vt:return vn(vn({},e),{},{isLoadingGiftList:!0});case mt:return vn(vn({},e),{},{isLoadingGiftList:!1});case yt:return vn(vn({},e),{},{isLoadingFavoritesGiftLists:!0});case gt:return vn(vn({},e),{},{isLoadingFavoritesGiftLists:!1});default:return e}},giftLists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OV,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wt:return[].concat(U(e),[{id:t.id,title:t.title,gifts:t.gifts,isPrivate:t.isPrivate,createdAt:t.createdAt}]);case bt:return vn(vn({},e),{},{giftLists:e.giftLists.filter((function(e){return e.id!==t.payload.id}))});case _t:return vn(vn({},e),{},{active:vn({},t.payload)});case xt:return vn(vn({},e),{},{giftLists:U(t.payload)});case kt:return vn(vn({},e),{},{giftLists:e.giftLists.map((function(e){return e.id===t.payload.id?t.payload.giftList:e}))});case Et:return[].concat(U(e),[{gift:t.gift,user:t.user,createdAt:t.createdAt}]);case St:return vn(vn({},e),{},{favorites:U(t.payload)});default:return e}}}),RV=function(e){var t,n=TV(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,d=r.enhancers,h=void 0===d?void 0:d;if("function"===typeof a)t=a;else{if(!EV(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=lV(a)}var p=s;"function"===typeof p&&(p=p(n));var v=dV.apply(void 0,p),m=fV;c&&(m=SV(_V({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(h)?y=yV([v],h):"function"===typeof h&&(y=h(y)),cV(t,f,m.apply(void 0,y))}({reducer:PV},dV(vV));var LV=function(){return(0,GT.jsx)(x,{store:RV,children:(0,GT.jsx)(iU,{})})};i.createRoot(document.getElementById("root")).render((0,GT.jsx)(t.StrictMode,{children:(0,GT.jsx)(LV,{})}))}()}();
//# sourceMappingURL=main.2b23f871.js.map